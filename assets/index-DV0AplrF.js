import{r as h,a as Dr,b as Ir,R as Fr}from"./vendor-DWvC8KHc.js";import{f as ct,c as Be,u as Ae,g as se,d as $r,P as Ur}from"./redux-K36Rv1rg.js";import{z as ie,F as _r}from"./utils-BQewMbwC.js";import{A as he,m as C,X as qe,D as Ut,T as re,P as rs,H as Br,a as Pt,B as _t,b as qr,G as Vr,S as Ds,M as Hr,Z as zr,W as Gr,c as Is,d as at,U as Fs,e as Fe,R as Wr,f as Kr,g as $e,h as Qr,i as $s,j as Tt,C as Jr,k as bt,l as nt,n as Us,o as Yr,F as _s,p as Bt,E as qt,q as Xr,r as Zr,s as ea,t as Bs,u as ta,v as sa,w as ra,x as aa}from"./ui-d3a09fZh.js";import{R as Vt,L as Ht,C as zt,X as Gt,Y as Wt,T as Kt,a as na,b as Qt,c as ia}from"./charts-Dkn4w6UW.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var qs={exports:{}},dt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oa=h,la=Symbol.for("react.element"),ca=Symbol.for("react.fragment"),da=Object.prototype.hasOwnProperty,ua=oa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ma={key:!0,ref:!0,__self:!0,__source:!0};function Vs(t,s,r){var a,n={},i=null,o=null;r!==void 0&&(i=""+r),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(o=s.ref);for(a in s)da.call(s,a)&&!ma.hasOwnProperty(a)&&(n[a]=s[a]);if(t&&t.defaultProps)for(a in s=t.defaultProps,s)n[a]===void 0&&(n[a]=s[a]);return{$$typeof:la,type:t,key:i,ref:o,props:n,_owner:ua.current}}dt.Fragment=ca;dt.jsx=Vs;dt.jsxs=Vs;qs.exports=dt;var e=qs.exports,At={},as=Dr;At.createRoot=as.createRoot,At.hydrateRoot=as.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ue(){return Ue=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ue.apply(this,arguments)}var ye;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ye||(ye={}));const ns="popstate";function ha(t){t===void 0&&(t={});function s(a,n){let{pathname:i,search:o,hash:l}=a.location;return Et("",{pathname:i,search:o,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(a,n){return typeof n=="string"?n:it(n)}return fa(s,r,null,t)}function K(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Hs(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function pa(){return Math.random().toString(36).substr(2,8)}function is(t,s){return{usr:t.state,key:t.key,idx:s}}function Et(t,s,r,a){return r===void 0&&(r=null),Ue({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?Ee(s):s,{state:r,key:s&&s.key||a||pa()})}function it(t){let{pathname:s="/",search:r="",hash:a=""}=t;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function Ee(t){let s={};if(t){let r=t.indexOf("#");r>=0&&(s.hash=t.substr(r),t=t.substr(0,r));let a=t.indexOf("?");a>=0&&(s.search=t.substr(a),t=t.substr(0,a)),t&&(s.pathname=t)}return s}function fa(t,s,r,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,o=n.history,l=ye.Pop,d=null,u=c();u==null&&(u=0,o.replaceState(Ue({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function m(){l=ye.Pop;let f=c(),A=f==null?null:f-u;u=f,d&&d({action:l,location:y.location,delta:A})}function v(f,A){l=ye.Push;let g=Et(y.location,f,A);u=c()+1;let S=is(g,u),P=y.createHref(g);try{o.pushState(S,"",P)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;n.location.assign(P)}i&&d&&d({action:l,location:y.location,delta:1})}function b(f,A){l=ye.Replace;let g=Et(y.location,f,A);u=c();let S=is(g,u),P=y.createHref(g);o.replaceState(S,"",P),i&&d&&d({action:l,location:y.location,delta:0})}function p(f){let A=n.location.origin!=="null"?n.location.origin:n.location.href,g=typeof f=="string"?f:it(f);return g=g.replace(/ $/,"%20"),K(A,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,A)}let y={get action(){return l},get location(){return t(n,o)},listen(f){if(d)throw new Error("A history only accepts one active listener");return n.addEventListener(ns,m),d=f,()=>{n.removeEventListener(ns,m),d=null}},createHref(f){return s(n,f)},createURL:p,encodeLocation(f){let A=p(f);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:b,go(f){return o.go(f)}};return y}var os;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(os||(os={}));function ga(t,s,r){return r===void 0&&(r="/"),xa(t,s,r)}function xa(t,s,r,a){let n=typeof s=="string"?Ee(s):s,i=Pe(n.pathname||"/",r);if(i==null)return null;let o=zs(t);ya(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let u=Aa(i);l=Pa(o[d],u)}return l}function zs(t,s,r,a){s===void 0&&(s=[]),r===void 0&&(r=[]),a===void 0&&(a="");let n=(i,o,l)=>{let d={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};d.relativePath.startsWith("/")&&(K(d.relativePath.startsWith(a),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(a.length));let u=be([a,d.relativePath]),c=r.concat(d);i.children&&i.children.length>0&&(K(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),zs(i.children,s,c,u)),!(i.path==null&&!i.index)&&s.push({path:u,score:ka(u,i.index),routesMeta:c})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))n(i,o);else for(let d of Gs(i.path))n(i,o,d)}),s}function Gs(t){let s=t.split("/");if(s.length===0)return[];let[r,...a]=s,n=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let o=Gs(a.join("/")),l=[];return l.push(...o.map(d=>d===""?i:[i,d].join("/"))),n&&l.push(...o),l.map(d=>t.startsWith("/")&&d===""?"/":d)}function ya(t){t.sort((s,r)=>s.score!==r.score?r.score-s.score:Ca(s.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const ba=/^:[\w-]+$/,va=3,ja=2,Na=1,wa=10,Sa=-2,ls=t=>t==="*";function ka(t,s){let r=t.split("/"),a=r.length;return r.some(ls)&&(a+=Sa),s&&(a+=ja),r.filter(n=>!ls(n)).reduce((n,i)=>n+(ba.test(i)?va:i===""?Na:wa),a)}function Ca(t,s){return t.length===s.length&&t.slice(0,-1).every((a,n)=>a===s[n])?t[t.length-1]-s[s.length-1]:0}function Pa(t,s,r){let{routesMeta:a}=t,n={},i="/",o=[];for(let l=0;l<a.length;++l){let d=a[l],u=l===a.length-1,c=i==="/"?s:s.slice(i.length)||"/",m=Lt({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},c),v=d.route;if(!m)return null;Object.assign(n,m.params),o.push({params:n,pathname:be([i,m.pathname]),pathnameBase:Ra(be([i,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(i=be([i,m.pathnameBase]))}return o}function Lt(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,a]=Ta(t.path,t.caseSensitive,t.end),n=s.match(r);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:a.reduce((u,c,m)=>{let{paramName:v,isOptional:b}=c;if(v==="*"){let y=l[m]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const p=l[m];return b&&!p?u[v]=void 0:u[v]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function Ta(t,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),Hs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let a=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(a.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,s?void 0:"i"),a]}function Aa(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Hs(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function Pe(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,a=t.charAt(r);return a&&a!=="/"?null:t.slice(r)||"/"}function Ea(t,s){s===void 0&&(s="/");let{pathname:r,search:a="",hash:n=""}=typeof t=="string"?Ee(t):t;return{pathname:r?r.startsWith("/")?r:La(r,s):s,search:Ma(a),hash:Da(n)}}function La(t,s){let r=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function vt(t,s,r,a){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Oa(t){return t.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function Jt(t,s){let r=Oa(t);return s?r.map((a,n)=>n===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function Yt(t,s,r,a){a===void 0&&(a=!1);let n;typeof t=="string"?n=Ee(t):(n=Ue({},t),K(!n.pathname||!n.pathname.includes("?"),vt("?","pathname","search",n)),K(!n.pathname||!n.pathname.includes("#"),vt("#","pathname","hash",n)),K(!n.search||!n.search.includes("#"),vt("#","search","hash",n)));let i=t===""||n.pathname==="",o=i?"/":n.pathname,l;if(o==null)l=r;else{let m=s.length-1;if(!a&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),m-=1;n.pathname=v.join("/")}l=m>=0?s[m]:"/"}let d=Ea(n,l),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(u||c)&&(d.pathname+="/"),d}const be=t=>t.join("/").replace(/\/\/+/g,"/"),Ra=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ma=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Da=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ia(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ws=["post","put","patch","delete"];new Set(Ws);const Fa=["get",...Ws];new Set(Fa);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _e(){return _e=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},_e.apply(this,arguments)}const ut=h.createContext(null),Ks=h.createContext(null),fe=h.createContext(null),mt=h.createContext(null),ge=h.createContext({outlet:null,matches:[],isDataRoute:!1}),Qs=h.createContext(null);function $a(t,s){let{relative:r}=s===void 0?{}:s;Le()||K(!1);let{basename:a,navigator:n}=h.useContext(fe),{hash:i,pathname:o,search:l}=ht(t,{relative:r}),d=o;return a!=="/"&&(d=o==="/"?a:be([a,o])),n.createHref({pathname:d,search:l,hash:i})}function Le(){return h.useContext(mt)!=null}function Ce(){return Le()||K(!1),h.useContext(mt).location}function Js(t){h.useContext(fe).static||h.useLayoutEffect(t)}function Xt(){let{isDataRoute:t}=h.useContext(ge);return t?Ya():Ua()}function Ua(){Le()||K(!1);let t=h.useContext(ut),{basename:s,future:r,navigator:a}=h.useContext(fe),{matches:n}=h.useContext(ge),{pathname:i}=Ce(),o=JSON.stringify(Jt(n,r.v7_relativeSplatPath)),l=h.useRef(!1);return Js(()=>{l.current=!0}),h.useCallback(function(u,c){if(c===void 0&&(c={}),!l.current)return;if(typeof u=="number"){a.go(u);return}let m=Yt(u,JSON.parse(o),i,c.relative==="path");t==null&&s!=="/"&&(m.pathname=m.pathname==="/"?s:be([s,m.pathname])),(c.replace?a.replace:a.push)(m,c.state,c)},[s,a,o,i,t])}function Ys(){let{matches:t}=h.useContext(ge),s=t[t.length-1];return s?s.params:{}}function ht(t,s){let{relative:r}=s===void 0?{}:s,{future:a}=h.useContext(fe),{matches:n}=h.useContext(ge),{pathname:i}=Ce(),o=JSON.stringify(Jt(n,a.v7_relativeSplatPath));return h.useMemo(()=>Yt(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function _a(t,s){return Ba(t,s)}function Ba(t,s,r,a){Le()||K(!1);let{navigator:n}=h.useContext(fe),{matches:i}=h.useContext(ge),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let u=Ce(),c;if(s){var m;let f=typeof s=="string"?Ee(s):s;d==="/"||(m=f.pathname)!=null&&m.startsWith(d)||K(!1),c=f}else c=u;let v=c.pathname||"/",b=v;if(d!=="/"){let f=d.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(f.length).join("/")}let p=ga(t,{pathname:b}),y=Ga(p&&p.map(f=>Object.assign({},f,{params:Object.assign({},l,f.params),pathname:be([d,n.encodeLocation?n.encodeLocation(f.pathname).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?d:be([d,n.encodeLocation?n.encodeLocation(f.pathnameBase).pathname:f.pathnameBase])})),i,r,a);return s&&y?h.createElement(mt.Provider,{value:{location:_e({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ye.Pop}},y):y}function qa(){let t=Ja(),s=Ia(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},s),r?h.createElement("pre",{style:n},r):null,null)}const Va=h.createElement(qa,null);class Ha extends h.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?h.createElement(ge.Provider,{value:this.props.routeContext},h.createElement(Qs.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function za(t){let{routeContext:s,match:r,children:a}=t,n=h.useContext(ut);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(ge.Provider,{value:s},a)}function Ga(t,s,r,a){var n;if(s===void 0&&(s=[]),r===void 0&&(r=null),a===void 0&&(a=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=a)!=null&&i.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(n=r)==null?void 0:n.errors;if(l!=null){let c=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);c>=0||K(!1),o=o.slice(0,Math.min(o.length,c+1))}let d=!1,u=-1;if(r&&a&&a.v7_partialHydration)for(let c=0;c<o.length;c++){let m=o[c];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=c),m.route.id){let{loaderData:v,errors:b}=r,p=m.route.loader&&v[m.route.id]===void 0&&(!b||b[m.route.id]===void 0);if(m.route.lazy||p){d=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,m,v)=>{let b,p=!1,y=null,f=null;r&&(b=l&&m.route.id?l[m.route.id]:void 0,y=m.route.errorElement||Va,d&&(u<0&&v===0?(Xa("route-fallback"),p=!0,f=null):u===v&&(p=!0,f=m.route.hydrateFallbackElement||null)));let A=s.concat(o.slice(0,v+1)),g=()=>{let S;return b?S=y:p?S=f:m.route.Component?S=h.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=c,h.createElement(za,{match:m,routeContext:{outlet:c,matches:A,isDataRoute:r!=null},children:S})};return r&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?h.createElement(Ha,{location:r.location,revalidation:r.revalidation,component:y,error:b,children:g(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):g()},null)}var Xs=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Xs||{}),Zs=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Zs||{});function Wa(t){let s=h.useContext(ut);return s||K(!1),s}function Ka(t){let s=h.useContext(Ks);return s||K(!1),s}function Qa(t){let s=h.useContext(ge);return s||K(!1),s}function er(t){let s=Qa(),r=s.matches[s.matches.length-1];return r.route.id||K(!1),r.route.id}function Ja(){var t;let s=h.useContext(Qs),r=Ka(),a=er();return s!==void 0?s:(t=r.errors)==null?void 0:t[a]}function Ya(){let{router:t}=Wa(Xs.UseNavigateStable),s=er(Zs.UseNavigateStable),r=h.useRef(!1);return Js(()=>{r.current=!0}),h.useCallback(function(n,i){i===void 0&&(i={}),r.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,_e({fromRouteId:s},i)))},[t,s])}const cs={};function Xa(t,s,r){cs[t]||(cs[t]=!0)}function Za(t,s){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ds(t){let{to:s,replace:r,state:a,relative:n}=t;Le()||K(!1);let{future:i,static:o}=h.useContext(fe),{matches:l}=h.useContext(ge),{pathname:d}=Ce(),u=Xt(),c=Yt(s,Jt(l,i.v7_relativeSplatPath),d,n==="path"),m=JSON.stringify(c);return h.useEffect(()=>u(JSON.parse(m),{replace:r,state:a,relative:n}),[u,m,n,r,a]),null}function ce(t){K(!1)}function en(t){let{basename:s="/",children:r=null,location:a,navigationType:n=ye.Pop,navigator:i,static:o=!1,future:l}=t;Le()&&K(!1);let d=s.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:d,navigator:i,static:o,future:_e({v7_relativeSplatPath:!1},l)}),[d,l,i,o]);typeof a=="string"&&(a=Ee(a));let{pathname:c="/",search:m="",hash:v="",state:b=null,key:p="default"}=a,y=h.useMemo(()=>{let f=Pe(c,d);return f==null?null:{location:{pathname:f,search:m,hash:v,state:b,key:p},navigationType:n}},[d,c,m,v,b,p,n]);return y==null?null:h.createElement(fe.Provider,{value:u},h.createElement(mt.Provider,{children:r,value:y}))}function tn(t){let{children:s,location:r}=t;return _a(Ot(s),r)}new Promise(()=>{});function Ot(t,s){s===void 0&&(s=[]);let r=[];return h.Children.forEach(t,(a,n)=>{if(!h.isValidElement(a))return;let i=[...s,n];if(a.type===h.Fragment){r.push.apply(r,Ot(a.props.children,i));return}a.type!==ce&&K(!1),!a.props.index||!a.props.children||K(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=Ot(a.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ot(){return ot=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},ot.apply(this,arguments)}function tr(t,s){if(t==null)return{};var r={},a=Object.keys(t),n,i;for(i=0;i<a.length;i++)n=a[i],!(s.indexOf(n)>=0)&&(r[n]=t[n]);return r}function sn(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rn(t,s){return t.button===0&&(!s||s==="_self")&&!sn(t)}const an=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nn=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],on="6";try{window.__reactRouterVersion=on}catch{}const ln=h.createContext({isTransitioning:!1}),cn="startTransition",us=Ir[cn];function dn(t){let{basename:s,children:r,future:a,window:n}=t,i=h.useRef();i.current==null&&(i.current=ha({window:n,v5Compat:!0}));let o=i.current,[l,d]=h.useState({action:o.action,location:o.location}),{v7_startTransition:u}=a||{},c=h.useCallback(m=>{u&&us?us(()=>d(m)):d(m)},[d,u]);return h.useLayoutEffect(()=>o.listen(c),[o,c]),h.useEffect(()=>Za(a),[a]),h.createElement(en,{basename:s,children:r,location:l.location,navigationType:l.action,navigator:o,future:a})}const un=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xe=h.forwardRef(function(s,r){let{onClick:a,relative:n,reloadDocument:i,replace:o,state:l,target:d,to:u,preventScrollReset:c,viewTransition:m}=s,v=tr(s,an),{basename:b}=h.useContext(fe),p,y=!1;if(typeof u=="string"&&mn.test(u)&&(p=u,un))try{let S=new URL(window.location.href),P=u.startsWith("//")?new URL(S.protocol+u):new URL(u),E=Pe(P.pathname,b);P.origin===S.origin&&E!=null?u=E+P.search+P.hash:y=!0}catch{}let f=$a(u,{relative:n}),A=fn(u,{replace:o,state:l,target:d,preventScrollReset:c,relative:n,viewTransition:m});function g(S){a&&a(S),S.defaultPrevented||A(S)}return h.createElement("a",ot({},v,{href:p||f,onClick:y||i?a:g,ref:r,target:d}))}),hn=h.forwardRef(function(s,r){let{"aria-current":a="page",caseSensitive:n=!1,className:i="",end:o=!1,style:l,to:d,viewTransition:u,children:c}=s,m=tr(s,nn),v=ht(d,{relative:m.relative}),b=Ce(),p=h.useContext(Ks),{navigator:y,basename:f}=h.useContext(fe),A=p!=null&&gn(v)&&u===!0,g=y.encodeLocation?y.encodeLocation(v).pathname:v.pathname,S=b.pathname,P=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(S=S.toLowerCase(),P=P?P.toLowerCase():null,g=g.toLowerCase()),P&&f&&(P=Pe(P,f)||P);const E=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let D=S===g||!o&&S.startsWith(g)&&S.charAt(E)==="/",U=P!=null&&(P===g||!o&&P.startsWith(g)&&P.charAt(g.length)==="/"),T={isActive:D,isPending:U,isTransitioning:A},B=D?a:void 0,w;typeof i=="function"?w=i(T):w=[i,D?"active":null,U?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let j=typeof l=="function"?l(T):l;return h.createElement(xe,ot({},m,{"aria-current":B,className:w,ref:r,style:j,to:d,viewTransition:u}),typeof c=="function"?c(T):c)});var Rt;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Rt||(Rt={}));var ms;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ms||(ms={}));function pn(t){let s=h.useContext(ut);return s||K(!1),s}function fn(t,s){let{target:r,replace:a,state:n,preventScrollReset:i,relative:o,viewTransition:l}=s===void 0?{}:s,d=Xt(),u=Ce(),c=ht(t,{relative:o});return h.useCallback(m=>{if(rn(m,r)){m.preventDefault();let v=a!==void 0?a:it(u)===it(c);d(t,{replace:v,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[u,d,c,a,n,r,t,i,o,l])}function gn(t,s){s===void 0&&(s={});let r=h.useContext(ln);r==null&&K(!1);let{basename:a}=pn(Rt.useViewTransitionState),n=ht(t,{relative:s.relative});if(!r.isTransitioning)return!1;let i=Pe(r.currentLocation.pathname,a)||r.currentLocation.pathname,o=Pe(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Lt(n.pathname,o)!=null||Lt(n.pathname,i)!=null}const xn="modulepreload",yn=function(t){return"/stocky/"+t},hs={},jt=function(s,r,a){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(r.map(d=>{if(d=yn(d),d in hs)return;hs[d]=!0;const u=d.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${c}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":xn,u||(m.as="script"),m.crossOrigin="",m.href=d,l&&m.setAttribute("nonce",l),document.head.appendChild(m),u)return new Promise((v,b)=>{m.addEventListener("load",v),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return s().catch(i)})};class bn{constructor(){this.initializeDefaultData()}initializeDefaultData(){if(!localStorage.getItem("stocky_user")){const s={id:"user_1",name:"Player",email:"player@stocky.app",currentLevel:1,totalPoints:0,achievements:[],preferences:{riskTolerance:"moderate",theme:"light"},createdAt:new Date().toISOString()};localStorage.setItem("stocky_user",JSON.stringify(s))}for(let s=1;s<=5;s++){const r=`stocky_portfolio_level_${s}`;if(!localStorage.getItem(r)){const a={level:s,cash:this.getStartingCash(s),positions:[],transactions:[],performance:{totalValue:this.getStartingCash(s),totalGainLoss:0,totalGainLossPercent:0},completed:!1,createdAt:new Date().toISOString()};localStorage.setItem(r,JSON.stringify(a))}}}getStartingCash(s){return{1:200,2:500,3:1e3,4:5e3,5:1e4}[s]||200}async register(s){const r={id:`user_${Date.now()}`,...s,currentLevel:1,totalPoints:0,achievements:[],createdAt:new Date().toISOString()};return localStorage.setItem("stocky_user",JSON.stringify(r)),{success:!0,user:r}}async login(s){return{success:!0,user:this.getCurrentUser()}}getCurrentUser(){const s=localStorage.getItem("stocky_user");return s?JSON.parse(s):null}async getProfile(){return this.getCurrentUser()}async getPortfolios(){const s=[];for(let r=1;r<=5;r++){const a=await this.getPortfolio(r);a&&s.push(a)}return s}async getPortfolio(s){const r=`stocky_portfolio_level_${s}`,a=localStorage.getItem(r);return a?JSON.parse(a):null}async executeTrade(s,r){const a=await this.getPortfolio(s);if(!a)throw new Error("Portfolio not found");const{type:n,symbol:i,quantity:o,price:l}=r,d=o*l;if(n==="buy"){if(a.cash<d)throw new Error("Insufficient funds");a.cash-=d;const c=a.positions.find(m=>m.symbol===i);if(c){const m=c.quantity+o,v=c.quantity*c.avgPrice+d;c.quantity=m,c.avgPrice=v/m}else a.positions.push({symbol:i,quantity:o,avgPrice:l,currentPrice:l});a.transactions.push({id:`tx_${Date.now()}`,type:"buy",symbol:i,quantity:o,price:l,total:d,timestamp:new Date().toISOString()})}if(n==="sell"){const c=a.positions.find(m=>m.symbol===i);if(!c||c.quantity<o)throw new Error("Insufficient shares");a.cash+=d,c.quantity-=o,c.quantity===0&&(a.positions=a.positions.filter(m=>m.symbol!==i)),a.transactions.push({id:`tx_${Date.now()}`,type:"sell",symbol:i,quantity:o,price:l,total:d,timestamp:new Date().toISOString()})}const u=`stocky_portfolio_level_${s}`;return localStorage.setItem(u,JSON.stringify(a)),{success:!0,portfolio:a}}async getStockQuote(s){return(await jt(()=>Promise.resolve().then(()=>Ct),void 0)).default.getQuote(s)}async searchStocks(s){return(await jt(()=>Promise.resolve().then(()=>Ct),void 0)).default.searchStocks(s)}async getTrendingStocks(){return(await jt(()=>Promise.resolve().then(()=>Ct),void 0)).default.getTrendingStocks()}async getAvailableStocks(s){const r={1:["AAPL","MSFT","GOOGL","TSLA","AMZN"],2:["AAPL","MSFT","GOOGL","TSLA","AMZN","META","NVDA","NFLX","JPM","BAC"],3:["AAPL","MSFT","GOOGL"],4:["AAPL","MSFT","GOOGL"],5:["AAPL","MSFT","GOOGL"]};return r[s]||r[1]}async getUserStats(){const s=this.getCurrentUser(),r=await this.getPortfolios();let a=0,n=0;return r.forEach(i=>{var o,l;a+=((o=i.performance)==null?void 0:o.totalValue)||i.cash,n+=((l=i.performance)==null?void 0:l.totalGainLoss)||0}),{user:s,totalValue:a,totalGainLoss:n,portfolios:r.length}}async updatePreferences(s){const r=this.getCurrentUser();return r&&(r.preferences={...r.preferences,...s},localStorage.setItem("stocky_user",JSON.stringify(r))),{success:!0}}setToken(s){localStorage.setItem("stocky_auth_token",s)}clearToken(){localStorage.removeItem("stocky_auth_token")}isAuthenticated(){return!!this.getCurrentUser()}}const je=new bn,ve={1:{name:"Paper Trader",description:"Master the basics of buying and selling stocks",startingCapital:200,availableStocks:["AAPL","MSFT","GOOGL","TSLA","AMZN"],winCondition:210,features:["buy","sell","portfolio"],requiredTrades:5,icon:"📝"},2:{name:"Market Explorer",description:"Explore different sectors and learn market research",startingCapital:500,availableStocks:25,winCondition:600,features:["buy","sell","portfolio","research","charts"],requiredStocks:3,icon:"🔍"},3:{name:"Strategic Investor",description:"Learn advanced order types and risk management",startingCapital:1e3,availableStocks:100,winCondition:1300,maxLossPercent:15,features:["buy","sell","portfolio","research","charts","limit_orders","stop_loss"],icon:"🎯"},4:{name:"Advanced Trader",description:"Master short selling and margin trading",startingCapital:5e3,availableStocks:500,winCondition:6500,features:["buy","sell","portfolio","research","charts","limit_orders","stop_loss","short_selling","margin"],requiredShortTrades:1,icon:"🚀"},5:{name:"Portfolio Master",description:"Options trading and portfolio optimization",startingCapital:1e4,availableStocks:"unlimited",winCondition:15e3,features:["all","options"],requiredDiversification:5,icon:"👑"}},vn={FIRST_PURCHASE:{id:"first_purchase",name:"First Purchase",description:"Buy your first stock",icon:"🎉",points:100},DIVERSIFIED:{id:"diversified",name:"Diversified",description:"Own stocks in 5+ different sectors",icon:"🌟",points:200},DIAMOND_HANDS:{id:"diamond_hands",name:"Diamond Hands",description:"Hold a stock for 30+ days with 20%+ gain",icon:"💎",points:300},RISK_MANAGER:{id:"risk_manager",name:"Risk Manager",description:"Successfully use stop-loss orders 10 times",icon:"🛡️",points:250},SHORT_SELLER:{id:"short_seller",name:"Short Seller",description:"Complete first successful short trade",icon:"📉",points:400},DAY_TRADER:{id:"day_trader",name:"Day Trader",description:"Complete 10 trades in one day",icon:"⚡",points:300},PROFIT_MASTER:{id:"profit_master",name:"Profit Master",description:"Achieve 50%+ returns in any level",icon:"🏆",points:500},LEVEL_SPEEDRUN:{id:"level_speedrun",name:"Speed Runner",description:"Complete a level in under 1 hour",icon:"🏃",points:350}},Y={YAHOO_FINANCE:{QUOTE:"https://query1.finance.yahoo.com/v8/finance/chart/",SEARCH:"https://query1.finance.yahoo.com/v1/finance/search",NEWS:"https://query1.finance.yahoo.com/v1/finance/search"},FMP:{BASE:"https://financialmodelingprep.com/api/v3",QUOTE:"/quote/",SEARCH:"/search",COMPANY:"/profile/",NEWS:"/stock_news",HISTORICAL:"/historical-price-full/"},ALPHA_VANTAGE:{BASE:"https://www.alphavantage.co/query",QUOTE:"GLOBAL_QUOTE",SEARCH:"SYMBOL_SEARCH",INTRADAY:"TIME_SERIES_INTRADAY",DAILY:"TIME_SERIES_DAILY"},FINNHUB:{BASE:"https://finnhub.io/api/v1",QUOTE:"/quote",PROFILE:"/stock/profile2",CANDLES:"/stock/candle",NEWS:"/company-news",SEARCH:"/search"}},G={USER:"stocky_user",PORTFOLIO:"stocky_portfolio_level",PROGRESS:"stocky_progress",ACHIEVEMENTS:"stocky_achievements",SETTINGS:"stocky_settings",CACHE:"stocky_cache",TUTORIAL:"stocky_tutorial"};class L{static get(s){try{const r=localStorage.getItem(s);return r?JSON.parse(r):null}catch(r){return console.error("Error getting from localStorage:",r),null}}static set(s,r){try{return localStorage.setItem(s,JSON.stringify(r)),!0}catch(a){return console.error("Error setting to localStorage:",a),!1}}static remove(s){try{return localStorage.removeItem(s),!0}catch(r){return console.error("Error removing from localStorage:",r),!1}}static clear(){try{return localStorage.clear(),!0}catch(s){return console.error("Error clearing localStorage:",s),!1}}static getUser(){return this.get(G.USER)||{username:"",avatar:"default",createdAt:Date.now(),currentLevel:1,totalPoints:0,preferences:{theme:"light",soundEffects:!0,animations:!0},stats:{totalTrades:0,successfulTrades:0,totalReturn:0,currentStreak:0,longestStreak:0,daysActive:1}}}static setUser(s){return this.set(G.USER,s)}static getPortfolio(s){return this.get(`${G.PORTFOLIO}${s}`)||{level:s,cash:0,totalValue:0,startingValue:0,positions:[],transactions:[],performance:[]}}static setPortfolio(s,r){return this.set(`${G.PORTFOLIO}${s}`,r)}static getAllPortfolios(){const s={};for(let r=1;r<=5;r++){const a=this.getPortfolio(r);a.startingValue>0&&(s[r]=a)}return s}static getProgress(){return this.get(G.PROGRESS)||{currentLevel:1,levelStartDate:Date.now(),levelsCompleted:[],objectives:[],unlockedFeatures:["buy","sell","portfolio"]}}static setProgress(s){return this.set(G.PROGRESS,s)}static getAchievements(){return this.get(G.ACHIEVEMENTS)||{badges:[],points:0,pointsHistory:[]}}static setAchievements(s){return this.set(G.ACHIEVEMENTS,s)}static getSettings(){return this.get(G.SETTINGS)||{theme:"light",soundEffects:!0,animations:!0,notifications:!0,autoSave:!0}}static setSettings(s){return this.set(G.SETTINGS,s)}static getCache(){return this.get(G.CACHE)||{}}static setCacheItem(s,r,a=5*60*1e3){const n=this.getCache();return n[s]={data:r,timestamp:Date.now(),expiry:Date.now()+a},this.set(G.CACHE,n)}static getCacheItem(s){const r=this.getCache(),a=r[s];return a?Date.now()>a.expiry?(delete r[s],this.set(G.CACHE,r),null):a.data:null}static clearExpiredCache(){const s=this.getCache(),r=Date.now();let a=!1;Object.keys(s).forEach(n=>{r>s[n].expiry&&(delete s[n],a=!0)}),a&&this.set(G.CACHE,s)}static exportData(){const s={user:this.getUser(),portfolios:this.getAllPortfolios(),progress:this.getProgress(),achievements:this.getAchievements(),settings:this.getSettings(),exportDate:new Date().toISOString()};return JSON.stringify(s,null,2)}static importData(s){try{const r=JSON.parse(s);if(!r.user||!r.progress)throw new Error("Invalid data format");return r.user&&this.setUser(r.user),r.portfolios&&Object.entries(r.portfolios).forEach(([a,n])=>{this.setPortfolio(parseInt(a),n)}),r.progress&&this.setProgress(r.progress),r.achievements&&this.setAchievements(r.achievements),r.settings&&this.setSettings(r.settings),{success:!0,message:"Data imported successfully"}}catch(r){return{success:!1,message:r.message}}}static resetUser(){this.remove(G.USER)}static resetPortfolio(s){this.remove(`${G.PORTFOLIO}${s}`)}static resetAllPortfolios(){for(let s=1;s<=5;s++)this.resetPortfolio(s)}static resetProgress(){this.remove(G.PROGRESS)}static resetAchievements(){this.remove(G.ACHIEVEMENTS)}static getTutorialData(){return this.get(G.TUTORIAL)||{hasCompletedTutorial:!1,currentTutorialStep:0,showTutorial:!1,tutorialData:{selectedStock:null,shares:0,purchasePrice:0,simulationSpeed:1,daysPassed:0}}}static setTutorialData(s){return this.set(G.TUTORIAL,s)}static clearTutorialData(){return this.remove(G.TUTORIAL)}static resetAll(){this.resetUser(),this.resetAllPortfolios(),this.resetProgress(),this.resetAchievements(),this.remove(G.SETTINGS),this.remove(G.CACHE),this.remove(G.TUTORIAL)}static getStorageSize(){let s=0;for(let r in localStorage)localStorage.hasOwnProperty(r)&&(s+=localStorage[r].length+r.length);return s}static getStorageSizeFormatted(){const s=this.getStorageSize();return s<1024?s+" bytes":s<1024*1024?(s/1024).toFixed(2)+" KB":(s/(1024*1024)).toFixed(2)+" MB"}}const We={isInitialized:!1,username:"",avatar:"default",createdAt:null,currentLevel:1,totalPoints:0,preferences:{theme:"light",soundEffects:!0,animations:!0,notifications:!0},stats:{totalTrades:0,successfulTrades:0,totalReturn:0,currentStreak:0,longestStreak:0,daysActive:1,lastLogin:null},isOnboarding:!0,loading:!1,error:null},Ye=ct("user/register",async(t,{rejectWithValue:s})=>{try{return(await je.register(t)).user}catch(r){return s(r.message)}}),Xe=ct("user/initializeFromAPI",async(t,{rejectWithValue:s})=>{try{return je.isAuthenticated()?(await je.getProfile()).user:null}catch(r){return s(r.message)}}),sr=Be({name:"user",initialState:We,reducers:{initializeUser:t=>{const s=L.getUser();s.username?(Object.assign(t,s),t.isInitialized=!0,t.isOnboarding=!1):(t.isInitialized=!0,t.isOnboarding=!0)},createUser:(t,s)=>{const{username:r,avatar:a}=s.payload,n={...We,username:r,avatar:a||"default",createdAt:Date.now(),isInitialized:!0,isOnboarding:!1,stats:{...We.stats,lastLogin:Date.now()}};Object.assign(t,n),L.setUser(t)},updateUser:(t,s)=>{Object.assign(t,s.payload),L.setUser(t)},updatePreferences:(t,s)=>{t.preferences={...t.preferences,...s.payload},L.setUser(t)},addPoints:(t,s)=>{var n;const r=s.payload;t.totalPoints+=r;const a=L.getAchievements();a.points+=r,a.pointsHistory.push({source:((n=s.meta)==null?void 0:n.source)||"unknown",amount:r,timestamp:Date.now()}),L.setAchievements(a),L.setUser(t)},updateStats:(t,s)=>{t.stats={...t.stats,...s.payload},L.setUser(t)},incrementTrades:(t,s)=>{const{isSuccessful:r=!1}=s.payload||{};t.stats.totalTrades++,r?(t.stats.successfulTrades++,t.stats.currentStreak++,t.stats.currentStreak>t.stats.longestStreak&&(t.stats.longestStreak=t.stats.currentStreak)):t.stats.currentStreak=0,L.setUser(t)},updateTotalReturn:(t,s)=>{t.stats.totalReturn=s.payload,L.setUser(t)},levelUp:(t,s)=>{const r=s.payload;t.currentLevel=Math.max(t.currentLevel,r),L.setUser(t)},recordLogin:t=>{const s=Date.now(),r=t.stats.lastLogin;(!r||!jn(new Date(r),new Date(s)))&&t.stats.daysActive++,t.stats.lastLogin=s,L.setUser(t)},completeOnboarding:t=>{t.isOnboarding=!1,L.setUser(t)},resetUser:t=>{Object.assign(t,We),L.resetUser()}},extraReducers:t=>{t.addCase(Ye.pending,s=>{s.loading=!0,s.error=null}).addCase(Ye.fulfilled,(s,r)=>{s.loading=!1,r.payload&&(Object.assign(s,r.payload),s.isInitialized=!0,s.isOnboarding=!1)}).addCase(Ye.rejected,(s,r)=>{s.loading=!1,s.error=r.payload}).addCase(Xe.pending,s=>{s.loading=!0,s.error=null}).addCase(Xe.fulfilled,(s,r)=>{s.loading=!1,r.payload?(Object.assign(s,r.payload),s.isInitialized=!0,s.isOnboarding=!1):(s.isInitialized=!0,s.isOnboarding=!0)}).addCase(Xe.rejected,(s,r)=>{s.loading=!1,s.error=r.payload,je.clearToken(),s.isInitialized=!0,s.isOnboarding=!0})}});function jn(t,s){return t.toDateString()===s.toDateString()}const{initializeUser:ps,createUser:Nn,recordLogin:wn,completeOnboarding:fs}=sr.actions,Sn=sr.reducer,R=(t,s=!0)=>t==null?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:s?2:0,maximumFractionDigits:s?2:0}).format(t),Zt=(t,s=2)=>t==null?"0%":`${(t*100).toFixed(s)}%`,Ke=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),de=t=>t>0?"text-success":t<0?"text-danger":"text-gray-600",kn={currentLevel:1,portfolios:{},activePortfolio:{level:1,cash:0,totalValue:0,startingValue:0,positions:[],transactions:[],performance:[]},isLoading:!1,error:null},Nt=ct("portfolio/fetchPortfolio",async(t,{rejectWithValue:s})=>{try{return je.isAuthenticated()?(await je.getPortfolio(t)).data:null}catch(r){return s(r.message)}}),Ze=ct("portfolio/fetchAllPortfolios",async(t,{rejectWithValue:s})=>{try{return je.isAuthenticated()?(await je.getPortfolios()).data:null}catch(r){return s(r.message)}}),rr=Be({name:"portfolio",initialState:kn,reducers:{initializePortfolios:t=>{t.portfolios=L.getAllPortfolios();const s=t.currentLevel;if(t.activePortfolio=L.getPortfolio(s),t.activePortfolio.startingValue===0){const r=ve[s];t.activePortfolio={level:s,cash:r.startingCapital,totalValue:r.startingCapital,startingValue:r.startingCapital,positions:[],transactions:[],performance:[{date:new Date().toISOString().split("T")[0],totalValue:r.startingCapital,dailyReturn:0}]},L.setPortfolio(s,t.activePortfolio),t.portfolios[s]=t.activePortfolio}},setActiveLevel:(t,s)=>{const r=s.payload;if(t.currentLevel=r,t.activePortfolio=L.getPortfolio(r),t.activePortfolio.startingValue===0){const a=ve[r];t.activePortfolio={level:r,cash:a.startingCapital,totalValue:a.startingCapital,startingValue:a.startingCapital,positions:[],transactions:[],performance:[{date:new Date().toISOString().split("T")[0],totalValue:a.startingCapital,dailyReturn:0}]},L.setPortfolio(r,t.activePortfolio),t.portfolios[r]=t.activePortfolio}},setLoading:(t,s)=>{t.isLoading=s.payload},setError:(t,s)=>{t.error=s.payload,t.isLoading=!1},buyStock:(t,s)=>{const{symbol:r,companyName:a,shares:n,price:i,orderType:o="market"}=s.payload,l=n*i;if(t.activePortfolio.cash<l){t.error="Insufficient funds";return}t.activePortfolio.cash-=l;const d=t.activePortfolio.positions.find(c=>c.symbol===r);if(d){const c=d.shares+n,m=d.shares*d.averagePrice+n*i;d.averagePrice=m/c,d.shares=c}else t.activePortfolio.positions.push({symbol:r,companyName:a,shares:n,averagePrice:i,currentPrice:i,purchaseDate:Date.now(),unrealizedGain:0,type:"long"});const u={id:Ke(),symbol:r,type:"buy",shares:n,price:i,timestamp:Date.now(),fee:0,orderType:o};t.activePortfolio.transactions.unshift(u),t.activePortfolio.totalValue=t.activePortfolio.cash+t.activePortfolio.positions.reduce((c,m)=>c+m.shares*m.currentPrice,0),L.setPortfolio(t.currentLevel,t.activePortfolio),t.portfolios[t.currentLevel]={...t.activePortfolio},t.error=null},sellStock:(t,s)=>{const{symbol:r,shares:a,price:n,orderType:i="market"}=s.payload,o=t.activePortfolio.positions.find(u=>u.symbol===r);if(!o||o.shares<a){t.error="Insufficient shares";return}const l=a*n;t.activePortfolio.cash+=l,o.shares-=a,o.shares===0&&(t.activePortfolio.positions=t.activePortfolio.positions.filter(u=>u.symbol!==r));const d={id:Ke(),symbol:r,type:"sell",shares:a,price:n,timestamp:Date.now(),fee:0,orderType:i};t.activePortfolio.transactions.unshift(d),t.activePortfolio.totalValue=t.activePortfolio.cash+t.activePortfolio.positions.reduce((u,c)=>u+c.shares*c.currentPrice,0),L.setPortfolio(t.currentLevel,t.activePortfolio),t.portfolios[t.currentLevel]={...t.activePortfolio},t.error=null},shortSell:(t,s)=>{const{symbol:r,companyName:a,shares:n,price:i}=s.payload,o=n*i;t.activePortfolio.cash+=o;const l=t.activePortfolio.positions.find(u=>u.symbol===r&&u.type==="short");if(l){const u=l.shares+n,c=l.shares*l.averagePrice+n*i;l.averagePrice=c/u,l.shares=u}else t.activePortfolio.positions.push({symbol:r,companyName:a,shares:n,averagePrice:i,currentPrice:i,purchaseDate:Date.now(),unrealizedGain:0,type:"short"});const d={id:Ke(),symbol:r,type:"short_sell",shares:n,price:i,timestamp:Date.now(),fee:0};t.activePortfolio.transactions.unshift(d),L.setPortfolio(t.currentLevel,t.activePortfolio),t.portfolios[t.currentLevel]={...t.activePortfolio},t.error=null},coverShort:(t,s)=>{const{symbol:r,shares:a,price:n}=s.payload,i=t.activePortfolio.positions.find(d=>d.symbol===r&&d.type==="short");if(!i||i.shares<a){t.error="No short position to cover";return}const o=a*n;if(t.activePortfolio.cash<o){t.error="Insufficient funds to cover short";return}t.activePortfolio.cash-=o,i.shares-=a,i.shares===0&&(t.activePortfolio.positions=t.activePortfolio.positions.filter(d=>d!==i));const l={id:Ke(),symbol:r,type:"short_buy",shares:a,price:n,timestamp:Date.now(),fee:0};t.activePortfolio.transactions.unshift(l),L.setPortfolio(t.currentLevel,t.activePortfolio),t.portfolios[t.currentLevel]={...t.activePortfolio},t.error=null},updatePrices:(t,s)=>{const r=s.payload;t.activePortfolio.positions.forEach(a=>{r[a.symbol]&&(a.currentPrice=r[a.symbol].price,a.type==="long"?a.unrealizedGain=(a.currentPrice-a.averagePrice)*a.shares:a.unrealizedGain=(a.averagePrice-a.currentPrice)*a.shares)}),t.activePortfolio.totalValue=t.activePortfolio.cash+t.activePortfolio.positions.reduce((a,n)=>n.type==="long"?a+n.shares*n.currentPrice:a,0),L.setPortfolio(t.currentLevel,t.activePortfolio),t.portfolios[t.currentLevel]={...t.activePortfolio}},addPerformanceData:(t,s)=>{const{date:r,totalValue:a,dailyReturn:n}=s.payload;t.activePortfolio.performance.push({date:r,totalValue:a,dailyReturn:n}),t.activePortfolio.performance.length>365&&(t.activePortfolio.performance=t.activePortfolio.performance.slice(-365)),L.setPortfolio(t.currentLevel,t.activePortfolio),t.portfolios[t.currentLevel]={...t.activePortfolio}},resetPortfolio:(t,s)=>{const r=s.payload||t.currentLevel,a=ve[r],n={level:r,cash:a.startingCapital,totalValue:a.startingCapital,startingValue:a.startingCapital,positions:[],transactions:[],performance:[{date:new Date().toISOString().split("T")[0],totalValue:a.startingCapital,dailyReturn:0}]};r===t.currentLevel&&(t.activePortfolio=n),t.portfolios[r]=n,L.setPortfolio(r,n),t.error=null},clearError:t=>{t.error=null},createCustomPortfolio:(t,s)=>{const{startingCapital:r,level:a="custom"}=s.payload,n={level:a,cash:r,totalValue:r,startingValue:r,positions:[],transactions:[],performance:[{date:new Date().toISOString().split("T")[0],totalValue:r,dailyReturn:0}],isCustom:!0};t.portfolios[a]=n,t.activePortfolio=n,t.currentLevel=a,L.setPortfolio(a,n),t.error=null}},extraReducers:t=>{t.addCase(Nt.pending,s=>{s.isLoading=!0,s.error=null}).addCase(Nt.fulfilled,(s,r)=>{if(s.isLoading=!1,r.payload){const a=r.payload;s.activePortfolio=a,s.portfolios[a.level]=a,s.currentLevel=a.level}}).addCase(Nt.rejected,(s,r)=>{s.isLoading=!1,s.error=r.payload}).addCase(Ze.pending,s=>{s.isLoading=!0,s.error=null}).addCase(Ze.fulfilled,(s,r)=>{if(s.isLoading=!1,r.payload&&r.payload.length>0){const a={};r.payload.forEach(i=>{a[i.level]=i}),s.portfolios=a;const n=r.payload[0];s.activePortfolio=n,s.currentLevel=n.level}}).addCase(Ze.rejected,(s,r)=>{s.isLoading=!1,s.error=r.payload})}}),{initializePortfolios:Ie,buyStock:ar,sellStock:nr,updatePrices:Cn,createCustomPortfolio:Pn}=rr.actions,Tn=rr.reducer,gs={hasCompletedTutorial:!1,currentTutorialStep:0,showTutorial:!1,tutorialData:{selectedStock:null,shares:0,purchasePrice:0,simulationSpeed:1,daysPassed:0}},ir=Be({name:"tutorial",initialState:gs,reducers:{initializeTutorial:t=>{const s=L.getTutorialData();s&&Object.assign(t,s)},startTutorial:t=>{t.showTutorial=!0,t.currentTutorialStep=0,t.hasCompletedTutorial=!1},closeTutorial:t=>{t.showTutorial=!1},nextTutorialStep:t=>{t.currentTutorialStep+=1},previousTutorialStep:t=>{t.currentTutorialStep>0&&(t.currentTutorialStep-=1)},setTutorialStep:(t,s)=>{t.currentTutorialStep=s.payload},updateTutorialData:(t,s)=>{t.tutorialData={...t.tutorialData,...s.payload},L.setTutorialData(t)},completeTutorial:t=>{t.hasCompletedTutorial=!0,t.showTutorial=!1,t.currentTutorialStep=0,L.setTutorialData(t)},resetTutorial:t=>{Object.assign(t,gs),L.clearTutorialData()}}}),{initializeTutorial:An,startTutorial:En,closeTutorial:Ln,completeTutorial:On}=ir.actions,Rn=ir.reducer,or=({isOpen:t,onClose:s})=>{const r=Ae(),[a,n]=h.useState(1e4),[i,o]=h.useState(""),[l,d]=h.useState(!1),u=[1e3,5e3,1e4,25e3,5e4,1e5],c=async b=>{if(b.preventDefault(),!(a<100)){d(!0);try{const p=`custom_${Date.now()}`;r(Pn({startingCapital:a,level:p,name:i||"Custom Portfolio"})),s(),n(1e4),o("")}catch(p){console.error("Error creating custom portfolio:",p)}finally{d(!1)}}},m=b=>{const p=parseFloat(b.target.value)||0;n(Math.max(0,p))},v=b=>{n(b)};return e.jsx(he,{children:t&&e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:s,children:e.jsxs(C.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",onClick:b=>b.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create Custom Portfolio"}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(qe,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:c,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Portfolio Name (Optional)"}),e.jsx("input",{type:"text",value:i,onChange:b=>o(b.target.value),placeholder:"My Custom Portfolio",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-accent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Starting Capital"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"number",min:"100",max:"1000000",step:"100",value:a,onChange:m,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-accent text-lg font-mono",required:!0})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Minimum: ",R(100)]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Quick Presets"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:u.map(b=>e.jsx("button",{type:"button",onClick:()=>v(b),className:`p-2 text-sm rounded-lg border transition-all ${a===b?"border-accent bg-accent text-white":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:R(b)},b))})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(re,{className:"w-4 h-4 text-accent"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Portfolio Preview"})]}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Starting Cash:"}),e.jsx("span",{className:"font-mono",children:R(a)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Available Stocks:"}),e.jsx("span",{children:"All Markets"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Order Types:"}),e.jsx("span",{children:"Market, Limit, Stop-Loss"})]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:l||a<100,className:"flex-1 btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Creating...":"Create Portfolio"})]})]})]})})})},Mn=()=>{const{username:t,totalPoints:s,currentLevel:r}=se(c=>c.user),{activePortfolio:a}=se(c=>c.portfolio),[n,i]=h.useState(!1),o=(a==null?void 0:a.totalValue)||0,l=(a==null?void 0:a.startingValue)||1,d=o-l,u=(o-l)/l*100;return e.jsxs(C.header,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4,ease:"easeOut"},className:"bg-white border-b border-gray-100 px-4 lg:px-6 py-4 sticky top-0 z-40",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"ml-12 lg:ml-0",children:[e.jsxs("h1",{className:"text-lg lg:text-xl font-semibold text-gray-900",children:["Good morning, ",t]}),e.jsxs("p",{className:"text-xs lg:text-sm text-gray-500",children:["Level ",r," • ",s.toLocaleString()," points"]})]}),e.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-6",children:[e.jsxs("button",{onClick:()=>i(!0),className:"hidden lg:flex items-center space-x-2 px-3 py-2 bg-accent text-white rounded-lg hover:bg-accent/90 transition-colors",children:[e.jsx(rs,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Custom Portfolio"})]}),e.jsx("button",{onClick:()=>i(!0),className:"lg:hidden p-2 bg-accent text-white rounded-lg hover:bg-accent/90 transition-colors",children:e.jsx(rs,{className:"w-4 h-4"})}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Portfolio"}),e.jsx("p",{className:"text-sm lg:text-lg font-semibold text-gray-900 font-mono",children:R(o)})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Return"}),e.jsxs("p",{className:`text-sm lg:text-lg font-semibold font-mono ${de(d)}`,children:[u>=0?"+":"",u.toFixed(1),"%"]})]})]})]}),e.jsx(or,{isOpen:n,onClose:()=>i(!1)})]})},Dn=()=>{var l,d,u;const t=Ce(),{currentLevel:s,totalPoints:r}=se(c=>c.user),{activePortfolio:a}=se(c=>c.portfolio),[n,i]=h.useState(!1),o=[{name:"Dashboard",href:"/dashboard",icon:Br},{name:"Portfolio",href:"/portfolio",icon:Pt,badge:((l=a==null?void 0:a.positions)==null?void 0:l.length)||0},{name:"Market",href:"/market",icon:_t},{name:"Trading",href:"/trading",icon:qr},{name:"Education",href:"/education",icon:Vr},{name:"Profile",href:"/profile",icon:Ds}];return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>i(!n),className:"lg:hidden fixed top-4 left-4 z-50 p-2 rounded-lg bg-white border border-gray-200 shadow-lg",children:n?e.jsx(qe,{className:"w-5 h-5 text-gray-600"}):e.jsx(Hr,{className:"w-5 h-5 text-gray-600"})}),e.jsx(he,{children:n&&e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1),className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40"})}),e.jsxs(C.aside,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,ease:"easeOut"},className:`
          fixed left-0 top-0 h-full w-64 bg-white border-r border-gray-200 z-50
          transform transition-transform duration-300 ease-in-out
          ${n?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0
        `,children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-900 flex items-center justify-center",children:e.jsx(zr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Stocky"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Investment Learning"})]})]})}),e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Level ",s]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Active"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mb-2",children:e.jsx(C.div,{initial:{width:0},animate:{width:`${s/5*100}%`},transition:{delay:.3,duration:.6,ease:"easeOut"},className:"bg-gray-900 h-1.5 rounded-full"})}),e.jsxs("div",{className:"text-xs text-gray-500",children:[r.toLocaleString()," points earned"]})]})}),e.jsx("nav",{className:"flex-1 p-4",children:e.jsx("div",{className:"space-y-1",children:o.map((c,m)=>{const v=t.pathname===c.href||c.href!=="/dashboard"&&t.pathname.startsWith(c.href);return e.jsx(C.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1+m*.05,ease:"easeOut"},children:e.jsxs(hn,{to:c.href,onClick:()=>i(!1),className:`
                      group flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium
                      transition-all duration-200 relative
                      ${v?"bg-gray-900 text-white":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}
                    `,children:[e.jsx(c.icon,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{children:c.name}),c.badge!==void 0&&c.badge>0&&e.jsx("span",{className:`
                        ml-auto text-xs px-2 py-0.5 rounded-full font-medium
                        ${v?"bg-white/20 text-white":"bg-gray-100 text-gray-600"}
                      `,children:c.badge})]})},c.name)})})}),e.jsx("div",{className:"p-4 border-t border-gray-100",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Gr,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:"Cash"})]}),e.jsxs("span",{className:"font-mono font-medium text-gray-900",children:["$",((d=a==null?void 0:a.cash)==null?void 0:d.toFixed(0))||"0"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:"Positions"})]}),e.jsx("span",{className:"font-medium text-gray-900",children:((u=a==null?void 0:a.positions)==null?void 0:u.length)||0})]})]})})]})]})},In=()=>{const t=Ae(),[s,r]=h.useState(0),[a,n]=h.useState(""),[i,o]=h.useState("default"),l=[{id:"default",name:"Classic",color:"bg-gray-500",icon:Fs},{id:"bull",name:"Bull",color:"bg-green-500",icon:re},{id:"bear",name:"Bear",color:"bg-red-500",icon:Fe},{id:"rocket",name:"Rocket",color:"bg-blue-500",icon:Wr},{id:"diamond",name:"Diamond",color:"bg-purple-500",icon:Kr},{id:"chart",name:"Trending",color:"bg-orange-500",icon:_t}],d=[{title:"Get Started",subtitle:"Master the art of stock investing through interactive gameplay",content:e.jsxs(C.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center space-y-6",children:[e.jsx(C.div,{animate:{y:[0,-10,0],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"mx-auto w-24 h-24 bg-gradient-primary rounded-2xl flex items-center justify-center",children:e.jsx(Ut,{className:"w-12 h-12 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:"Start Your Journey"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Learn stock investing through fun, interactive gameplay"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-8",children:[e.jsxs(C.div,{whileHover:{scale:1.05},className:"card p-4 text-center",children:[e.jsx(Is,{className:"w-8 h-8 text-primary mx-auto mb-2"}),e.jsx("h3",{className:"font-semibold mb-1",children:"Learn"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Master investing concepts"})]}),e.jsxs(C.div,{whileHover:{scale:1.05},className:"card p-4 text-center",children:[e.jsx(re,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),e.jsx("h3",{className:"font-semibold mb-1",children:"Practice"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Trade with virtual money"})]}),e.jsxs(C.div,{whileHover:{scale:1.05},className:"card p-4 text-center",children:[e.jsx(at,{className:"w-8 h-8 text-accent mx-auto mb-2"}),e.jsx("h3",{className:"font-semibold mb-1",children:"Achieve"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Unlock levels & badges"})]})]})]})},{title:"Create Your Profile",subtitle:"Choose your trading persona",content:e.jsxs(C.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"What should we call you?"}),e.jsx("input",{type:"text",value:a,onChange:b=>n(b.target.value),placeholder:"Enter your username",className:"input-field",maxLength:20})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-4",children:"Pick your avatar"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:l.map(b=>e.jsxs(C.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>o(b.id),className:`p-4 rounded-xl border-2 transition-all ${i===b.id?"border-gray-900 bg-gray-50":"border-gray-200 hover:border-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 ${b.color} rounded-lg mx-auto mb-2 flex items-center justify-center`,children:e.jsx(b.icon,{className:"w-4 h-4 text-white"})}),e.jsx("div",{className:"text-sm font-medium",children:b.name})]},b.id))})]})]})},{title:"How It Works",subtitle:"Your journey through 5 exciting levels",content:e.jsx(C.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},className:"space-y-6",children:e.jsx("div",{className:"grid gap-4",children:[{level:1,title:"Paper Trader",desc:"Learn basics with $200",icon:"📝"},{level:2,title:"Market Explorer",desc:"Explore sectors with $500",icon:"🔍"},{level:3,title:"Strategic Investor",desc:"Master orders with $1,000",icon:"🎯"},{level:4,title:"Advanced Trader",desc:"Short selling with $5,000",icon:"🚀"},{level:5,title:"Portfolio Master",desc:"Options trading with $10,000",icon:"👑"}].map((b,p)=>e.jsxs(C.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:p*.1},className:"flex items-center space-x-4 p-4 bg-gradient-to-r from-gray-50 to-green-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl",children:b.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"font-semibold text-gray-900",children:["Level ",b.level,": ",b.title]}),e.jsx("p",{className:"text-sm text-gray-600",children:b.desc})]}),e.jsx($e,{className:"w-5 h-5 text-primary"})]},b.level))})})},{title:"Safety First!",subtitle:"Important disclaimers",content:e.jsxs(C.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 p-6 rounded-xl border border-orange-200",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Qr,{className:"w-6 h-6 text-orange-600 mt-1"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-orange-800",children:"Educational Purpose Only"}),e.jsxs("ul",{className:"space-y-2 text-sm text-orange-700",children:[e.jsx("li",{children:"• This is a simulation using virtual money only"}),e.jsx("li",{children:"• No real money is involved in any transactions"}),e.jsx("li",{children:"• Market data may be delayed or simulated"}),e.jsx("li",{children:"• Not real investment advice"}),e.jsx("li",{children:"• Always consult financial professionals for real investing"})]})]})]})}),e.jsxs("div",{className:"text-center",children:[e.jsx(C.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},className:"inline-block text-4xl mb-4",children:"🎮"}),e.jsx("p",{className:"text-gray-600",children:"Ready to start your stock market adventure?"})]})]})}],u=()=>{s<d.length-1&&r(s+1)},c=()=>{s>0&&r(s-1)},m=async()=>{if(a.trim())try{console.log("Attempting backend registration..."),await t(Ye({username:a.trim(),avatar:i,email:`${a.trim()}@example.com`,password:"temp123"})).unwrap(),console.log("✅ Backend registration successful"),t(Ie()),t(fs())}catch(b){console.warn("❌ Backend registration failed, using localStorage:",b.message),t(Nn({username:a.trim(),avatar:i})),t(Ie()),t(fs())}},v=()=>s===1?a.trim().length>=2:!0;return e.jsxs("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-20 w-64 h-64 bg-gray-100/50 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-20 right-20 w-64 h-64 bg-green-100/50 rounded-full blur-3xl"})]}),e.jsxs(C.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},className:"relative max-w-4xl w-full",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Step ",s+1," of ",d.length]}),e.jsxs("span",{className:"text-sm font-medium text-primary",children:[Math.round((s+1)/d.length*100),"% Complete"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx(C.div,{initial:{width:0},animate:{width:`${(s+1)/d.length*100}%`},className:"bg-gradient-primary h-2 rounded-full",transition:{duration:.5}})})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 md:p-12 border border-gray-100",children:[e.jsx(he,{mode:"wait",children:e.jsxs(C.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold gradient-text mb-2",children:d[s].title}),e.jsx("p",{className:"text-lg text-gray-600",children:d[s].subtitle})]}),e.jsx("div",{className:"mb-8",children:d[s].content})]},s)}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:c,disabled:s===0,className:`btn-secondary ${s===0?"opacity-50 cursor-not-allowed":""}`,children:"Previous"}),e.jsx("div",{className:"flex space-x-2",children:d.map((b,p)=>e.jsx(C.div,{className:`w-2 h-2 rounded-full ${p===s?"bg-primary":"bg-gray-300"}`,animate:{scale:p===s?1.2:1}},p))}),s<d.length-1?e.jsxs(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,disabled:!v(),className:`btn-primary flex items-center space-x-2 ${v()?"":"opacity-50 cursor-not-allowed"}`,children:[e.jsx("span",{children:"Next"}),e.jsx($s,{className:"w-4 h-4"})]}):e.jsxs(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:m,disabled:!v(),className:`btn-accent flex items-center space-x-2 ${v()?"":"opacity-50 cursor-not-allowed"}`,children:[e.jsx(Tt,{className:"w-4 h-4"}),e.jsx("span",{children:"Start Trading!"})]})]})]})]})]})};function lr(t,s){return function(){return t.apply(s,arguments)}}const{toString:Fn}=Object.prototype,{getPrototypeOf:es}=Object,{iterator:pt,toStringTag:cr}=Symbol,ft=(t=>s=>{const r=Fn.call(s);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ue=t=>(t=t.toLowerCase(),s=>ft(s)===t),gt=t=>s=>typeof s===t,{isArray:Oe}=Array,Te=gt("undefined");function Ve(t){return t!==null&&!Te(t)&&t.constructor!==null&&!Te(t.constructor)&&ae(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const dr=ue("ArrayBuffer");function $n(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&dr(t.buffer),s}const Un=gt("string"),ae=gt("function"),ur=gt("number"),He=t=>t!==null&&typeof t=="object",_n=t=>t===!0||t===!1,et=t=>{if(ft(t)!=="object")return!1;const s=es(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(cr in t)&&!(pt in t)},Bn=t=>{if(!He(t)||Ve(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},qn=ue("Date"),Vn=ue("File"),Hn=ue("Blob"),zn=ue("FileList"),Gn=t=>He(t)&&ae(t.pipe),Wn=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||ae(t.append)&&((s=ft(t))==="formdata"||s==="object"&&ae(t.toString)&&t.toString()==="[object FormData]"))},Kn=ue("URLSearchParams"),[Qn,Jn,Yn,Xn]=["ReadableStream","Request","Response","Headers"].map(ue),Zn=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ze(t,s,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let a,n;if(typeof t!="object"&&(t=[t]),Oe(t))for(a=0,n=t.length;a<n;a++)s.call(null,t[a],a,t);else{if(Ve(t))return;const i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(a=0;a<o;a++)l=i[a],s.call(null,t[l],l,t)}}function mr(t,s){if(Ve(t))return null;s=s.toLowerCase();const r=Object.keys(t);let a=r.length,n;for(;a-- >0;)if(n=r[a],s===n.toLowerCase())return n;return null}const Ne=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,hr=t=>!Te(t)&&t!==Ne;function Mt(){const{caseless:t,skipUndefined:s}=hr(this)&&this||{},r={},a=(n,i)=>{const o=t&&mr(r,i)||i;et(r[o])&&et(n)?r[o]=Mt(r[o],n):et(n)?r[o]=Mt({},n):Oe(n)?r[o]=n.slice():(!s||!Te(n))&&(r[o]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&ze(arguments[n],a);return r}const ei=(t,s,r,{allOwnKeys:a}={})=>(ze(s,(n,i)=>{r&&ae(n)?t[i]=lr(n,r):t[i]=n},{allOwnKeys:a}),t),ti=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),si=(t,s,r,a)=>{t.prototype=Object.create(s.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),r&&Object.assign(t.prototype,r)},ri=(t,s,r,a)=>{let n,i,o;const l={};if(s=s||{},t==null)return s;do{for(n=Object.getOwnPropertyNames(t),i=n.length;i-- >0;)o=n[i],(!a||a(o,t,s))&&!l[o]&&(s[o]=t[o],l[o]=!0);t=r!==!1&&es(t)}while(t&&(!r||r(t,s))&&t!==Object.prototype);return s},ai=(t,s,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=s.length;const a=t.indexOf(s,r);return a!==-1&&a===r},ni=t=>{if(!t)return null;if(Oe(t))return t;let s=t.length;if(!ur(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=t[s];return r},ii=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&es(Uint8Array)),oi=(t,s)=>{const a=(t&&t[pt]).call(t);let n;for(;(n=a.next())&&!n.done;){const i=n.value;s.call(t,i[0],i[1])}},li=(t,s)=>{let r;const a=[];for(;(r=t.exec(s))!==null;)a.push(r);return a},ci=ue("HTMLFormElement"),di=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,n){return a.toUpperCase()+n}),xs=(({hasOwnProperty:t})=>(s,r)=>t.call(s,r))(Object.prototype),ui=ue("RegExp"),pr=(t,s)=>{const r=Object.getOwnPropertyDescriptors(t),a={};ze(r,(n,i)=>{let o;(o=s(n,i,t))!==!1&&(a[i]=o||n)}),Object.defineProperties(t,a)},mi=t=>{pr(t,(s,r)=>{if(ae(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=t[r];if(ae(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},hi=(t,s)=>{const r={},a=n=>{n.forEach(i=>{r[i]=!0})};return Oe(t)?a(t):a(String(t).split(s)),r},pi=()=>{},fi=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function gi(t){return!!(t&&ae(t.append)&&t[cr]==="FormData"&&t[pt])}const xi=t=>{const s=new Array(10),r=(a,n)=>{if(He(a)){if(s.indexOf(a)>=0)return;if(Ve(a))return a;if(!("toJSON"in a)){s[n]=a;const i=Oe(a)?[]:{};return ze(a,(o,l)=>{const d=r(o,n+1);!Te(d)&&(i[l]=d)}),s[n]=void 0,i}}return a};return r(t,0)},yi=ue("AsyncFunction"),bi=t=>t&&(He(t)||ae(t))&&ae(t.then)&&ae(t.catch),fr=((t,s)=>t?setImmediate:s?((r,a)=>(Ne.addEventListener("message",({source:n,data:i})=>{n===Ne&&i===r&&a.length&&a.shift()()},!1),n=>{a.push(n),Ne.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ae(Ne.postMessage)),vi=typeof queueMicrotask<"u"?queueMicrotask.bind(Ne):typeof process<"u"&&process.nextTick||fr,ji=t=>t!=null&&ae(t[pt]),x={isArray:Oe,isArrayBuffer:dr,isBuffer:Ve,isFormData:Wn,isArrayBufferView:$n,isString:Un,isNumber:ur,isBoolean:_n,isObject:He,isPlainObject:et,isEmptyObject:Bn,isReadableStream:Qn,isRequest:Jn,isResponse:Yn,isHeaders:Xn,isUndefined:Te,isDate:qn,isFile:Vn,isBlob:Hn,isRegExp:ui,isFunction:ae,isStream:Gn,isURLSearchParams:Kn,isTypedArray:ii,isFileList:zn,forEach:ze,merge:Mt,extend:ei,trim:Zn,stripBOM:ti,inherits:si,toFlatObject:ri,kindOf:ft,kindOfTest:ue,endsWith:ai,toArray:ni,forEachEntry:oi,matchAll:li,isHTMLForm:ci,hasOwnProperty:xs,hasOwnProp:xs,reduceDescriptors:pr,freezeMethods:mi,toObjectSet:hi,toCamelCase:di,noop:pi,toFiniteNumber:fi,findKey:mr,global:Ne,isContextDefined:hr,isSpecCompliantForm:gi,toJSONObject:xi,isAsyncFn:yi,isThenable:bi,setImmediate:fr,asap:vi,isIterable:ji};function F(t,s,r,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}x.inherits(F,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:x.toJSONObject(this.config),code:this.code,status:this.status}}});const gr=F.prototype,xr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{xr[t]={value:t}});Object.defineProperties(F,xr);Object.defineProperty(gr,"isAxiosError",{value:!0});F.from=(t,s,r,a,n,i)=>{const o=Object.create(gr);x.toFlatObject(t,o,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const l=t&&t.message?t.message:"Error",d=s==null&&t?t.code:s;return F.call(o,l,d,r,a,n),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",i&&Object.assign(o,i),o};const Ni=null;function Dt(t){return x.isPlainObject(t)||x.isArray(t)}function yr(t){return x.endsWith(t,"[]")?t.slice(0,-2):t}function ys(t,s,r){return t?t.concat(s).map(function(n,i){return n=yr(n),!r&&i?"["+n+"]":n}).join(r?".":""):s}function wi(t){return x.isArray(t)&&!t.some(Dt)}const Si=x.toFlatObject(x,{},null,function(s){return/^is[A-Z]/.test(s)});function xt(t,s,r){if(!x.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,r=x.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,f){return!x.isUndefined(f[y])});const a=r.metaTokens,n=r.visitor||c,i=r.dots,o=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&x.isSpecCompliantForm(s);if(!x.isFunction(n))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(x.isDate(p))return p.toISOString();if(x.isBoolean(p))return p.toString();if(!d&&x.isBlob(p))throw new F("Blob is not supported. Use a Buffer instead.");return x.isArrayBuffer(p)||x.isTypedArray(p)?d&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,y,f){let A=p;if(p&&!f&&typeof p=="object"){if(x.endsWith(y,"{}"))y=a?y:y.slice(0,-2),p=JSON.stringify(p);else if(x.isArray(p)&&wi(p)||(x.isFileList(p)||x.endsWith(y,"[]"))&&(A=x.toArray(p)))return y=yr(y),A.forEach(function(S,P){!(x.isUndefined(S)||S===null)&&s.append(o===!0?ys([y],P,i):o===null?y:y+"[]",u(S))}),!1}return Dt(p)?!0:(s.append(ys(f,y,i),u(p)),!1)}const m=[],v=Object.assign(Si,{defaultVisitor:c,convertValue:u,isVisitable:Dt});function b(p,y){if(!x.isUndefined(p)){if(m.indexOf(p)!==-1)throw Error("Circular reference detected in "+y.join("."));m.push(p),x.forEach(p,function(A,g){(!(x.isUndefined(A)||A===null)&&n.call(s,A,x.isString(g)?g.trim():g,y,v))===!0&&b(A,y?y.concat(g):[g])}),m.pop()}}if(!x.isObject(t))throw new TypeError("data must be an object");return b(t),s}function bs(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function ts(t,s){this._pairs=[],t&&xt(t,this,s)}const br=ts.prototype;br.append=function(s,r){this._pairs.push([s,r])};br.toString=function(s){const r=s?function(a){return s.call(this,a,bs)}:bs;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function ki(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function vr(t,s,r){if(!s)return t;const a=r&&r.encode||ki;x.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let i;if(n?i=n(s,r):i=x.isURLSearchParams(s)?s.toString():new ts(s,r).toString(a),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class vs{constructor(){this.handlers=[]}use(s,r,a){return this.handlers.push({fulfilled:s,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){x.forEach(this.handlers,function(a){a!==null&&s(a)})}}const jr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ci=typeof URLSearchParams<"u"?URLSearchParams:ts,Pi=typeof FormData<"u"?FormData:null,Ti=typeof Blob<"u"?Blob:null,Ai={isBrowser:!0,classes:{URLSearchParams:Ci,FormData:Pi,Blob:Ti},protocols:["http","https","file","blob","url","data"]},ss=typeof window<"u"&&typeof document<"u",It=typeof navigator=="object"&&navigator||void 0,Ei=ss&&(!It||["ReactNative","NativeScript","NS"].indexOf(It.product)<0),Li=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Oi=ss&&window.location.href||"http://localhost",Ri=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ss,hasStandardBrowserEnv:Ei,hasStandardBrowserWebWorkerEnv:Li,navigator:It,origin:Oi},Symbol.toStringTag,{value:"Module"})),X={...Ri,...Ai};function Mi(t,s){return xt(t,new X.classes.URLSearchParams,{visitor:function(r,a,n,i){return X.isNode&&x.isBuffer(r)?(this.append(a,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...s})}function Di(t){return x.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Ii(t){const s={},r=Object.keys(t);let a;const n=r.length;let i;for(a=0;a<n;a++)i=r[a],s[i]=t[i];return s}function Nr(t){function s(r,a,n,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),d=i>=r.length;return o=!o&&x.isArray(n)?n.length:o,d?(x.hasOwnProp(n,o)?n[o]=[n[o],a]:n[o]=a,!l):((!n[o]||!x.isObject(n[o]))&&(n[o]=[]),s(r,a,n[o],i)&&x.isArray(n[o])&&(n[o]=Ii(n[o])),!l)}if(x.isFormData(t)&&x.isFunction(t.entries)){const r={};return x.forEachEntry(t,(a,n)=>{s(Di(a),n,r,0)}),r}return null}function Fi(t,s,r){if(x.isString(t))try{return(s||JSON.parse)(t),x.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(t)}const Ge={transitional:jr,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const a=r.getContentType()||"",n=a.indexOf("application/json")>-1,i=x.isObject(s);if(i&&x.isHTMLForm(s)&&(s=new FormData(s)),x.isFormData(s))return n?JSON.stringify(Nr(s)):s;if(x.isArrayBuffer(s)||x.isBuffer(s)||x.isStream(s)||x.isFile(s)||x.isBlob(s)||x.isReadableStream(s))return s;if(x.isArrayBufferView(s))return s.buffer;if(x.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let l;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Mi(s,this.formSerializer).toString();if((l=x.isFileList(s))||a.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return xt(l?{"files[]":s}:s,d&&new d,this.formSerializer)}}return i||n?(r.setContentType("application/json",!1),Fi(s)):s}],transformResponse:[function(s){const r=this.transitional||Ge.transitional,a=r&&r.forcedJSONParsing,n=this.responseType==="json";if(x.isResponse(s)||x.isReadableStream(s))return s;if(s&&x.isString(s)&&(a&&!this.responseType||n)){const o=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(s,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?F.from(l,F.ERR_BAD_RESPONSE,this,null,this.response):l}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:X.classes.FormData,Blob:X.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};x.forEach(["delete","get","head","post","put","patch"],t=>{Ge.headers[t]={}});const $i=x.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ui=t=>{const s={};let r,a,n;return t&&t.split(`
`).forEach(function(o){n=o.indexOf(":"),r=o.substring(0,n).trim().toLowerCase(),a=o.substring(n+1).trim(),!(!r||s[r]&&$i[r])&&(r==="set-cookie"?s[r]?s[r].push(a):s[r]=[a]:s[r]=s[r]?s[r]+", "+a:a)}),s},js=Symbol("internals");function De(t){return t&&String(t).trim().toLowerCase()}function tt(t){return t===!1||t==null?t:x.isArray(t)?t.map(tt):String(t)}function _i(t){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(t);)s[a[1]]=a[2];return s}const Bi=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function wt(t,s,r,a,n){if(x.isFunction(a))return a.call(this,s,r);if(n&&(s=r),!!x.isString(s)){if(x.isString(a))return s.indexOf(a)!==-1;if(x.isRegExp(a))return a.test(s)}}function qi(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,a)=>r.toUpperCase()+a)}function Vi(t,s){const r=x.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+r,{value:function(n,i,o){return this[a].call(this,s,n,i,o)},configurable:!0})})}let ne=class{constructor(s){s&&this.set(s)}set(s,r,a){const n=this;function i(l,d,u){const c=De(d);if(!c)throw new Error("header name must be a non-empty string");const m=x.findKey(n,c);(!m||n[m]===void 0||u===!0||u===void 0&&n[m]!==!1)&&(n[m||d]=tt(l))}const o=(l,d)=>x.forEach(l,(u,c)=>i(u,c,d));if(x.isPlainObject(s)||s instanceof this.constructor)o(s,r);else if(x.isString(s)&&(s=s.trim())&&!Bi(s))o(Ui(s),r);else if(x.isObject(s)&&x.isIterable(s)){let l={},d,u;for(const c of s){if(!x.isArray(c))throw TypeError("Object iterator must return a key-value pair");l[u=c[0]]=(d=l[u])?x.isArray(d)?[...d,c[1]]:[d,c[1]]:c[1]}o(l,r)}else s!=null&&i(r,s,a);return this}get(s,r){if(s=De(s),s){const a=x.findKey(this,s);if(a){const n=this[a];if(!r)return n;if(r===!0)return _i(n);if(x.isFunction(r))return r.call(this,n,a);if(x.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=De(s),s){const a=x.findKey(this,s);return!!(a&&this[a]!==void 0&&(!r||wt(this,this[a],a,r)))}return!1}delete(s,r){const a=this;let n=!1;function i(o){if(o=De(o),o){const l=x.findKey(a,o);l&&(!r||wt(a,a[l],l,r))&&(delete a[l],n=!0)}}return x.isArray(s)?s.forEach(i):i(s),n}clear(s){const r=Object.keys(this);let a=r.length,n=!1;for(;a--;){const i=r[a];(!s||wt(this,this[i],i,s,!0))&&(delete this[i],n=!0)}return n}normalize(s){const r=this,a={};return x.forEach(this,(n,i)=>{const o=x.findKey(a,i);if(o){r[o]=tt(n),delete r[i];return}const l=s?qi(i):String(i).trim();l!==i&&delete r[i],r[l]=tt(n),a[l]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return x.forEach(this,(a,n)=>{a!=null&&a!==!1&&(r[n]=s&&x.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const a=new this(s);return r.forEach(n=>a.set(n)),a}static accessor(s){const a=(this[js]=this[js]={accessors:{}}).accessors,n=this.prototype;function i(o){const l=De(o);a[l]||(Vi(n,o),a[l]=!0)}return x.isArray(s)?s.forEach(i):i(s),this}};ne.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);x.reduceDescriptors(ne.prototype,({value:t},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(a){this[r]=a}}});x.freezeMethods(ne);function St(t,s){const r=this||Ge,a=s||r,n=ne.from(a.headers);let i=a.data;return x.forEach(t,function(l){i=l.call(r,i,n.normalize(),s?s.status:void 0)}),n.normalize(),i}function wr(t){return!!(t&&t.__CANCEL__)}function Re(t,s,r){F.call(this,t??"canceled",F.ERR_CANCELED,s,r),this.name="CanceledError"}x.inherits(Re,F,{__CANCEL__:!0});function Sr(t,s,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):s(new F("Request failed with status code "+r.status,[F.ERR_BAD_REQUEST,F.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Hi(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function zi(t,s){t=t||10;const r=new Array(t),a=new Array(t);let n=0,i=0,o;return s=s!==void 0?s:1e3,function(d){const u=Date.now(),c=a[i];o||(o=u),r[n]=d,a[n]=u;let m=i,v=0;for(;m!==n;)v+=r[m++],m=m%t;if(n=(n+1)%t,n===i&&(i=(i+1)%t),u-o<s)return;const b=c&&u-c;return b?Math.round(v*1e3/b):void 0}}function Gi(t,s){let r=0,a=1e3/s,n,i;const o=(u,c=Date.now())=>{r=c,n=null,i&&(clearTimeout(i),i=null),t(...u)};return[(...u)=>{const c=Date.now(),m=c-r;m>=a?o(u,c):(n=u,i||(i=setTimeout(()=>{i=null,o(n)},a-m)))},()=>n&&o(n)]}const lt=(t,s,r=3)=>{let a=0;const n=zi(50,250);return Gi(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,d=o-a,u=n(d),c=o<=l;a=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:d,rate:u||void 0,estimated:u&&l&&c?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[s?"download":"upload"]:!0};t(m)},r)},Ns=(t,s)=>{const r=t!=null;return[a=>s[0]({lengthComputable:r,total:t,loaded:a}),s[1]]},ws=t=>(...s)=>x.asap(()=>t(...s)),Wi=X.hasStandardBrowserEnv?((t,s)=>r=>(r=new URL(r,X.origin),t.protocol===r.protocol&&t.host===r.host&&(s||t.port===r.port)))(new URL(X.origin),X.navigator&&/(msie|trident)/i.test(X.navigator.userAgent)):()=>!0,Ki=X.hasStandardBrowserEnv?{write(t,s,r,a,n,i){const o=[t+"="+encodeURIComponent(s)];x.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),x.isString(a)&&o.push("path="+a),x.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Qi(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Ji(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function kr(t,s,r){let a=!Qi(s);return t&&(a||r==!1)?Ji(t,s):s}const Ss=t=>t instanceof ne?{...t}:t;function Se(t,s){s=s||{};const r={};function a(u,c,m,v){return x.isPlainObject(u)&&x.isPlainObject(c)?x.merge.call({caseless:v},u,c):x.isPlainObject(c)?x.merge({},c):x.isArray(c)?c.slice():c}function n(u,c,m,v){if(x.isUndefined(c)){if(!x.isUndefined(u))return a(void 0,u,m,v)}else return a(u,c,m,v)}function i(u,c){if(!x.isUndefined(c))return a(void 0,c)}function o(u,c){if(x.isUndefined(c)){if(!x.isUndefined(u))return a(void 0,u)}else return a(void 0,c)}function l(u,c,m){if(m in s)return a(u,c);if(m in t)return a(void 0,u)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,c,m)=>n(Ss(u),Ss(c),m,!0)};return x.forEach(Object.keys({...t,...s}),function(c){const m=d[c]||n,v=m(t[c],s[c],c);x.isUndefined(v)&&m!==l||(r[c]=v)}),r}const Cr=t=>{const s=Se({},t);let{data:r,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:l}=s;if(s.headers=o=ne.from(o),s.url=vr(kr(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),x.isFormData(r)){if(X.hasStandardBrowserEnv||X.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(x.isFunction(r.getHeaders)){const d=r.getHeaders(),u=["content-type","content-length"];Object.entries(d).forEach(([c,m])=>{u.includes(c.toLowerCase())&&o.set(c,m)})}}if(X.hasStandardBrowserEnv&&(a&&x.isFunction(a)&&(a=a(s)),a||a!==!1&&Wi(s.url))){const d=n&&i&&Ki.read(i);d&&o.set(n,d)}return s},Yi=typeof XMLHttpRequest<"u",Xi=Yi&&function(t){return new Promise(function(r,a){const n=Cr(t);let i=n.data;const o=ne.from(n.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:u}=n,c,m,v,b,p;function y(){b&&b(),p&&p(),n.cancelToken&&n.cancelToken.unsubscribe(c),n.signal&&n.signal.removeEventListener("abort",c)}let f=new XMLHttpRequest;f.open(n.method.toUpperCase(),n.url,!0),f.timeout=n.timeout;function A(){if(!f)return;const S=ne.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:S,config:t,request:f};Sr(function(U){r(U),y()},function(U){a(U),y()},E),f=null}"onloadend"in f?f.onloadend=A:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(A)},f.onabort=function(){f&&(a(new F("Request aborted",F.ECONNABORTED,t,f)),f=null)},f.onerror=function(P){const E=P&&P.message?P.message:"Network Error",D=new F(E,F.ERR_NETWORK,t,f);D.event=P||null,a(D),f=null},f.ontimeout=function(){let P=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const E=n.transitional||jr;n.timeoutErrorMessage&&(P=n.timeoutErrorMessage),a(new F(P,E.clarifyTimeoutError?F.ETIMEDOUT:F.ECONNABORTED,t,f)),f=null},i===void 0&&o.setContentType(null),"setRequestHeader"in f&&x.forEach(o.toJSON(),function(P,E){f.setRequestHeader(E,P)}),x.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),l&&l!=="json"&&(f.responseType=n.responseType),u&&([v,p]=lt(u,!0),f.addEventListener("progress",v)),d&&f.upload&&([m,b]=lt(d),f.upload.addEventListener("progress",m),f.upload.addEventListener("loadend",b)),(n.cancelToken||n.signal)&&(c=S=>{f&&(a(!S||S.type?new Re(null,t,f):S),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(c),n.signal&&(n.signal.aborted?c():n.signal.addEventListener("abort",c)));const g=Hi(n.url);if(g&&X.protocols.indexOf(g)===-1){a(new F("Unsupported protocol "+g+":",F.ERR_BAD_REQUEST,t));return}f.send(i||null)})},Zi=(t,s)=>{const{length:r}=t=t?t.filter(Boolean):[];if(s||r){let a=new AbortController,n;const i=function(u){if(!n){n=!0,l();const c=u instanceof Error?u:this.reason;a.abort(c instanceof F?c:new Re(c instanceof Error?c.message:c))}};let o=s&&setTimeout(()=>{o=null,i(new F(`timeout ${s} of ms exceeded`,F.ETIMEDOUT))},s);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:d}=a;return d.unsubscribe=()=>x.asap(l),d}},eo=function*(t,s){let r=t.byteLength;if(r<s){yield t;return}let a=0,n;for(;a<r;)n=a+s,yield t.slice(a,n),a=n},to=async function*(t,s){for await(const r of so(t))yield*eo(r,s)},so=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:r,value:a}=await s.read();if(r)break;yield a}}finally{await s.cancel()}},ks=(t,s,r,a)=>{const n=to(t,s);let i=0,o,l=d=>{o||(o=!0,a&&a(d))};return new ReadableStream({async pull(d){try{const{done:u,value:c}=await n.next();if(u){l(),d.close();return}let m=c.byteLength;if(r){let v=i+=m;r(v)}d.enqueue(new Uint8Array(c))}catch(u){throw l(u),u}},cancel(d){return l(d),n.return()}},{highWaterMark:2})},Cs=64*1024,{isFunction:Qe}=x,Pr=(({fetch:t,Request:s,Response:r})=>({fetch:t,Request:s,Response:r}))(x.global),{ReadableStream:Ps,TextEncoder:Ts}=x.global,As=(t,...s)=>{try{return!!t(...s)}catch{return!1}},ro=t=>{const{fetch:s,Request:r,Response:a}=Object.assign({},Pr,t),n=Qe(s),i=Qe(r),o=Qe(a);if(!n)return!1;const l=n&&Qe(Ps),d=n&&(typeof Ts=="function"?(p=>y=>p.encode(y))(new Ts):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=i&&l&&As(()=>{let p=!1;const y=new r(X.origin,{body:new Ps,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!y}),c=o&&l&&As(()=>x.isReadableStream(new a("").body)),m={stream:c&&(p=>p.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!m[p]&&(m[p]=(y,f)=>{let A=y&&y[p];if(A)return A.call(y);throw new F(`Response type '${p}' is not supported`,F.ERR_NOT_SUPPORT,f)})});const v=async p=>{if(p==null)return 0;if(x.isBlob(p))return p.size;if(x.isSpecCompliantForm(p))return(await new r(X.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(x.isArrayBufferView(p)||x.isArrayBuffer(p))return p.byteLength;if(x.isURLSearchParams(p)&&(p=p+""),x.isString(p))return(await d(p)).byteLength},b=async(p,y)=>{const f=x.toFiniteNumber(p.getContentLength());return f??v(y)};return async p=>{let{url:y,method:f,data:A,signal:g,cancelToken:S,timeout:P,onDownloadProgress:E,onUploadProgress:D,responseType:U,headers:T,withCredentials:B="same-origin",fetchOptions:w}=Cr(p);U=U?(U+"").toLowerCase():"text";let j=Zi([g,S&&S.toAbortSignal()],P),N=null;const O=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let I;try{if(D&&u&&f!=="get"&&f!=="head"&&(I=await b(T,A))!==0){let V=new r(y,{method:"POST",body:A,duplex:"half"}),z;if(x.isFormData(A)&&(z=V.headers.get("content-type"))&&T.setContentType(z),V.body){const[J,Z]=Ns(I,lt(ws(D)));A=ks(V.body,Cs,J,Z)}}x.isString(B)||(B=B?"include":"omit");const q=i&&"credentials"in r.prototype,Q={...w,signal:j,method:f.toUpperCase(),headers:T.normalize().toJSON(),body:A,duplex:"half",credentials:q?B:void 0};N=i&&new r(y,Q);let k=await(i?s(N,w):s(y,Q));const M=c&&(U==="stream"||U==="response");if(c&&(E||M&&O)){const V={};["status","statusText","headers"].forEach(pe=>{V[pe]=k[pe]});const z=x.toFiniteNumber(k.headers.get("content-length")),[J,Z]=E&&Ns(z,lt(ws(E),!0))||[];k=new a(ks(k.body,Cs,J,()=>{Z&&Z(),O&&O()}),V)}U=U||"text";let W=await m[x.findKey(m,U)||"text"](k,p);return!M&&O&&O(),await new Promise((V,z)=>{Sr(V,z,{data:W,headers:ne.from(k.headers),status:k.status,statusText:k.statusText,config:p,request:N})})}catch(q){throw O&&O(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new F("Network Error",F.ERR_NETWORK,p,N),{cause:q.cause||q}):F.from(q,q&&q.code,p,N)}}},ao=new Map,Tr=t=>{let s=x.merge.call({skipUndefined:!0},Pr,t?t.env:null);const{fetch:r,Request:a,Response:n}=s,i=[a,n,r];let o=i.length,l=o,d,u,c=ao;for(;l--;)d=i[l],u=c.get(d),u===void 0&&c.set(d,u=l?new Map:ro(s)),c=u;return u};Tr();const Ft={http:Ni,xhr:Xi,fetch:{get:Tr}};x.forEach(Ft,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const Es=t=>`- ${t}`,no=t=>x.isFunction(t)||t===null||t===!1,Ar={getAdapter:(t,s)=>{t=x.isArray(t)?t:[t];const{length:r}=t;let a,n;const i={};for(let o=0;o<r;o++){a=t[o];let l;if(n=a,!no(a)&&(n=Ft[(l=String(a)).toLowerCase()],n===void 0))throw new F(`Unknown adapter '${l}'`);if(n&&(x.isFunction(n)||(n=n.get(s))))break;i[l||"#"+o]=n}if(!n){const o=Object.entries(i).map(([d,u])=>`adapter ${d} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(Es).join(`
`):" "+Es(o[0]):"as no adapter specified";throw new F("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:Ft};function kt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Re(null,t)}function Ls(t){return kt(t),t.headers=ne.from(t.headers),t.data=St.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ar.getAdapter(t.adapter||Ge.adapter,t)(t).then(function(a){return kt(t),a.data=St.call(t,t.transformResponse,a),a.headers=ne.from(a.headers),a},function(a){return wr(a)||(kt(t),a&&a.response&&(a.response.data=St.call(t,t.transformResponse,a.response),a.response.headers=ne.from(a.response.headers))),Promise.reject(a)})}const Er="1.12.1",yt={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{yt[t]=function(a){return typeof a===t||"a"+(s<1?"n ":" ")+t}});const Os={};yt.transitional=function(s,r,a){function n(i,o){return"[Axios v"+Er+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,l)=>{if(s===!1)throw new F(n(o," has been removed"+(r?" in "+r:"")),F.ERR_DEPRECATED);return r&&!Os[o]&&(Os[o]=!0,console.warn(n(o," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(i,o,l):!0}};yt.spelling=function(s){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function io(t,s,r){if(typeof t!="object")throw new F("options must be an object",F.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let n=a.length;for(;n-- >0;){const i=a[n],o=s[i];if(o){const l=t[i],d=l===void 0||o(l,i,t);if(d!==!0)throw new F("option "+i+" must be "+d,F.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new F("Unknown option "+i,F.ERR_BAD_OPTION)}}const st={assertOptions:io,validators:yt},me=st.validators;let we=class{constructor(s){this.defaults=s||{},this.interceptors={request:new vs,response:new vs}}async request(s,r){try{return await this._request(s,r)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=Se(this.defaults,r);const{transitional:a,paramsSerializer:n,headers:i}=r;a!==void 0&&st.assertOptions(a,{silentJSONParsing:me.transitional(me.boolean),forcedJSONParsing:me.transitional(me.boolean),clarifyTimeoutError:me.transitional(me.boolean)},!1),n!=null&&(x.isFunction(n)?r.paramsSerializer={serialize:n}:st.assertOptions(n,{encode:me.function,serialize:me.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),st.assertOptions(r,{baseUrl:me.spelling("baseURL"),withXsrfToken:me.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&x.merge(i.common,i[r.method]);i&&x.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),r.headers=ne.concat(o,i);const l=[];let d=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(d=d&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let c,m=0,v;if(!d){const p=[Ls.bind(this),void 0];for(p.unshift(...l),p.push(...u),v=p.length,c=Promise.resolve(r);m<v;)c=c.then(p[m++],p[m++]);return c}v=l.length;let b=r;for(m=0;m<v;){const p=l[m++],y=l[m++];try{b=p(b)}catch(f){y.call(this,f);break}}try{c=Ls.call(this,b)}catch(p){return Promise.reject(p)}for(m=0,v=u.length;m<v;)c=c.then(u[m++],u[m++]);return c}getUri(s){s=Se(this.defaults,s);const r=kr(s.baseURL,s.url,s.allowAbsoluteUrls);return vr(r,s.params,s.paramsSerializer)}};x.forEach(["delete","get","head","options"],function(s){we.prototype[s]=function(r,a){return this.request(Se(a||{},{method:s,url:r,data:(a||{}).data}))}});x.forEach(["post","put","patch"],function(s){function r(a){return function(i,o,l){return this.request(Se(l||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}we.prototype[s]=r(),we.prototype[s+"Form"]=r(!0)});let oo=class Lr{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(l=>{a.subscribe(l),i=l}).then(n);return o.cancel=function(){a.unsubscribe(i)},o},s(function(i,o,l){a.reason||(a.reason=new Re(i,o,l),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=a=>{s.abort(a)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new Lr(function(n){s=n}),cancel:s}}};function lo(t){return function(r){return t.apply(null,r)}}function co(t){return x.isObject(t)&&t.isAxiosError===!0}const $t={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($t).forEach(([t,s])=>{$t[s]=t});function Or(t){const s=new we(t),r=lr(we.prototype.request,s);return x.extend(r,we.prototype,s,{allOwnKeys:!0}),x.extend(r,s,null,{allOwnKeys:!0}),r.create=function(n){return Or(Se(t,n))},r}const H=Or(Ge);H.Axios=we;H.CanceledError=Re;H.CancelToken=oo;H.isCancel=wr;H.VERSION=Er;H.toFormData=xt;H.AxiosError=F;H.Cancel=H.CanceledError;H.all=function(s){return Promise.all(s)};H.spread=lo;H.isAxiosError=co;H.mergeConfig=Se;H.AxiosHeaders=ne;H.formToJSON=t=>Nr(x.isHTMLForm(t)?new FormData(t):t);H.getAdapter=Ar.getAdapter;H.HttpStatusCode=$t;H.default=H;const{Axios:Io,AxiosError:Fo,CanceledError:$o,isCancel:Uo,CancelToken:_o,VERSION:Bo,all:qo,Cancel:Vo,isAxiosError:Ho,spread:zo,toFormData:Go,AxiosHeaders:Wo,HttpStatusCode:Ko,formToJSON:Qo,getAdapter:Jo,mergeConfig:Yo}=H;let uo=class{constructor(){this.alphaVantageKey=void 0,this.fmpKey=void 0,this.finnhubKey="sandbox_c6bqcm2ad3icth1dk9n0",this.requestQueue=[],this.isProcessingQueue=!1}async getYahooQuote(s){var r,a,n;try{const i=`yahoo_quote_${s}`,o=L.getCacheItem(i);if(o)return o;const l=`${Y.YAHOO_FINANCE.QUOTE}${s}`,u=(n=(a=(r=(await H.get(l)).data)==null?void 0:r.chart)==null?void 0:a.result)==null?void 0:n[0];if(!u)throw new Error("Invalid response format");const c=u.meta,m={symbol:c.symbol,price:c.regularMarketPrice||c.previousClose,change:c.regularMarketPrice-c.previousClose,changePercent:(c.regularMarketPrice-c.previousClose)/c.previousClose*100,volume:c.regularMarketVolume,previousClose:c.previousClose,open:c.regularMarketOpen||c.previousClose,high:c.regularMarketDayHigh||c.regularMarketPrice,low:c.regularMarketDayLow||c.regularMarketPrice,marketCap:null,timestamp:Date.now(),source:"yahoo"};return L.setCacheItem(i,m,6e4),m}catch(i){return console.error("Yahoo Finance API error:",i),null}}async searchYahooStocks(s){var r,a;try{const n=`yahoo_search_${s}`,i=L.getCacheItem(n);if(i)return i;const o=`${Y.YAHOO_FINANCE.SEARCH}?q=${encodeURIComponent(s)}`,d=((a=(r=(await H.get(o)).data)==null?void 0:r.quotes)==null?void 0:a.slice(0,10).map(u=>({symbol:u.symbol,name:u.longname||u.shortname,type:u.type,exchange:u.exchange})))||[];return L.setCacheItem(n,d,3e5),d}catch(n){return console.error("Yahoo Search API error:",n),[]}}async getFMPQuote(s){var r;if(!this.fmpKey)return null;try{const a=`fmp_quote_${s}`,n=L.getCacheItem(a);if(n)return n;const i=`${Y.FMP.BASE}${Y.FMP.QUOTE}${s}?apikey=${this.fmpKey}`,l=(r=(await H.get(i)).data)==null?void 0:r[0];if(!l)throw new Error("No data received");const d={symbol:l.symbol,price:l.price,change:l.change,changePercent:l.changesPercentage,volume:l.volume,previousClose:l.previousClose,open:l.open,high:l.dayHigh,low:l.dayLow,marketCap:l.marketCap,timestamp:Date.now(),source:"fmp"};return L.setCacheItem(a,d,6e4),d}catch(a){return console.error("FMP API error:",a),null}}async getFMPCompanyProfile(s){var r;if(!this.fmpKey)return null;try{const a=`fmp_profile_${s}`,n=L.getCacheItem(a);if(n)return n;const i=`${Y.FMP.BASE}${Y.FMP.COMPANY}${s}?apikey=${this.fmpKey}`,l=(r=(await H.get(i)).data)==null?void 0:r[0];if(!l)return null;const d={symbol:l.symbol,companyName:l.companyName,description:l.description,industry:l.industry,sector:l.sector,website:l.website,ceo:l.ceo,employees:l.fullTimeEmployees,headquarters:`${l.city}, ${l.state}, ${l.country}`,founded:l.ipoDate,logo:l.image};return L.setCacheItem(a,d,36e5),d}catch(a){return console.error("FMP Profile API error:",a),null}}async searchFMPStocks(s){var r;if(!this.fmpKey)return[];try{const a=`fmp_search_${s}`,n=L.getCacheItem(a);if(n)return n;const i=`${Y.FMP.BASE}${Y.FMP.SEARCH}?query=${encodeURIComponent(s)}&apikey=${this.fmpKey}`,l=((r=(await H.get(i)).data)==null?void 0:r.slice(0,10).map(d=>({symbol:d.symbol,name:d.name,currency:d.currency,stockExchange:d.stockExchange})))||[];return L.setCacheItem(a,l,3e5),l}catch(a){return console.error("FMP Search API error:",a),[]}}async getAlphaVantageQuote(s){var r;if(!this.alphaVantageKey)return null;try{const a=`av_quote_${s}`,n=L.getCacheItem(a);if(n)return n;const i=`${Y.ALPHA_VANTAGE.BASE}?function=${Y.ALPHA_VANTAGE.QUOTE}&symbol=${s}&apikey=${this.alphaVantageKey}`,l=(r=(await H.get(i)).data)==null?void 0:r["Global Quote"];if(!l)throw new Error("No data received");const d={symbol:l["01. symbol"],price:parseFloat(l["05. price"]),change:parseFloat(l["09. change"]),changePercent:parseFloat(l["10. change percent"].replace("%","")),volume:parseInt(l["06. volume"]),previousClose:parseFloat(l["08. previous close"]),open:parseFloat(l["02. open"]),high:parseFloat(l["03. high"]),low:parseFloat(l["04. low"]),marketCap:null,timestamp:Date.now(),source:"alphavantage"};return L.setCacheItem(a,d,6e4),d}catch(a){return console.error("Alpha Vantage API error:",a),null}}async getFinnhubQuote(s){var r;try{const a=`finnhub_quote_${s}`,n=L.getCacheItem(a);if(n)return n;const i=`${Y.FINNHUB.BASE}${Y.FINNHUB.QUOTE}?symbol=${s}&token=${this.finnhubKey}`,l=(await H.get(i)).data;if(!l||!l.c)throw new Error("Invalid response format");const d=`${Y.FINNHUB.BASE}${Y.FINNHUB.PROFILE}?symbol=${s}&token=${this.finnhubKey}`;let u=s;try{u=((r=(await H.get(d)).data)==null?void 0:r.name)||s}catch{}const c={symbol:s.toUpperCase(),price:parseFloat(l.c),change:parseFloat((l.c-l.pc).toFixed(2)),changePercent:parseFloat(((l.c-l.pc)/l.pc*100).toFixed(2)),volume:l.v||0,previousClose:l.pc,open:l.o,high:l.h,low:l.l,marketCap:null,companyName:u,timestamp:Date.now(),source:"finnhub",isReal:!0};return L.setCacheItem(a,c,6e4),c}catch(a){return console.error("Finnhub API error:",a),null}}async getFinnhubHistoricalData(s,r="D",a=365){try{const n=`finnhub_historical_${s}_${r}_${a}`,i=L.getCacheItem(n);if(i)return i;const o=Math.floor(Date.now()/1e3),l=o-a*24*60*60,d=`${Y.FINNHUB.BASE}${Y.FINNHUB.CANDLES}?symbol=${s}&resolution=${r}&from=${l}&to=${o}&token=${this.finnhubKey}`,c=(await H.get(d)).data;if(!c||!c.c||c.s==="no_data")throw new Error("No historical data available");const m=c.t.map((v,b)=>({date:new Date(v*1e3).toISOString().split("T")[0],open:c.o[b],high:c.h[b],low:c.l[b],close:c.c[b],volume:c.v[b]}));return L.setCacheItem(n,m,3e5),m}catch(n){return console.error("Finnhub historical data error:",n),null}}async getQuote(s){s=s.toUpperCase();let r=await this.getFinnhubQuote(s);return r||(r=await this.getYahooQuote(s),r)||(r=await this.getFMPQuote(s),r)||(r=await this.getAlphaVantageQuote(s),r)?r:this.getRealTimeStyleMockQuote(s)}async getMultipleQuotes(s){const r={},a=s.map(async n=>{const i=await this.getQuote(n);i&&(r[n]=i)});return await Promise.all(a),r}async searchStocks(s){if(!s||s.trim().length<2)return[];s=s.trim();let r=await this.searchYahooStocks(s);return r&&r.length>0||(r=await this.searchFMPStocks(s),r&&r.length>0)?r:[]}async getCompanyInfo(s){s=s.toUpperCase();let r=await this.getFMPCompanyProfile(s);return r||{symbol:s,companyName:`${s} Inc.`,description:"Company information not available.",industry:"Unknown",sector:"Unknown"}}getRealTimeStyleMockQuote(s){const a={AAPL:200,MSFT:200,GOOGL:200,TSLA:200,AMZN:200,META:200,NVDA:200,NFLX:200,JPM:200,JNJ:200,BAC:50,WMT:150,HD:300,PG:120,KO:60,PEP:180,XOM:100,CVX:140}[s.toUpperCase()]||50+Math.random()*150,n=(Math.random()-.5)*(a*.05),i=a+n;return{symbol:s.toUpperCase(),price:parseFloat(i.toFixed(2)),change:parseFloat(n.toFixed(2)),changePercent:parseFloat((n/a*100).toFixed(2)),volume:Math.floor(Math.random()*5e7)+5e6,previousClose:parseFloat(a.toFixed(2)),open:parseFloat((a+(Math.random()-.5)*(a*.02)).toFixed(2)),high:parseFloat((i+Math.random()*(a*.03)).toFixed(2)),low:parseFloat((i-Math.random()*(a*.03)).toFixed(2)),marketCap:Math.floor(a*5e9),timestamp:Date.now(),source:"mock",isMock:!0}}async getHistoricalData(s,r="1year"){const a=`historical_${s}_${r}`,n=L.getCacheItem(a);if(n)return n;const o={"1D":1,"1W":7,"1M":30,"3M":90,"6M":180,"1Y":365,"5Y":1825}[r]||365;let l=await this.getFinnhubHistoricalData(s,"D",o);if(l&&l.length>0)return L.setCacheItem(a,l,3e5),l;const d=this.generateRealisticHistoricalData(s,o);return L.setCacheItem(a,d,36e5),d}generateRealisticHistoricalData(s,r){const a=this.getRealTimeStyleMockQuote(s).price,n=[];let i=a;const o=new Date;o.setDate(o.getDate()-r);for(let l=0;l<r;l++){const d=new Date(o);d.setDate(d.getDate()+l);const u=.005+Math.random()*.025,c=(Math.random()-.5)*2*u;i*=1+c;const m=i*(1+(Math.random()-.5)*.01),v=i,b=Math.max(m,v)*(1+Math.random()*.02),p=Math.min(m,v)*(1-Math.random()*.02);n.push({date:d.toISOString().split("T")[0],open:parseFloat(m.toFixed(2)),high:parseFloat(b.toFixed(2)),low:parseFloat(p.toFixed(2)),close:parseFloat(v.toFixed(2)),volume:Math.floor(Math.random()*1e7)+1e6})}return n}getTrendingStocks(){return["AAPL","MSFT","GOOGL","TSLA","AMZN","META","NVDA","NFLX","JPM","JNJ"]}isValidSymbol(s){return/^[A-Z]{1,5}$/.test(s.toUpperCase())}clearCache(){const s=L.getCache();Object.keys(s).filter(a=>a.includes("quote_")||a.includes("search_")||a.includes("profile_")).forEach(a=>{const n=L.getCache();delete n[a],L.set("stocky_cache",n)})}};const ke=new uo,Rr=({symbol:t,height:s=400,showControls:r=!0})=>{var E,D,U;const[a,n]=h.useState([]),[i,o]=h.useState("1M"),[l,d]=h.useState(!0),[u,c]=h.useState(null),m=[{value:"1D",label:"1D"},{value:"1W",label:"1W"},{value:"1M",label:"1M"},{value:"3M",label:"3M"},{value:"6M",label:"6M"},{value:"1Y",label:"1Y"},{value:"5Y",label:"5Y"}];h.useEffect(()=>{v(),b()},[t,i]);const v=async()=>{if(t){d(!0);try{const T=await ke.getHistoricalData(t,i);if(T&&T.length>0){const B=T.map(w=>({date:w.date,price:w.close,volume:w.volume,high:w.high,low:w.low,open:w.open}));n(B)}}catch(T){console.error("Error loading chart data:",T)}finally{d(!1)}}},b=async()=>{if(t)try{const T=await ke.getQuote(t);c(T)}catch(T){console.error("Error loading current quote:",T)}},p=T=>{const B=new Date(T);return i==="1D"?B.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):i==="1W"||i==="1M"?B.toLocaleDateString("en-US",{month:"short",day:"numeric"}):B.toLocaleDateString("en-US",{month:"short",year:"2-digit"})},y=({active:T,payload:B,label:w})=>{var j;if(T&&B&&B.length){const N=B[0].payload;return e.jsxs("div",{className:"bg-white p-4 border border-gray-200 rounded-xl shadow-lg",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:new Date(w).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Open:"}),e.jsx("span",{className:"font-semibold",children:R(N.open)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"High:"}),e.jsx("span",{className:"font-semibold",children:R(N.high)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Low:"}),e.jsx("span",{className:"font-semibold",children:R(N.low)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Close:"}),e.jsx("span",{className:"font-semibold",children:R(N.price)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Volume:"}),e.jsx("span",{className:"font-semibold",children:(j=N.volume)==null?void 0:j.toLocaleString()})]})]})]})}return null};if(l)return e.jsx("div",{className:"flex items-center justify-center",style:{height:s},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading chart data..."})]})});if(!a||a.length===0)return e.jsx("div",{className:"flex items-center justify-center",style:{height:s},children:e.jsxs("div",{className:"text-center",children:[e.jsx(Jr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No chart data available"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Try selecting a different time period"})]})});const f=((E=a[0])==null?void 0:E.price)||0,g=(((D=a[a.length-1])==null?void 0:D.price)||0)-f,S=f>0?g/f*100:0,P=g>=0;return e.jsxs("div",{className:"space-y-4",children:[r&&u&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:t}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:R(u.price)}),e.jsxs("div",{className:`flex items-center space-x-1 ${P?"text-green-600":"text-red-600"}`,children:[P?e.jsx(re,{className:"w-4 h-4"}):e.jsx(Fe,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-semibold",children:[P?"+":"",R(u.change)]}),e.jsxs("span",{className:"text-sm",children:["(",P?"+":"",u.changePercent.toFixed(2),"%)"]})]})]})]}),e.jsx("div",{className:"flex rounded-lg bg-gray-100 p-1",children:m.map(T=>e.jsx("button",{onClick:()=>o(T.value),className:`px-3 py-1 text-sm font-medium rounded-md transition-all ${i===T.value?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:T.label},T.value))})]}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200",children:e.jsx(Vt,{width:"100%",height:s,children:e.jsxs(Ht,{data:a,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(zt,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(Gt,{dataKey:"date",tickFormatter:p,stroke:"#666",fontSize:12}),e.jsx(Wt,{domain:["dataMin - 5","dataMax + 5"],tickFormatter:T=>`$${T.toFixed(0)}`,stroke:"#666",fontSize:12}),e.jsx(Kt,{content:e.jsx(y,{})}),e.jsx(na,{y:f,stroke:"#ccc",strokeDasharray:"2 2",strokeWidth:1}),e.jsx(Qt,{type:"monotone",dataKey:"price",stroke:P?"#10b981":"#ef4444",strokeWidth:2,dot:!1,activeDot:{r:6,fill:P?"#10b981":"#ef4444",stroke:"#fff",strokeWidth:2}})]})})}),r&&e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{children:["Period: ",(U=m.find(T=>T.value===i))==null?void 0:U.label]}),e.jsxs("span",{children:["Data Points: ",a.length]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{children:["Change: ",R(g)]}),e.jsxs("span",{children:["(",S>=0?"+":"",S.toFixed(2),"%)"]})]})]})]})},mo=({isOpen:t,onClose:s,onComplete:r})=>{var I,q,Q,k,M,W,V,z,J,Z,pe;const[a,n]=h.useState(0),[i,o]=h.useState("AAPL"),[l,d]=h.useState(.5),[u,c]=h.useState(!1),[m,v]=h.useState(1),[b,p]=h.useState(0),[y,f]=h.useState(0),[A,g]=h.useState(0),[S,P]=h.useState({}),[E,D]=h.useState(!0),[U,T]=h.useState([]),B=[{symbol:"AAPL",name:"Apple Inc.",sector:"Technology",pros:["Strong brand loyalty and ecosystem","Consistent revenue from iPhone sales","Growing services business (App Store, iCloud)","Strong financial position with cash reserves"],cons:["Heavy dependence on iPhone sales","High valuation compared to competitors","Slowing growth in mature markets","Regulatory scrutiny over App Store policies"],riskLevel:"Medium",beginner:!0},{symbol:"KO",name:"The Coca-Cola Company",sector:"Consumer Staples",pros:["Global brand recognition and distribution","Stable dividend payments for decades","Recession-resistant consumer staples","Strong cash flow generation"],cons:["Limited growth potential in mature markets","Health trends moving away from sugary drinks","Currency exchange risks from global operations","Slow adaptation to changing consumer preferences"],riskLevel:"Low",beginner:!0},{symbol:"TSLA",name:"Tesla, Inc.",sector:"Automotive/Technology",pros:["Leader in electric vehicle technology","Growing energy storage and solar business","Strong brand and CEO influence","Expanding global manufacturing capacity"],cons:["High volatility and unpredictable price swings","Increasing competition in EV market","Dependent on CEO Elon Musk","Production and delivery challenges"],riskLevel:"High",beginner:!1}];h.useEffect(()=>{t&&(async()=>{D(!0);const $={};for(const ee of B)try{const te=await ke.getQuote(ee.symbol),Me=await ke.getHistoricalData(ee.symbol,"3M");$[ee.symbol]={...ee,price:(te==null?void 0:te.price)||150,change:(te==null?void 0:te.change)||0,changePercent:(te==null?void 0:te.changePercent)||0,historicalData:Me||[]}}catch(te){console.error(`Error loading ${ee.symbol}:`,te),$[ee.symbol]={...ee,price:150,change:0,changePercent:0,historicalData:[]}}P($);const le=$[i]||$.AAPL;p(le.price),f(le.price),T([{date:new Date().toISOString().split("T")[0],price:le.price,day:0}]),D(!1)})()},[t]);const w=[{title:"Welcome to Your First Trade! 🎉",content:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center mb-4",children:e.jsx(Ut,{className:"w-8 h-8 text-white"})}),e.jsx("p",{className:"text-lg text-gray-700",children:"Let's walk through your first stock purchase step-by-step. You'll learn how to research, buy, and track a stock's performance over time."})]}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-200",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(bt,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-800",children:"Tutorial Mode"}),e.jsx("p",{className:"text-sm text-blue-600",children:"This is a simulation using your virtual $200. No real money is involved."})]})]})})]})},{title:"Choose Your First Stock 📈",content:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"Choose your first stock investment from these 3 carefully selected options:"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Each has different risk levels and characteristics to help you learn"})]}),E?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Loading real stock data and charts..."})]}):e.jsx("div",{className:"space-y-4",children:Object.entries(S).map(([_,$])=>e.jsxs(C.div,{whileHover:{scale:1.01},className:`border-2 rounded-xl overflow-hidden transition-all cursor-pointer ${i===_?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,onClick:()=>{o(_),p($.price),f($.price),d(Math.min(.5,200/$.price)),T([{date:new Date().toISOString().split("T")[0],price:$.price,day:0}])},children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-white font-bold ${$.riskLevel==="Low"?"bg-green-500":$.riskLevel==="Medium"?"bg-yellow-500":"bg-red-500"}`,children:_}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:$.name}),e.jsx("p",{className:"text-sm text-gray-600",children:$.sector}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${$.riskLevel==="Low"?"bg-green-100 text-green-800":$.riskLevel==="Medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[$.riskLevel," Risk"]}),$.beginner&&e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800",children:"Beginner Friendly"})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-mono font-bold text-xl text-gray-900",children:["$",$.price.toFixed(2)]}),e.jsxs("div",{className:`text-sm font-medium ${$.change>=0?"text-green-600":"text-red-600"}`,children:[$.change>=0?"+":"",$.change.toFixed(2),"(",$.changePercent>=0?"+":"",$.changePercent.toFixed(2),"%)"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-100 p-3",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"3-Month Performance"}),$.historicalData&&$.historicalData.length>0?e.jsx(Rr,{symbol:_,height:120,showControls:!1}):e.jsx("div",{className:"h-20 bg-gray-50 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-gray-400",children:"Chart loading..."})})]})]}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-green-700 mb-2 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Pros"]}),e.jsx("ul",{className:"space-y-1",children:$.pros.slice(0,2).map((le,ee)=>e.jsxs("li",{className:"text-xs text-gray-600 flex items-start",children:[e.jsx("span",{className:"w-1 h-1 bg-green-400 rounded-full mt-1.5 mr-2 flex-shrink-0"}),le]},ee))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-red-700 mb-2 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),"Cons"]}),e.jsx("ul",{className:"space-y-1",children:$.cons.slice(0,2).map((le,ee)=>e.jsxs("li",{className:"text-xs text-gray-600 flex items-start",children:[e.jsx("span",{className:"w-1 h-1 bg-red-400 rounded-full mt-1.5 mr-2 flex-shrink-0"}),le]},ee))})]})]})})]},_))}),i&&S[i]&&e.jsx("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-200",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(bt,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-blue-800",children:["You selected ",i]}),e.jsx("p",{className:"text-sm text-blue-600",children:S[i].beginner?"Great choice for a beginner! This stock has stable characteristics.":"This is a more volatile option - good for learning about risk management."})]})]})})]})},{title:"Decide How Many Shares 📊",content:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-gray-700",children:["Now let's decide how many shares of ",i," to buy. Remember, you have $200 to start with and can buy fractional shares (minimum 0.1)."]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-xl",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Stock Price:"}),e.jsxs("span",{className:"font-mono font-bold ml-2",children:["$",((I=S[i])==null?void 0:I.price.toFixed(2))||"0.00"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Available Cash:"}),e.jsx("span",{className:"font-mono font-bold ml-2 text-green-600",children:"$200.00"})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Number of Shares (Fractional Allowed)"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"number",min:"0.1",max:200/(((q=S[i])==null?void 0:q.price)||1),step:"0.1",value:l,onChange:_=>d(parseFloat(_.target.value)||.1),className:"input-field text-center font-mono"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["× $",((Q=S[i])==null?void 0:Q.price.toFixed(2))||"0.00"," =",e.jsxs("span",{className:"font-mono font-bold ml-1",children:["$",(l*(((k=S[i])==null?void 0:k.price)||0)).toFixed(2)]})]})]}),e.jsx("div",{className:"flex space-x-2",children:[.1,.5,1].map(_=>e.jsxs("button",{onClick:()=>d(_),className:`px-3 py-1 rounded-lg text-sm transition-all ${Math.abs(l-_)<.01?"bg-green-600 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,children:[_," shares"]},_))})]}),e.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(bt,{className:"w-4 h-4 text-yellow-600 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-semibold text-yellow-800",children:"Total Cost"}),e.jsxs("div",{className:"text-yellow-700",children:[l," shares × $",((M=S[i])==null?void 0:M.price.toFixed(2))||"0.00"," =",e.jsxs("span",{className:"font-mono font-bold ml-1",children:["$",(l*(((W=S[i])==null?void 0:W.price)||0)).toFixed(2)]})]}),e.jsxs("div",{className:"text-yellow-600 text-xs mt-1",children:["Remaining cash: $",(200-l*(((V=S[i])==null?void 0:V.price)||0)).toFixed(2)]})]})]})})]})},{title:"Execute Your Trade! 🚀",content:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center mb-4",children:e.jsx($e,{className:"w-8 h-8 text-white"})}),e.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"Ready to make your first trade? Here's a summary:"})]}),e.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Stock:"})," ",e.jsx("span",{className:"font-bold",children:i})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Company:"})," ",e.jsx("span",{className:"text-gray-800",children:((z=S[i])==null?void 0:z.name)||"Loading..."})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Shares:"})," ",e.jsx("span",{className:"font-mono font-bold",children:l})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Price per share:"})," ",e.jsxs("span",{className:"font-mono font-bold",children:["$",((J=S[i])==null?void 0:J.price.toFixed(2))||"0.00"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Total cost:"})," ",e.jsxs("span",{className:"font-mono font-bold text-green-600",children:["$",(l*(((Z=S[i])==null?void 0:Z.price)||0)).toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Remaining cash:"})," ",e.jsxs("span",{className:"font-mono font-bold",children:["$",(200-l*(((pe=S[i])==null?void 0:pe.price)||0)).toFixed(2)]})]})]})]})}),e.jsxs(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>n(4),className:"w-full btn-accent flex items-center justify-center space-x-2",children:[e.jsx(Tt,{className:"w-5 h-5"}),e.jsx("span",{children:"Execute Trade"})]})]})},{title:"Watch Your Investment Over Time ⏰",content:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(nt,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Trade Executed Successfully!"}),e.jsxs("p",{className:"text-gray-600",children:["You now own ",l," shares of ",i,". Let's see how your investment performs over time."]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 p-6 rounded-xl border border-green-200",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center mb-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Current Price"}),e.jsxs("div",{className:"font-mono font-bold text-lg",children:["$",b.toFixed(2)]}),e.jsxs("div",{className:`text-xs ${b>=y?"text-green-600":"text-red-600"}`,children:[b>=y?"+":"",((b-y)/y*100).toFixed(2),"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Portfolio Value"}),e.jsxs("div",{className:"font-mono font-bold text-lg",children:["$",(l*b).toFixed(2)]}),e.jsxs("div",{className:`text-xs ${l*b>=l*y?"text-green-600":"text-red-600"}`,children:[l*b>=l*y?"+":"","$",(l*(b-y)).toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Days Passed"}),e.jsx("div",{className:"font-mono font-bold text-lg",children:A}),e.jsxs("div",{className:"text-xs text-gray-500",children:[e.jsx(Us,{className:"w-3 h-3 inline mr-1"}),"Time simulation"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:["Live Price Movement - ",i]}),e.jsx(Vt,{width:"100%",height:200,children:e.jsxs(Ht,{data:U,children:[e.jsx(zt,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(Gt,{dataKey:"day",tickFormatter:_=>`Day ${_}`,stroke:"#666",fontSize:12}),e.jsx(Wt,{domain:["dataMin - 5","dataMax + 5"],tickFormatter:_=>`$${_.toFixed(0)}`,stroke:"#666",fontSize:12}),e.jsx(Kt,{formatter:_=>[`$${_.toFixed(2)}`,"Price"],labelFormatter:_=>`Day ${_}`,contentStyle:{backgroundColor:"white",border:"1px solid #ccc",borderRadius:"8px",fontSize:"12px"}}),e.jsx(Qt,{type:"monotone",dataKey:"price",stroke:b>=y?"#10b981":"#ef4444",strokeWidth:2,dot:!1,activeDot:{r:4,fill:b>=y?"#10b981":"#ef4444"}})]})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Watch how your stock price changes over time! Each point represents one day."})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-semibold text-gray-800",children:"Time Controls"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Speed: ",m,"x"]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>{u?c(!1):(c(!0),v(1))},className:`flex-1 btn-secondary flex items-center justify-center space-x-2 ${u?"bg-red-100 border-red-300 text-red-700":"bg-green-100 border-green-300 text-green-700"}`,children:[u?e.jsx(Yr,{className:"w-4 h-4"}):e.jsx(Tt,{className:"w-4 h-4"}),e.jsxs("span",{children:[u?"Pause":"Start"," Simulation"]})]}),e.jsxs("button",{onClick:()=>v(_=>Math.min(_*2,8)),disabled:!u,className:"btn-secondary flex items-center space-x-2 disabled:opacity-50",children:[e.jsx(_s,{className:"w-4 h-4"}),e.jsx("span",{children:"Speed Up"})]})]}),e.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:e.jsxs("div",{className:"text-xs text-center",children:[e.jsx("span",{className:"text-yellow-700 font-medium",children:"💡 Learning Tip:"}),e.jsx("p",{className:"text-yellow-600 mt-1",children:"Try speeding up time to see how stock prices fluctuate over days and weeks! Notice how the graph shows the ups and downs - this is called volatility."})]})})]})]})}];h.useEffect(()=>{if(!u)return;const _=setInterval(()=>{g($=>$+1),p($=>{const le=(Math.random()-.5)*.1,ee=$*(1+le),te=Math.max(ee,y*.5);return T(Me=>{const Mr={date:new Date(Date.now()+Me.length*24*60*60*1e3).toISOString().split("T")[0],price:te,day:Me.length};return[...Me.slice(-29),Mr]}),te})},1e3/m);return()=>clearInterval(_)},[u,m,y]);const j=()=>{a<w.length-1&&n(_=>_+1)},N=()=>{a>0&&n(_=>_-1)},O=()=>{r(),s()};return t?e.jsx(he,{children:e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs(C.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-3xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:w[a].title}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Step ",a+1," of ",w.length]}),e.jsx("div",{className:"flex space-x-1",children:w.map((_,$)=>e.jsx("div",{className:`w-2 h-2 rounded-full ${$===a?"bg-green-500":$<a?"bg-green-300":"bg-gray-200"}`},$))})]})]}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(qe,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"mb-8",children:w[a].content}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:N,disabled:a===0,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:s,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Skip Tutorial"}),a<w.length-1?e.jsxs("button",{onClick:j,className:"btn-primary flex items-center space-x-2",children:[e.jsx("span",{children:"Next"}),e.jsx($s,{className:"w-4 h-4"})]}):e.jsxs("button",{onClick:O,className:"btn-accent flex items-center space-x-2",children:[e.jsx(nt,{className:"w-4 h-4"}),e.jsx("span",{children:"Complete Tutorial"})]})]})]})]})})}):null};class ho{constructor(){this.stockData={AAPL:{symbol:"AAPL",name:"Apple Inc.",price:188.87,change:2.15,changePercent:1.15,volume:48392847,previousClose:186.72,open:187.25,high:189.95,low:186.5,marketCap:29e11,pe:29.8,timestamp:Date.now(),source:"fallback",chartData:this.generateChartData(186.72,30)},MSFT:{symbol:"MSFT",name:"Microsoft Corporation",price:418.32,change:5.47,changePercent:1.32,volume:23847392,previousClose:412.85,open:414.2,high:419.75,low:413.8,marketCap:31e11,pe:35.2,timestamp:Date.now(),source:"fallback",chartData:this.generateChartData(412.85,30)},GOOGL:{symbol:"GOOGL",name:"Alphabet Inc.",price:162.78,change:-1.23,changePercent:-.75,volume:31847592,previousClose:164.01,open:163.45,high:164.2,low:161.95,marketCap:2e12,pe:24.1,timestamp:Date.now(),source:"fallback",chartData:this.generateChartData(164.01,30)}},this.addMissingStocks()}addMissingStocks(){[{symbol:"TSLA",name:"Tesla Inc.",basePrice:248.5},{symbol:"AMZN",name:"Amazon.com Inc.",basePrice:155.89},{symbol:"META",name:"Meta Platforms Inc.",basePrice:325.67},{symbol:"NVDA",name:"NVIDIA Corporation",basePrice:456.78},{symbol:"NFLX",name:"Netflix Inc.",basePrice:445.32},{symbol:"JPM",name:"JPMorgan Chase & Co.",basePrice:187.45},{symbol:"V",name:"Visa Inc.",basePrice:267.89},{symbol:"JNJ",name:"Johnson & Johnson",basePrice:156.78},{symbol:"WMT",name:"Walmart Inc.",basePrice:165.43},{symbol:"PG",name:"Procter & Gamble Co.",basePrice:156.89},{symbol:"HD",name:"The Home Depot Inc.",basePrice:345.67},{symbol:"DIS",name:"The Walt Disney Co.",basePrice:95.43},{symbol:"PYPL",name:"PayPal Holdings Inc.",basePrice:65.78},{symbol:"ADBE",name:"Adobe Inc.",basePrice:567.89},{symbol:"CRM",name:"Salesforce Inc.",basePrice:245.67},{symbol:"INTC",name:"Intel Corporation",basePrice:45.32},{symbol:"CSCO",name:"Cisco Systems Inc.",basePrice:52.14},{symbol:"PFE",name:"Pfizer Inc.",basePrice:35.67},{symbol:"ABT",name:"Abbott Laboratories",basePrice:112.45},{symbol:"TMO",name:"Thermo Fisher Scientific",basePrice:567.89},{symbol:"LLY",name:"Eli Lilly and Company",basePrice:789.12},{symbol:"MRK",name:"Merck & Co. Inc.",basePrice:105.67},{symbol:"UNH",name:"UnitedHealth Group",basePrice:534.78},{symbol:"ABBV",name:"AbbVie Inc.",basePrice:167.89},{symbol:"DHR",name:"Danaher Corporation",basePrice:245.67},{symbol:"BMY",name:"Bristol Myers Squibb",basePrice:67.89},{symbol:"AMGN",name:"Amgen Inc.",basePrice:278.45},{symbol:"MDT",name:"Medtronic plc",basePrice:89.67},{symbol:"ISRG",name:"Intuitive Surgical",basePrice:345.67},{symbol:"GILD",name:"Gilead Sciences",basePrice:78.9},{symbol:"CVS",name:"CVS Health Corporation",basePrice:89.45},{symbol:"MA",name:"Mastercard Inc.",basePrice:456.78},{symbol:"BAC",name:"Bank of America Corp.",basePrice:34.56},{symbol:"KO",name:"The Coca-Cola Company",basePrice:62.34},{symbol:"PEP",name:"PepsiCo Inc.",basePrice:178.9},{symbol:"COST",name:"Costco Wholesale Corp.",basePrice:678.9},{symbol:"AVGO",name:"Broadcom Inc.",basePrice:890.12},{symbol:"TXN",name:"Texas Instruments",basePrice:167.89},{symbol:"ORCL",name:"Oracle Corporation",basePrice:123.45},{symbol:"ACN",name:"Accenture plc",basePrice:345.67},{symbol:"NKE",name:"Nike Inc.",basePrice:102.34},{symbol:"BABA",name:"Alibaba Group",basePrice:87.65},{symbol:"XOM",name:"Exxon Mobil Corporation",basePrice:98.76}].forEach(r=>{const a=(Math.random()-.5)*10,n=a/r.basePrice*100;this.stockData[r.symbol]={symbol:r.symbol,name:r.name,price:Math.round((r.basePrice+a)*100)/100,change:Math.round(a*100)/100,changePercent:Math.round(n*100)/100,volume:Math.floor(Math.random()*5e7)+1e6,previousClose:r.basePrice,open:Math.round((r.basePrice+(Math.random()-.5)*5)*100)/100,high:Math.round((r.basePrice+Math.abs(a)+Math.random()*2)*100)/100,low:Math.round((r.basePrice-Math.abs(a)-Math.random()*2)*100)/100,marketCap:Math.floor(Math.random()*2e12)+1e11,pe:Math.round((Math.random()*40+10)*10)/10,timestamp:Date.now(),source:"fallback",chartData:this.generateChartData(r.basePrice,30)}})}async getMultipleQuotes(s){const r={};for(const a of s)try{r[a]=await this.getQuote(a)}catch(n){console.warn(`Failed to get quote for ${a}:`,n.message)}return r}generateChartData(s,r){const a=[];let n=s;for(let i=r;i>=0;i--){const o=new Date;o.setDate(o.getDate()-i);const d=(Math.random()-.5)*2*.02;n=n*(1+d),a.push({date:o.toISOString().split("T")[0],price:Math.round(n*100)/100,timestamp:o.getTime()})}return a}updatePrices(s=1,r=.25){Object.keys(this.stockData).forEach(a=>{const n=this.stockData[a];let i,o;switch(a){case"AAPL":i=.015,o=Math.sin(Date.now()/1e6)*.003;break;case"MSFT":i=.012,o=.002;break;case"GOOGL":i=.018,o=Math.cos(Date.now()/8e5)*.002;break;default:i=.01,o=0}const l=i*Math.sqrt(s*r),u=(Math.random()-.5)*2*l+o,c=n.price*(1+u),m=c-n.previousClose;n.price=Math.round(c*100)/100,n.change=Math.round(m*100)/100,n.changePercent=Math.round(m/n.previousClose*1e4)/100,n.timestamp=Date.now();const v=new Date;n.chartData.push({date:v.toISOString().split("T")[0],price:n.price,timestamp:v.getTime()}),n.chartData.length>30&&(n.chartData=n.chartData.slice(-30))})}simulateTimeProgression(s,r=1){const a=r/60*s;return this.updatePrices(s,a),this.stockData}getGrowthSuggestion(s,r,a=[]){const i=(r-s)/s*100;return i<=1?{type:"success",message:"You're almost there! Try speeding up time or consider making one more small trade.",recommendedStock:"MSFT",reason:"MSFT has shown steady growth patterns."}:i<=3?{type:"info",message:"You need about "+Math.ceil(i)+"% more growth. Try different stocks or speed up time!",recommendedStock:"AAPL",reason:"AAPL has good growth potential for small gains."}:{type:"warning",message:"You need "+Math.ceil(i)+"% growth. Speed up time and try trading more actively!",recommendedStock:"GOOGL",reason:"GOOGL has higher volatility and growth potential."}}async getQuote(s){try{await new Promise(a=>setTimeout(a,100));const r=this.stockData[s];if(!r)throw new Error(`Stock ${s} not found`);return{symbol:r.symbol,name:r.name,price:r.price,change:r.change,changePercent:r.changePercent,volume:r.volume,previousClose:r.previousClose,open:r.open,high:r.high,low:r.low,marketCap:r.marketCap,pe:r.pe,timestamp:r.timestamp,source:"demo"}}catch(r){throw console.warn(`StockService.getQuote(${s}):`,r.message),r}}async getChartData(s,r="30d"){try{const a=this.stockData[s];if(!a)throw new Error(`Stock ${s} not found`);return a.chartData}catch(a){throw console.warn(`StockService.getChartData(${s}):`,a.message),a}}startPriceUpdates(){setInterval(()=>{this.updatePrices()},5e3)}getAvailableSymbols(){return Object.keys(this.stockData)}searchStocks(s){const r=Object.values(this.stockData).filter(a=>a.symbol.toLowerCase().includes(s.toLowerCase())||a.name.toLowerCase().includes(s.toLowerCase())).map(a=>({symbol:a.symbol,name:a.name,price:a.price,change:a.change,changePercent:a.changePercent}));return Promise.resolve(r)}getTrendingStocks(){return Promise.resolve(Object.values(this.stockData).sort((s,r)=>Math.abs(r.changePercent)-Math.abs(s.changePercent)).slice(0,5).map(s=>({symbol:s.symbol,name:s.name,price:s.price,change:s.change,changePercent:s.changePercent})))}}const oe=new ho;oe.startPriceUpdates();const Ct=Object.freeze(Object.defineProperty({__proto__:null,default:oe},Symbol.toStringTag,{value:"Module"})),po=({isOpen:t,onClose:s})=>{const r=Ae(),a=se(N=>N.portfolio.activePortfolio);se(N=>N.user);const n=["AAPL","MSFT","GOOGL"],[i,o]=h.useState("AAPL"),[l,d]=h.useState({}),[u,c]=h.useState({}),[m,v]=h.useState("buy"),[b,p]=h.useState(""),[y,f]=h.useState(!1);h.useEffect(()=>{t&&A()},[t]);const A=async()=>{f(!0);try{const N=n.map(M=>oe.getQuote(M).then(W=>({[M]:W}))),O=n.map(M=>oe.getChartData(M).then(W=>({[M]:W}))),[I,q]=await Promise.all([Promise.all(N),Promise.all(O)]),Q=Object.assign({},...I),k=Object.assign({},...q);d(Q),c(k)}catch(N){console.warn("Error loading quotes:",N.message)}finally{f(!1)}},g=N=>({AAPL:{name:"Apple Inc.",description:"World's largest technology company by revenue, known for iPhone, iPad, Mac, and services ecosystem",sector:"Technology",price:188.87,change:2.15,changePercent:1.15,marketCap:"$2.9T",pe:"29.8",recommendation:"Strong Buy - Leading brand with growing services revenue"},MSFT:{name:"Microsoft Corporation",description:"Global leader in cloud computing (Azure), productivity software (Office 365), and enterprise solutions",sector:"Technology",price:418.32,change:5.47,changePercent:1.32,marketCap:"$3.1T",pe:"35.2",recommendation:"Buy - Dominant in cloud computing with strong AI integration"},GOOGL:{name:"Alphabet Inc.",description:"Parent company of Google, dominating search advertising with growing cloud and YouTube businesses",sector:"Technology",price:162.78,change:-1.23,changePercent:-.75,marketCap:"$2.0T",pe:"24.1",recommendation:"Buy - Strong advertising moat with AI and cloud growth potential"}})[N]||{name:N,description:"Stock information",sector:"Unknown"},S=l[i],P=g(i),E=S&&S.price||P.price,D=((a==null?void 0:a.positions)||[]).find(N=>N.symbol===i),U=E?Math.floor(((a==null?void 0:a.cash)||0)/E*10)/10:0,T=(D==null?void 0:D.shares)||0,B=m==="buy"?U:T,w=({data:N,symbol:O})=>{if(!N||N.length<2)return null;const I=200,q=80,Q=10,k=N.map(_=>_.price),M=Math.min(...k),W=Math.max(...k),V=W-M,z=N.map((_,$)=>{const le=$/(N.length-1)*(I-2*Q)+Q,ee=q-Q-(_.price-M)/V*(q-2*Q);return`${le},${ee}`}).join(" "),J=k[k.length-1],Z=k[0],pe=J>=Z;return e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"30-Day Chart"}),e.jsxs("svg",{width:I,height:q,className:"w-full",children:[e.jsx("polyline",{points:z,fill:"none",stroke:pe?"#10b981":"#ef4444",strokeWidth:"2",className:"transition-all duration-300"}),e.jsx("defs",{children:e.jsx("pattern",{id:"grid",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:e.jsx("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"#e5e7eb",strokeWidth:"0.5"})})}),e.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1 flex justify-between",children:[e.jsxs("span",{children:["$",M.toFixed(2)]}),e.jsxs("span",{className:pe?"text-green-600":"text-red-600",children:[pe?"+":"",((J-Z)/Z*100).toFixed(1),"%"]}),e.jsxs("span",{children:["$",W.toFixed(2)]})]})]})},j=()=>{if(!b||!E){ie.error("Please enter number of shares");return}const N=parseFloat(b);if(N<.1){ie.error("Minimum purchase is 0.1 shares");return}const O={symbol:i,companyName:P.name,shares:N,price:E};if(m==="buy"){if(N*E>((a==null?void 0:a.cash)||0)){ie.error("Insufficient funds");return}r(ar(O)),ie.success(`Bought ${N} shares of ${i}`)}else{if(!D||D.shares<N){ie.error("Insufficient shares to sell");return}r(nr(O)),ie.success(`Sold ${N} shares of ${i}`)}p(""),s()};return t?e.jsx(he,{children:e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:s,children:e.jsxs(C.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl shadow-2xl max-w-7xl w-full max-h-[95vh] overflow-y-auto",onClick:N=>N.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Bt,{className:"w-6 h-6 text-accent"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Level 1 Trading"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Choose from these 3 starter stocks"})]})]}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(qe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Select Stock"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:n.map(N=>{const O=l[N],I=g(N),q=i===N;return e.jsx(C.button,{onClick:()=>o(N),whileHover:{scale:1.02},whileTap:{scale:.98},className:`p-4 rounded-xl border-2 transition-all text-left ${q?"border-accent bg-accent/5 ring-2 ring-accent/20":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900",children:N}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:I.name}),e.jsx("p",{className:"text-xs text-gray-500",children:I.description})]}),y?e.jsx("div",{className:"w-4 h-4 border-2 border-accent border-t-transparent rounded-full animate-spin"}):e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-lg",children:R(O&&O.price||I.price)}),e.jsxs("p",{className:`text-sm ${(O&&O.change||I.change)>=0?"text-green-600":"text-red-600"}`,children:[(O&&O.change||I.change)>=0?"+":"",(O&&O.changePercent||I.changePercent).toFixed(2),"%"]})]})]})},N)})})]}),m==="sell"&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Holdings"}),a!=null&&a.positions&&a.positions.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:a.positions.map(N=>{const O=l[N.symbol],I=(O==null?void 0:O.price)||0,q=I*N.shares,Q=q-N.avgPrice*N.shares,k=N.avgPrice?(I-N.avgPrice)/N.avgPrice*100:0,M=Q>=0,W=i===N.symbol;return e.jsxs(C.button,{onClick:()=>{o(N.symbol),p(N.shares.toString())},whileHover:{scale:1.02},whileTap:{scale:.98},className:`p-4 rounded-xl border-2 transition-all text-left ${W?"border-accent bg-accent/5":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-bold text-gray-900",children:N.symbol}),e.jsxs("span",{className:"text-sm text-gray-600",children:[N.shares," shares"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Avg Cost:"}),e.jsx("span",{children:R(N.avgPrice)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Current:"}),e.jsx("span",{children:R(I)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Value:"}),e.jsx("span",{children:R(q)})]}),e.jsxs("div",{className:`flex justify-between text-sm font-semibold ${M?"text-green-600":"text-red-600"}`,children:[e.jsx("span",{children:"Gain/Loss:"}),e.jsxs("span",{children:[M?"+":"",R(Q),e.jsx("br",{}),"(",M?"+":"",k.toFixed(2),"%)"]})]})]})]},N.symbol)})}),e.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"💡 Click on any holding to select it for selling"})]}):e.jsx("div",{className:"text-center py-8",children:e.jsxs("div",{className:"text-gray-400 mb-3",children:[e.jsx(Fe,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{className:"text-lg font-medium text-gray-600",children:"No holdings to sell"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Buy some stocks first to see them here"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Place Order"}),e.jsx("div",{children:e.jsxs("div",{className:"flex rounded-xl bg-gray-100 p-1",children:[e.jsx("button",{onClick:()=>v("buy"),className:`flex-1 py-2 px-4 rounded-lg font-semibold transition-all ${m==="buy"?"bg-green-500 text-white shadow-md":"text-gray-600 hover:text-gray-800"}`,children:"Buy"}),e.jsx("button",{onClick:()=>v("sell"),className:`flex-1 py-2 px-4 rounded-lg font-semibold transition-all ${m==="sell"?"bg-red-500 text-white shadow-md":"text-gray-600 hover:text-gray-800"}`,children:"Sell"})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Number of Shares"}),e.jsx("input",{type:"number",value:b,onChange:N=>p(N.target.value),placeholder:"0.1",min:"0.1",step:"0.1",max:B,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Max: ",B.toLocaleString()," shares"]})]}),E&&b&&e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Order Summary"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Stock:"}),e.jsx("span",{children:i})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Shares:"}),e.jsx("span",{children:parseFloat(b||0).toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Price per share:"}),e.jsx("span",{children:R(E)})]}),e.jsxs("div",{className:"flex justify-between font-semibold text-lg border-t pt-2",children:[e.jsx("span",{children:"Total:"}),e.jsx("span",{children:R(parseFloat(b||0)*E)})]})]})]}),e.jsx("button",{onClick:j,disabled:!b||!E||y,className:`w-full py-3 px-6 rounded-xl font-semibold transition-all ${m==="buy"?"bg-green-500 hover:bg-green-600 text-white":"bg-red-500 hover:bg-red-600 text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:y?"Loading...":`${m==="buy"?"Buy":"Sell"} ${i}`})]}),e.jsxs("div",{className:"space-y-6",children:[i&&e.jsxs("div",{className:"p-6 bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 rounded-xl border border-blue-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Stock Analysis"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-xl text-gray-900",children:g(i).name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g(i).description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"bg-white/70 p-3 rounded-lg",children:[e.jsx("span",{className:"text-gray-600",children:"Market Cap"}),e.jsx("p",{className:"font-semibold",children:g(i).marketCap})]}),e.jsxs("div",{className:"bg-white/70 p-3 rounded-lg",children:[e.jsx("span",{className:"text-gray-600",children:"P/E Ratio"}),e.jsx("p",{className:"font-semibold",children:g(i).pe})]})]}),e.jsxs("div",{className:"bg-white/70 p-3 rounded-lg",children:[e.jsx("span",{className:"text-gray-600 text-xs",children:"Investment Outlook"}),e.jsx("p",{className:"text-sm font-medium text-blue-800 mt-1",children:g(i).recommendation})]}),e.jsxs("div",{className:"bg-white/70 p-3 rounded-lg",children:[e.jsx("span",{className:"text-gray-600 text-xs mb-2 block",children:"Price Performance"}),e.jsx(w,{data:u[i],symbol:i})]})]})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Account Summary"}),e.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Available Cash"}),e.jsx("span",{className:"text-xl font-bold text-green-600",children:R((a==null?void 0:a.cash)||0)})]})}),e.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Portfolio Value"}),e.jsx("span",{className:"text-xl font-bold text-blue-600",children:R((a==null?void 0:a.totalValue)||0)})]})}),D&&e.jsxs("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl",children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Current Position"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Stock:"}),e.jsx("span",{className:"font-medium",children:i})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Shares:"}),e.jsx("span",{className:"font-medium",children:D.shares})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Current Value:"}),e.jsx("span",{className:"font-medium",children:R(D.shares*E)})]})]})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl border border-yellow-200",children:[e.jsx("h4",{className:"font-semibold text-orange-800 mb-1",children:"Level 1 Objective"}),e.jsx("p",{className:"text-sm text-orange-700",children:"Make your first stock purchase to progress in the game!"})]})]})]})]})]})})}):null},fo=({portfolio:t,timeSpeed:s,isSimulatingTime:r,height:a=300})=>{var p;const[n,i]=h.useState([]),[o,l]=h.useState({}),[d,u]=h.useState({}),c={AAPL:"#1f77b4",MSFT:"#ff7f0e",GOOGL:"#2ca02c",TSLA:"#d62728",AMZN:"#9467bd",META:"#8c564b",NVDA:"#e377c2",NFLX:"#7f7f7f"},m=h.useMemo(()=>{var y;return((y=t==null?void 0:t.positions)==null?void 0:y.map(f=>f.symbol))||[]},[t==null?void 0:t.positions]);h.useEffect(()=>{var y;if(((y=t==null?void 0:t.positions)==null?void 0:y.length)>0){const f={};t.positions.forEach(A=>{f[A.symbol]=!0}),l(f)}},[t==null?void 0:t.positions]),h.useEffect(()=>{(async()=>{var S;if(!((S=t==null?void 0:t.positions)!=null&&S.length))return;const f=new Date,A={};for(const P of t.positions)try{const E=await oe.getQuote(P.symbol);E&&(A[P.symbol]=[{timestamp:f.getTime(),price:E.price,change:E.change,changePercent:E.changePercent}])}catch{console.warn(`Failed to get quote for ${P.symbol}`)}const g={timestamp:f.getTime(),time:f.toLocaleTimeString()};Object.keys(A).forEach(P=>{A[P].length>0&&(g[P]=A[P][0].price)}),i([g]),u(A)})()},[t==null?void 0:t.positions]),h.useEffect(()=>{if(r&&s>1){const y=setInterval(()=>{var P;const f=new Date,A={timestamp:f.getTime(),time:f.toLocaleTimeString()},g=oe.getAvailableSymbols(),S={...d};(P=t==null?void 0:t.positions)==null||P.forEach(E=>{if(g.includes(E.symbol))try{const D=oe.stockData[E.symbol];if(D){const U={timestamp:f.getTime(),price:D.price,change:D.change,changePercent:D.changePercent};S[E.symbol]||(S[E.symbol]=[]),S[E.symbol].push(U),S[E.symbol].length>50&&(S[E.symbol]=S[E.symbol].slice(-50)),A[E.symbol]=D.price}}catch(D){console.warn(`Error updating ${E.symbol}:`,D)}}),u(S),i(E=>{const D=[...E,A];return D.length>50?D.slice(-50):D})},2e3);return()=>clearInterval(y)}},[r,s,t==null?void 0:t.positions,d]);const v=y=>{l(f=>({...f,[y]:!f[y]}))},b=({active:y,payload:f,label:A})=>y&&f&&f.length?e.jsxs("div",{className:"bg-white p-4 border border-gray-200 rounded-xl shadow-lg min-w-48",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2 font-medium",children:A}),e.jsx("div",{className:"space-y-1",children:f.map(g=>{const S=d[g.dataKey],P=S==null?void 0:S.find(E=>Math.abs(E.timestamp-g.payload.timestamp)<5e3);return e.jsxs("div",{className:"flex items-center justify-between space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:g.color}}),e.jsx("span",{className:"text-sm font-medium",children:g.dataKey})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold",children:R(g.value)}),P&&e.jsxs("div",{className:`text-xs ${de(P.change)}`,children:[P.change>=0?"+":"",P.changePercent.toFixed(2),"%"]})]})]},g.dataKey)})})]}):null;return(p=t==null?void 0:t.positions)!=null&&p.length?e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Live Stock Performance"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Real-time price changes for your portfolio stocks",r&&s>1&&e.jsxs("span",{className:"ml-2 text-blue-600 font-medium",children:["(",s,"x speed)"]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:m.map(y=>e.jsxs("button",{onClick:()=>v(y),className:`flex items-center space-x-1 px-3 py-1 rounded-full text-xs font-medium transition-all ${o[y]?"bg-blue-100 text-blue-700 border border-blue-200":"bg-gray-100 text-gray-500 border border-gray-200"}`,children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:o[y]?c[y]:"#ccc"}}),e.jsx("span",{children:y}),o[y]?e.jsx(qt,{className:"w-3 h-3"}):e.jsx(Xr,{className:"w-3 h-3"})]},y))})]}),e.jsx("div",{className:"relative",children:e.jsx(Vt,{width:"100%",height:a,children:e.jsxs(Ht,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(zt,{strokeDasharray:"3 3",stroke:"#f5f5f5"}),e.jsx(Gt,{dataKey:"time",stroke:"#666",fontSize:11,interval:"preserveStartEnd"}),e.jsx(Wt,{domain:["dataMin - 5","dataMax + 5"],tickFormatter:y=>`$${y.toFixed(0)}`,stroke:"#666",fontSize:11}),e.jsx(Kt,{content:e.jsx(b,{})}),e.jsx(ia,{wrapperStyle:{paddingTop:"20px"},iconType:"line"}),m.map(y=>o[y]&&e.jsx(Qt,{type:"monotone",dataKey:y,stroke:c[y],strokeWidth:2,dot:!1,activeDot:{r:4,fill:c[y],stroke:"#fff",strokeWidth:2},connectNulls:!1},y))]})})}),e.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{children:["Data Points: ",n.length]}),e.jsxs("span",{children:["Update Rate: ",r?"2s":"Static"]})]}),r&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-green-600 font-medium",children:"Live Updates Active"})]})]})]}):e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(re,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Stocks to Track"}),e.jsx("p",{className:"text-gray-500",children:"Buy some stocks to see their live performance here!"})]})})},go=()=>{var B,w;const t=Ae();Xt();const s=se(j=>j.user),r=se(j=>j.portfolio.activePortfolio),a=se(j=>j.tutorial),[n,i]=h.useState(""),[o,l]=h.useState(!1),[d,u]=h.useState(!1),[c,m]=h.useState(1),[v,b]=h.useState(new Date),[p,y]=h.useState(null),[f,A]=h.useState(!1);h.useEffect(()=>{const j=new Date().getHours();j<12?i("Good morning"):j<18?i("Good afternoon"):i("Good evening")},[]),h.useEffect(()=>{var j;s&&!a.hasCompletedTutorial&&((j=r==null?void 0:r.transactions)==null?void 0:j.length)===0&&t(En())},[s,a.hasCompletedTutorial,(B=r==null?void 0:r.transactions)==null?void 0:B.length,t]);const g=h.useMemo(()=>{const j=(s==null?void 0:s.currentLevel)||1,N=ve[j]||ve[1],O=(r==null?void 0:r.totalValue)||0,I=(r==null?void 0:r.startingValue)||1,q=O-I,Q=(O-I)/I*100,k=O/N.winCondition*100;return{currentLevel:j,currentLevelConfig:N,totalValue:O,startingValue:I,totalGain:q,totalGainPercent:Q,progressToNext:k}},[s==null?void 0:s.currentLevel,r==null?void 0:r.totalValue,r==null?void 0:r.startingValue]);h.useEffect(()=>{if(g.currentLevel===1&&c>1&&f){const j=setInterval(async()=>{b(I=>new Date(I.getTime()+c*6e4));const N=oe.simulateTimeProgression(c,1),O={};Object.keys(N).forEach(I=>{O[I]={price:N[I].price,change:N[I].change,changePercent:N[I].changePercent}}),t(Cn(O))},1e3);return()=>clearInterval(j)}},[c,g.currentLevel,f,t]),h.useEffect(()=>{if(g.currentLevel===1){const j=oe.getGrowthSuggestion(g.totalValue,g.currentLevelConfig.winCondition,(r==null?void 0:r.positions)||[]);y(j)}},[g.totalValue,g.currentLevel,g.currentLevelConfig.winCondition,r==null?void 0:r.positions]);const S=h.useCallback(()=>{t(Ln())},[t]),P=h.useCallback(()=>{t(On())},[t]),E=h.useCallback(()=>{u(!0)},[]),D=h.useCallback(()=>{u(!1)},[]);h.useCallback(()=>{A(!0)},[]),h.useCallback(()=>{A(!1)},[]);const U=h.useCallback(j=>{m(j),A(j!==1)},[]);if(!s||!r||!s.isInitialized)return e.jsx("div",{className:"flex items-center justify-center min-h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})});if(s.isOnboarding)return e.jsx("div",{className:"flex items-center justify-center min-h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Redirecting to onboarding..."})]})});const T=h.useMemo(()=>{const j=g.currentLevel,N=(r==null?void 0:r.transactions)||[],O=(r==null?void 0:r.positions)||[],I=[...new Set(O.map(q=>q.symbol))];switch(j){case 1:return[{title:"Make Your First Stock Purchase",description:"Buy shares of any available stock (AAPL, MSFT, GOOGL, TSLA, AMZN)",completed:N.length>0,action:{label:"Start Trading",onClick:E}},{title:"Complete 5 Successful Trades",description:"Buy and sell stocks to understand market mechanics",completed:N.length>=5,progress:{current:Math.min(N.length,5),target:5},action:N.length>0?{label:"Continue Trading",onClick:E}:null},{title:"Achieve 5% Portfolio Growth",description:`Grow your portfolio from $${g.currentLevelConfig.startingCapital} to $${g.currentLevelConfig.winCondition}`,completed:g.totalValue>=g.currentLevelConfig.winCondition,progress:{current:Math.max(g.totalValue,g.currentLevelConfig.startingCapital),target:g.currentLevelConfig.winCondition},hint:p,action:g.totalValue<g.currentLevelConfig.winCondition?{label:"📈 Help Me Reach 5%",onClick:()=>{c===1?U(10):E()}}:{label:"🎉 Goal Achieved!",onClick:()=>{}}},{title:"Learn the Basics",description:"Read about stock fundamentals in the Education Center",completed:!1,action:{label:"Learn More",onClick:()=>window.location.href="/education"}}];case 2:return[{title:"Diversify Your Portfolio",description:"Invest in at least 3 different stocks from different sectors",completed:I.length>=3,progress:{current:I.length,target:3},action:{label:"Explore Market",onClick:()=>window.location.href="/market"}},{title:"Research Companies",description:"Use market research tools to analyze company fundamentals",completed:!1,action:{label:"Research Stocks",onClick:()=>window.location.href="/market"}},{title:"Achieve $600 Portfolio Value",description:"Grow your $500 starting capital by 20%",completed:g.totalValue>=g.currentLevelConfig.winCondition,progress:{current:Math.max(g.totalValue,g.currentLevelConfig.startingCapital),target:g.currentLevelConfig.winCondition}}];case 3:return[{title:"Use Advanced Order Types",description:"Place limit orders and stop-loss orders to manage risk",completed:!1,action:{label:"Advanced Trading",onClick:()=>window.location.href="/trading"}},{title:"Master Risk Management",description:"Keep portfolio losses below 15% at all times",completed:!1,action:{label:"Learn Risk Management",onClick:()=>window.location.href="/education"}},{title:"Achieve $1,300 Portfolio Value",description:"Grow your $1,000 starting capital by 30%",completed:g.totalValue>=g.currentLevelConfig.winCondition,progress:{current:Math.max(g.totalValue,g.currentLevelConfig.startingCapital),target:g.currentLevelConfig.winCondition}}];case 4:return[{title:"Execute Short Selling",description:"Learn to profit from declining stock prices",completed:!1,action:{label:"Learn Short Selling",onClick:()=>window.location.href="/education"}},{title:"Use Technical Analysis",description:"Analyze charts and use technical indicators for trading decisions",completed:!1,action:{label:"View Charts",onClick:()=>window.location.href="/market"}},{title:"Achieve $6,500 Portfolio Value",description:"Grow your $5,000 starting capital by 30% using advanced strategies",completed:g.totalValue>=g.currentLevelConfig.winCondition,progress:{current:Math.max(g.totalValue,g.currentLevelConfig.startingCapital),target:g.currentLevelConfig.winCondition}}];case 5:return[{title:"Options Trading Simulation",description:"Learn and practice options trading strategies",completed:!1,action:{label:"Learn Options",onClick:()=>window.location.href="/education"}},{title:"Portfolio Optimization",description:"Create a well-balanced, diversified portfolio across multiple asset classes",completed:I.length>=5,progress:{current:I.length,target:5}},{title:"Achieve $15,000 Portfolio Value",description:"Grow your $10,000 starting capital by 50% - the ultimate challenge!",completed:g.totalValue>=g.currentLevelConfig.winCondition,progress:{current:Math.max(g.totalValue,g.currentLevelConfig.startingCapital),target:g.currentLevelConfig.winCondition}}];default:return[]}},[g.currentLevel,r==null?void 0:r.transactions,r==null?void 0:r.positions,g.totalValue,g.currentLevelConfig]);return e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},className:"space-y-8",children:[g.currentLevel===1&&e.jsxs(C.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:`rounded-xl p-6 border-2 transition-all ${g.totalValue>=g.currentLevelConfig.winCondition?"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200":"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Us,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Portfolio Growth Challenge"}),e.jsx("p",{className:"text-sm text-gray-600",children:g.totalValue>=g.currentLevelConfig.winCondition?"🎉 Congratulations! You reached your growth target!":"Speed up time to see how your investments perform"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Time Speed:"}),e.jsx("div",{className:"flex space-x-1",children:[1,5,10,30].map(j=>e.jsxs("button",{onClick:()=>U(j),className:`px-3 py-1 rounded-lg text-sm font-medium transition-all ${c===j?"bg-blue-500 text-white":"bg-white text-gray-600 hover:bg-blue-100"}`,children:[j,"x"]},j))}),f&&e.jsx(_s,{className:"w-4 h-4 text-blue-600 animate-pulse"})]})]}),p&&g.totalValue<g.currentLevelConfig.winCondition&&e.jsx("div",{className:`p-4 rounded-lg border ${p.type==="success"?"bg-green-50 border-green-200":p.type==="info"?"bg-blue-50 border-blue-200":"bg-orange-50 border-orange-200"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${p.type==="success"?"bg-green-500":p.type==="info"?"bg-blue-500":"bg-orange-500"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:p.message}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-xs font-medium text-gray-600",children:"💡 Try:"}),e.jsx("span",{className:"text-sm font-semibold text-gray-800",children:p.recommendedStock}),e.jsx("span",{className:"text-xs text-gray-600",children:p.reason}),e.jsx("button",{onClick:E,className:"text-xs bg-white px-2 py-1 rounded border hover:bg-gray-50 transition-colors",children:"Trade Now"})]})]})]})}),c>1&&e.jsxs("div",{className:"mt-3 text-xs text-blue-600 bg-blue-100 px-3 py-1 rounded-full inline-block",children:["Game Time: ",v.toLocaleTimeString()," (accelerated ",c,"x)"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-8",children:[e.jsxs(C.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1,ease:"easeOut"},className:"card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Portfolio Value"}),e.jsx(re,{className:"w-4 h-4 text-gray-400"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 font-mono",children:R(g.totalValue)}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Starting: ",R(g.startingValue)]})]})]}),e.jsxs(C.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,ease:"easeOut"},className:"card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Return"}),e.jsx("div",{className:`w-4 h-4 ${g.totalGain>=0?"text-green-500":"text-red-500"}`,children:g.totalGain>=0?e.jsx(re,{className:"w-4 h-4"}):e.jsx(Fe,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:`text-2xl font-bold font-mono ${de(g.totalGain)}`,children:[g.totalGainPercent>=0?"+":"",g.totalGainPercent.toFixed(1),"%"]}),e.jsxs("p",{className:`text-sm ${de(g.totalGain)}`,children:[g.totalGain>=0?"+":"",R(g.totalGain)]})]})]}),e.jsxs(C.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,ease:"easeOut"},className:"card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Level Progress"}),e.jsxs("div",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:[g.currentLevel,"/5"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:g.currentLevelConfig.name})}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx(C.div,{initial:{width:0},animate:{width:`${Math.min(g.progressToNext,100)}%`},transition:{delay:.5,duration:.8,ease:"easeOut"},className:"bg-gray-900 h-2 rounded-full"})}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Target: ",R(g.currentLevelConfig.winCondition)]})]})]})]}),e.jsx(C.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,ease:"easeOut"},children:e.jsx(fo,{portfolio:r,timeSpeed:c,isSimulatingTime:f,height:window.innerWidth<1024?250:350})}),e.jsxs(C.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,ease:"easeOut"},className:"card p-8",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(j=>{const N=j<=g.currentLevel,O=j===g.currentLevel;return e.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center font-bold text-sm transition-all ${O?"bg-accent text-white shadow-lg ring-4 ring-accent/20":N?"bg-green-500 text-white cursor-pointer hover:bg-green-600":"bg-gray-200 text-gray-400"}`,children:N&&j<g.currentLevel?"✓":j},j)})})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Level ",g.currentLevel,": ",g.currentLevelConfig.name]}),e.jsx("p",{className:"text-gray-600 mb-4",children:g.currentLevelConfig.description}),e.jsxs("div",{className:"inline-flex items-center space-x-4 text-sm",children:[e.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full",children:["Capital: ",R(g.currentLevelConfig.startingCapital)]}),e.jsxs("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full",children:["Target: ",R(g.currentLevelConfig.winCondition)]}),e.jsxs("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full",children:["Stocks: ",Array.isArray(g.currentLevelConfig.availableStocks)?g.currentLevelConfig.availableStocks.length:g.currentLevelConfig.availableStocks]})]})]}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Level Objectives"}),e.jsx("div",{className:"space-y-4",children:T.map((j,N)=>e.jsxs(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*N},className:`flex items-start space-x-3 p-4 rounded-lg border ${j.completed?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold ${j.completed?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,children:j.completed?"✓":N+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`font-medium ${j.completed?"text-green-800":"text-gray-900"}`,children:j.title}),e.jsx("p",{className:`text-sm mt-1 ${j.completed?"text-green-600":"text-gray-600"}`,children:j.description}),j.progress&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[j.progress.current," / ",j.progress.target]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-accent h-2 rounded-full transition-all",style:{width:`${Math.min(j.progress.current/j.progress.target*100,100)}%`}})})]})]}),j.action&&e.jsx("button",{onClick:j.action.onClick,className:"btn-primary text-sm px-4 py-2",children:j.action.label})]},N))})]})]}),((w=r==null?void 0:r.transactions)==null?void 0:w.length)>0&&e.jsxs(C.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,ease:"easeOut"},className:"card p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),e.jsx("div",{className:"space-y-3",children:r.transactions.slice(0,3).map((j,N)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${j.type==="buy"?"bg-green-100":"bg-red-100"}`,children:j.type==="buy"?e.jsx(re,{className:"w-4 h-4 text-green-600"}):e.jsx(Fe,{className:"w-4 h-4 text-red-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[j.type.toUpperCase()," ",j.symbol]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[j.shares," shares @ ",R(j.price)]})]})]}),e.jsx("p",{className:"font-mono font-medium text-gray-900",children:R(j.shares*j.price)})]},j.id))})]}),e.jsx(mo,{isOpen:a.showTutorial,onClose:S,onComplete:P}),e.jsx(or,{isOpen:o,onClose:()=>l(!1)}),e.jsx(po,{isOpen:d,onClose:D})]})},xo=()=>{const t=se(n=>n.portfolio.activePortfolio);if(!t||(t.positions||[]).length===0)return e.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[e.jsx(Pt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-600 mb-2",children:"No Positions Yet"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Start trading to build your portfolio!"}),e.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn-primary",children:"Start Trading"})]});const s=(t==null?void 0:t.totalValue)||0,r=s-((t==null?void 0:t.startingValue)||0),a=t!=null&&t.startingValue&&t.startingValue>0?r/t.startingValue*100:0;return e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsx(C.div,{initial:{scale:.95},animate:{scale:1},className:"card p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Value"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:R(s)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Return"}),e.jsx("p",{className:`text-3xl font-bold ${de(r)}`,children:R(r)}),e.jsx("p",{className:`text-sm ${de(r)}`,children:Zt(a/100)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Cash"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:R((t==null?void 0:t.cash)||0)})]})]})}),e.jsxs(C.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"card p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Your Positions"}),e.jsx("div",{className:"space-y-4",children:((t==null?void 0:t.positions)||[]).map((n,i)=>{const o=n.shares*n.currentPrice,l=n.unrealizedGain,d=(n.currentPrice-n.averagePrice)/n.averagePrice*100;return e.jsxs(C.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3+i*.1},className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-primary rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:n.symbol.charAt(0)})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:n.symbol}),e.jsxs("p",{className:"text-sm text-gray-600",children:[n.shares," shares @ ",R(n.averagePrice)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold text-gray-800",children:R(o)}),e.jsxs("p",{className:`text-sm ${de(l)}`,children:[l>=0?"+":"",R(l)," (",d.toFixed(1),"%)"]})]})]},`${n.symbol}-${i}`)})})]})]})},yo=()=>{var N,O,I,q,Q;const[t,s]=h.useState(""),[r,a]=h.useState([]),[n,i]=h.useState([]),[o,l]=h.useState({}),[d,u]=h.useState(!1),[c,m]=h.useState("overview"),[v,b]=h.useState(null),[p,y]=h.useState({}),[f,A]=h.useState(!1),[g,S]=h.useState(null);h.useEffect(()=>{U()},[]);const P={Technology:{performance:"+2.4%",trend:"up",marketCap:"$15.2T",companies:["AAPL","MSFT","GOOGL","META","NVDA","ADBE","CRM","INTC","CSCO","ORCL"],description:"Leading innovation in software, hardware, and digital services globally.",keyThemes:["Artificial Intelligence","Cloud Computing","Digital Transformation","Cybersecurity"]},Healthcare:{performance:"+1.8%",trend:"up",marketCap:"$8.9T",companies:["JNJ","PFE","ABT","TMO","LLY","MRK","UNH","ABBV","DHR","BMY","AMGN","MDT","ISRG","GILD","CVS"],description:"Pharmaceutical, biotechnology, and medical device companies.",keyThemes:["Drug Development","Biotech Innovation","Medical Devices","Healthcare Services"]},Financial:{performance:"-0.5%",trend:"down",marketCap:"$6.7T",companies:["JPM","V","MA","BAC"],description:"Banks, payment processors, and financial services companies.",keyThemes:["Digital Banking","Fintech","Interest Rates","Regulation"]},Consumer:{performance:"+0.9%",trend:"up",marketCap:"$5.1T",companies:["AMZN","WMT","HD","DIS","NKE","COST","PG","KO","PEP"],description:"Retail, entertainment, and consumer goods companies.",keyThemes:["E-commerce Growth","Consumer Spending","Brand Loyalty","Supply Chain"]},Energy:{performance:"+3.2%",trend:"up",marketCap:"$2.8T",companies:["XOM"],description:"Oil, gas, and renewable energy companies.",keyThemes:["Energy Transition","Oil Prices","Renewable Energy","ESG Investing"]},Communication:{performance:"+1.1%",trend:"up",marketCap:"$3.4T",companies:["NFLX"],description:"Media, entertainment, and telecommunications companies.",keyThemes:["Streaming Wars","5G Deployment","Content Creation","Digital Advertising"]}},E={AAPL:{name:"Apple Inc.",sector:"Technology",industry:"Consumer Electronics",marketCap:"$3.0T",description:"World's largest technology company by revenue, known for iPhone, Mac, and services.",headquarters:"Cupertino, CA",employees:"161,000",founded:"1976",bullishPoints:["Dominant ecosystem with high customer loyalty","Strong services revenue growth (+16% annually)","Massive cash reserves ($165B+) for innovation","Leading position in premium smartphone market","Expanding into new categories (VR/AR, automotive)"],bearishPoints:["Heavy dependence on iPhone sales (52% of revenue)","Intense competition in smartphone market","Regulatory pressure and potential antitrust action","Slowing growth in mature markets","Supply chain vulnerabilities in Asia"],keyMetrics:{"P/E Ratio":"28.5","Revenue Growth":"8.2%","Profit Margin":"25.3%",ROE:"147.4%"}},MSFT:{name:"Microsoft Corporation",sector:"Technology",industry:"Software",marketCap:"$2.8T",description:"Leading software company with cloud computing, productivity software, and gaming.",headquarters:"Redmond, WA",employees:"221,000",founded:"1975",bullishPoints:["Azure cloud platform growing at 25%+ annually","Strong recurring revenue from Office 365 subscriptions","Leadership in AI with OpenAI partnership","Diversified revenue streams across enterprise and consumer","Strong balance sheet and consistent dividend payments"],bearishPoints:["Intense competition from Amazon AWS and Google Cloud","Legacy business segments facing slower growth","High valuation relative to historical norms","Regulatory scrutiny over market dominance","Currency headwinds from international operations"],keyMetrics:{"P/E Ratio":"32.1","Revenue Growth":"12.1%","Profit Margin":"36.7%",ROE:"45.2%"}},GOOGL:{name:"Alphabet Inc.",sector:"Technology",industry:"Internet Services",marketCap:"$1.7T",description:"Parent company of Google, leading in search, advertising, and cloud computing.",headquarters:"Mountain View, CA",employees:"182,000",founded:"1998",bullishPoints:["Dominant search engine with 92% market share","YouTube growth in video advertising and subscriptions","Google Cloud Platform gaining enterprise customers","Leadership in AI research and development","Strong free cash flow generation"],bearishPoints:["Heavy dependence on advertising revenue (80%+)","Regulatory pressure and antitrust investigations","Competition from TikTok and other social platforms","Privacy regulations impacting ad targeting","High employee costs and R&D expenses"],keyMetrics:{"P/E Ratio":"24.8","Revenue Growth":"11.3%","Profit Margin":"21.2%",ROE:"29.1%"}},TSLA:{name:"Tesla Inc.",sector:"Consumer",industry:"Electric Vehicles",marketCap:"$800B",description:"Leading electric vehicle manufacturer and clean energy company.",headquarters:"Austin, TX",employees:"127,000",founded:"2003",bullishPoints:["First-mover advantage in premium EV market","Supercharger network provides competitive moat","Vertical integration reduces costs and improves margins","Energy storage and solar business growth potential","Full self-driving technology development"],bearishPoints:["Intense competition from traditional automakers","Production and delivery challenges","High valuation compared to traditional automakers","Regulatory changes affecting EV incentives","Key person risk with CEO Elon Musk"],keyMetrics:{"P/E Ratio":"65.2","Revenue Growth":"51.4%","Profit Margin":"8.1%",ROE:"28.1%"}}},D=async k=>(console.warn("Alpha Vantage API key not found"),null),U=async()=>{u(!0);try{const k=[];Object.values(P).forEach(z=>{k.push(...z.companies)});const M=["BABA","PYPL","AVGO","TXN","ACN"],W=[...new Set([...k,...M])];i(W);const V=await oe.getMultipleQuotes(W);l(V)}catch(k){console.error("Error loading stocks:",k)}finally{u(!1)}},T=async k=>{if(k.length<2){a([]);return}u(!0);try{const M=await oe.searchStocks(k);a(M)}catch(M){console.error("Error searching stocks:",M)}finally{u(!1)}},B=async k=>{var V;b(k);const W=(((V=P[k])==null?void 0:V.companies)||[]).filter(z=>!o[z]);if(W.length>0)try{const z=await oe.getMultipleQuotes(W);l(J=>({...J,...z}))}catch(z){console.error("Error loading sector quotes:",z)}if(!p[k]){const z=await D();z&&y(J=>({...J,[k]:z}))}},w=({symbol:k,quote:M,showWatchButton:W=!0})=>{if(!M)return null;const V=E[k],z=g===k;return e.jsx(C.div,{whileHover:{scale:1.02},className:"card overflow-hidden",children:e.jsxs("div",{className:"p-4",children:[e.jsxs(xe,{to:`/market/${k}`,className:"block",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:k.charAt(0)})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:k}),e.jsx("p",{className:"text-sm text-gray-600",children:(V==null?void 0:V.name)||"Stock"})]})]}),W&&e.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100",children:e.jsx(qt,{className:"w-4 h-4 text-gray-500"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:e.jsx("p",{className:"text-xl font-bold text-gray-800",children:R(M.price)})}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`font-semibold ${de(M.change)}`,children:[M.change>=0?"+":"",R(M.change)]}),e.jsxs("p",{className:`text-sm ${de(M.change)}`,children:[M.changePercent>=0?"+":"",Zt(M.changePercent/100)]})]})]})]}),V&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[e.jsxs("button",{onClick:J=>{J.preventDefault(),S(z?null:k)},className:"flex items-center justify-between w-full text-left",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Company Info"}),z?e.jsx(ta,{className:"w-4 h-4"}):e.jsx(sa,{className:"w-4 h-4"})]}),e.jsx(he,{children:z&&e.jsxs(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 space-y-3",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"text-gray-600 mb-2",children:V.description}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Sector:"})," ",V.sector]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Market Cap:"})," ",V.marketCap]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[e.jsxs("h4",{className:"flex items-center text-sm font-semibold text-green-900 mb-2",children:[e.jsx("span",{className:"text-lg mr-1",children:"🐂"}),"Bulls Say"]}),e.jsx("ul",{className:"text-xs space-y-1",children:V.bullishPoints.slice(0,3).map((J,Z)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"w-1 h-1 bg-green-500 rounded-full mt-1.5 mr-2 flex-shrink-0"}),e.jsx("span",{className:"text-green-800",children:J})]},Z))})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[e.jsxs("h4",{className:"flex items-center text-sm font-semibold text-red-900 mb-2",children:[e.jsx("span",{className:"text-lg mr-1",children:"🐻"}),"Bears Say"]}),e.jsx("ul",{className:"text-xs space-y-1",children:V.bearishPoints.slice(0,3).map((J,Z)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"w-1 h-1 bg-red-500 rounded-full mt-1.5 mr-2 flex-shrink-0"}),e.jsx("span",{className:"text-red-800",children:J})]},Z))})]})]})]})})]})]})})},j=({sectorName:k,data:M})=>e.jsxs(C.div,{whileHover:{scale:1.02},onClick:()=>B(k),className:"card p-4 cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center",children:e.jsx(ra,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:k}),e.jsxs("p",{className:"text-sm text-gray-600",children:[M.companies.length," companies"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:`font-semibold ${M.trend==="up"?"text-green-600":"text-red-600"}`,children:M.performance}),e.jsx("p",{className:"text-sm text-gray-500",children:M.marketCap})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:M.description}),e.jsx("div",{className:"flex flex-wrap gap-1",children:M.keyThemes.map((W,V)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:W},V))})]});return e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Stock Market"}),e.jsx("p",{className:"text-gray-600",children:"Comprehensive market data, sectors, and company analysis"})]})}),e.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[{id:"overview",label:"Market Overview",icon:_t},{id:"sectors",label:"Sectors & Industries",icon:Zr},{id:"stocks",label:"All Stocks",icon:re}].map(k=>e.jsxs("button",{onClick:()=>m(k.id),className:`flex items-center space-x-2 px-4 py-2 rounded-md font-medium transition-all ${c===k.id?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(k.icon,{className:"w-4 h-4"}),e.jsx("span",{children:k.label})]},k.id))}),e.jsxs(C.div,{initial:{scale:.95},animate:{scale:1},className:"card p-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ea,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search stocks by symbol or company name...",value:t,onChange:k=>{s(k.target.value),T(k.target.value)},className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),r.length>0&&e.jsx(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 space-y-2 max-h-60 overflow-y-auto",children:r.map(k=>e.jsxs(xe,{to:`/market/${k.symbol}`,className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:k.symbol}),e.jsx("p",{className:"text-sm text-gray-600",children:k.name})]}),e.jsx(re,{className:"w-4 h-4 text-gray-400"})]},k.symbol))})]}),e.jsxs(he,{mode:"wait",children:[c==="overview"&&e.jsxs(C.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsx("div",{className:"card p-6 bg-gradient-to-r from-green-50 to-green-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:"Market Status"}),e.jsx("p",{className:"text-green-700",children:new Date().getHours()>=9&&new Date().getHours()<16?"Markets Open":"Markets Closed"})]}),e.jsx("div",{className:`w-3 h-3 rounded-full ${new Date().getHours()>=9&&new Date().getHours()<16?"bg-green-500":"bg-red-500"}`})]})}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Top Gainer"}),e.jsx("p",{className:"text-green-600 font-bold",children:"+5.2%"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Energy Sector"})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Market Cap"}),e.jsx("p",{className:"text-blue-600 font-bold",children:"$45.8T"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Market"})]})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Top Performers Today"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:["AAPL","MSFT","GOOGL","TSLA"].map(k=>e.jsx(w,{symbol:k,quote:o[k],showWatchButton:!1},k))})]})]},"overview"),c==="sectors"&&e.jsxs(C.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[e.jsxs("div",{className:"card p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Sector Performance"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(P).map(([k,M])=>e.jsx(j,{sectorName:k,data:M},k))})]}),e.jsx(he,{children:v&&e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs(C.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-3xl p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[v," Sector"]}),e.jsx("p",{className:"text-gray-600",children:(N=P[v])==null?void 0:N.description})]}),e.jsx("button",{onClick:()=>b(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:"×"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:(O=P[v])==null?void 0:O.performance}),e.jsx("p",{className:"text-sm text-blue-800",children:"Performance"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:(I=P[v])==null?void 0:I.marketCap}),e.jsx("p",{className:"text-sm text-green-800",children:"Market Cap"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(q=P[v])==null?void 0:q.companies.length}),e.jsx("p",{className:"text-sm text-purple-800",children:"Companies"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:["📰 Latest ",v," News",f&&e.jsx("div",{className:"ml-2 w-4 h-4 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"})]}),e.jsx("div",{className:"space-y-3",children:(p[v]||[]).map((k,M)=>e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 flex-1",children:k.title}),k.url&&e.jsx("a",{href:k.url,target:"_blank",rel:"noopener noreferrer",className:"ml-2 p-1 text-gray-400 hover:text-blue-600 transition-colors",children:e.jsx(Bs,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:k.summary}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[e.jsx("span",{children:k.source}),e.jsx("span",{children:"•"}),e.jsx("span",{children:k.date})]})]}),e.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ml-4 ${k.sentiment==="positive"?"bg-green-100 text-green-800":k.sentiment==="negative"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:k.sentiment})]})},M))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Companies"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:(Q=P[v])==null?void 0:Q.companies.slice(0,6).map(k=>e.jsx(w,{symbol:k,quote:o[k],showWatchButton:!1},k))})]})]})})})]},"sectors"),c==="stocks"&&e.jsx(C.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(re,{className:"w-6 h-6 text-accent"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"All Available Stocks"}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",n.length," stocks)"]})]}),d?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((k,M)=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"bg-gray-200 rounded-xl h-32"})},M))}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map((k,M)=>e.jsx(C.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3+M*.05},children:e.jsx(w,{symbol:k,quote:o[k]})},k))})]})},"stocks")]})]})},Rs=()=>{var U;const{symbol:t}=Ys(),s=Ae(),r=se(T=>T.portfolio.activePortfolio),[a,n]=h.useState(t||""),[i,o]=h.useState(null),[l,d]=h.useState("buy"),[u,c]=h.useState(""),[m,v]=h.useState(!1),[b,p]=h.useState([]),[y,f]=h.useState(!1),A=["AAPL","MSFT","GOOGL","AMZN","TSLA","META","NVDA","NFLX","JPM","V","JNJ","WMT","PG","HD","DIS","PYPL","ADBE","CRM","INTC","CSCO","PFE","KO","PEP","ABT","TMO","COST","AVGO","TXN"].sort();h.useEffect(()=>{a&&g()},[a]);const g=async()=>{v(!0);try{const T=await ke.getQuote(a);o(T)}catch(T){console.error("Error loading quote:",T),ie.error("Failed to load stock quote")}finally{v(!1)}},S=T=>{if(n(T),T.length>0){const B=A.filter(w=>w.toLowerCase().includes(T.toLowerCase()));p(B),f(!0)}else p(A),f(!0)},P=T=>{n(T),f(!1)},E=()=>{if(!a||!u||!i){ie.error("Please fill in all fields");return}const T=parseFloat(u);if(T<.1){ie.error("Minimum purchase is 0.1 shares");return}const B={symbol:a,companyName:`${a} Inc.`,shares:T,price:i.price};if(l==="buy"){if(T*i.price>((r==null?void 0:r.cash)||0)){ie.error("Insufficient funds");return}s(ar(B)),ie.success(`Bought ${T} shares of ${a}`)}else{const w=((r==null?void 0:r.positions)||[]).find(j=>j.symbol===a);if(!w||w.shares<T){ie.error("Insufficient shares to sell");return}s(nr(B)),ie.success(`Sold ${T} shares of ${a}`)}c("")},D=l==="buy"?Math.floor(((r==null?void 0:r.cash)||0)/((i==null?void 0:i.price)||1)*10)/10:((U=((r==null?void 0:r.positions)||[]).find(T=>T.symbol===a))==null?void 0:U.shares)||0;return e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Bt,{className:"w-8 h-8 text-accent"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Trading Desk"}),e.jsx("p",{className:"text-gray-600",children:"Buy and sell stocks with virtual money"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(C.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},className:"card p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Place Order"}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex rounded-xl bg-gray-100 p-1",children:[e.jsx("button",{onClick:()=>d("buy"),className:`flex-1 py-2 px-4 rounded-lg font-semibold transition-all ${l==="buy"?"bg-green-500 text-white shadow-md":"text-gray-600 hover:text-gray-800"}`,children:"Buy"}),e.jsx("button",{onClick:()=>d("sell"),className:`flex-1 py-2 px-4 rounded-lg font-semibold transition-all ${l==="sell"?"bg-red-500 text-white shadow-md":"text-gray-600 hover:text-gray-800"}`,children:"Sell"})]})}),e.jsxs("div",{className:"mb-4 relative",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Stock Symbol"}),e.jsx("input",{type:"text",value:a,onChange:T=>S(T.target.value.toUpperCase()),onFocus:()=>{p(A),f(!0)},placeholder:"Search or type symbol (e.g. AAPL)",className:"input-field",maxLength:5}),y&&e.jsx("div",{className:"absolute z-10 w-full bg-white border border-gray-200 rounded-lg mt-1 max-h-60 overflow-y-auto shadow-lg",children:e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Popular Stocks"}),b.slice(0,10).map(T=>e.jsx("button",{onClick:()=>P(T),className:"w-full text-left px-3 py-2 hover:bg-gray-100 rounded transition-colors",children:T},T))]})}),y&&e.jsx("div",{className:"fixed inset-0 z-5",onClick:()=>f(!1)})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Number of Shares (Fractional Allowed)"}),e.jsx("input",{type:"number",value:u,onChange:T=>c(T.target.value),placeholder:"0.1",min:"0.1",step:"0.1",max:D,className:"input-field"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Min: 0.1 shares • Max: ",D.toLocaleString()," shares"]})]}),i&&e.jsx(C.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"mb-6 p-4 bg-gradient-to-r from-gray-50 to-green-50 rounded-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:i.symbol}),e.jsx("p",{className:"text-2xl font-bold text-primary",children:R(i.price)})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`font-semibold ${i.change>=0?"text-green-600":"text-red-600"}`,children:[i.change>=0?"+":"",R(i.change)]}),e.jsxs("p",{className:`text-sm ${i.change>=0?"text-green-600":"text-red-600"}`,children:[i.changePercent>=0?"+":"",i.changePercent.toFixed(2),"%"]})]})]})}),i&&u&&e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl",children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Order Summary"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Shares:"}),e.jsx("span",{children:parseFloat(u||0).toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Price per share:"}),e.jsx("span",{children:R(i.price)})]}),e.jsxs("div",{className:"flex justify-between font-semibold text-lg border-t pt-2",children:[e.jsx("span",{children:"Total:"}),e.jsx("span",{children:R(parseFloat(u||0)*i.price)})]})]})]}),e.jsx(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:E,disabled:!a||!u||!i||m,className:`w-full py-3 px-6 rounded-xl font-semibold transition-all ${l==="buy"?"bg-green-500 hover:bg-green-600 text-white":"bg-red-500 hover:bg-red-600 text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:m?"Loading...":`${l==="buy"?"Buy":"Sell"} ${a}`})]}),e.jsxs(C.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},className:"space-y-6",children:[e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Account Balance"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Available Cash"}),e.jsx("span",{className:"text-xl font-bold text-green-600",children:R((r==null?void 0:r.cash)||0)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Portfolio Value"}),e.jsx("span",{className:"text-xl font-bold text-primary",children:R((r==null?void 0:r.totalValue)||0)})]})]})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Your Positions"}),((r==null?void 0:r.positions)||[]).length>0?e.jsx("div",{className:"space-y-3",children:((r==null?void 0:r.positions)||[]).slice(0,5).map(T=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:T.symbol}),e.jsxs("p",{className:"text-sm text-gray-600",children:[T.shares," shares"]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"font-semibold",children:R(T.shares*T.currentPrice)})})]},T.symbol))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(re,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No positions yet"})]})]})]})]})]})},bo=()=>{const[t,s]=h.useState(null),[r,a]=h.useState(!1),[n,i]=h.useState(0),[o,l]=h.useState({}),[d,u]=h.useState(!1),[c,m]=h.useState(0),[v,b]=h.useState({}),[p,y]=h.useState(!1),f=async w=>(console.warn("Alpha Vantage API key not found"),null);h.useEffect(()=>{if(t&&!r){const w=async()=>{const j=await f(t.id);j&&b(N=>({...N,[t.id]:j}))};v[t.id]||w()}},[t,r]);const A=w=>{s(w),a(!0),i(0),l({}),u(!1),m(0)},g=(w,j)=>{l(N=>({...N,[w]:j}))},S=()=>{const w=t.quiz;let j=0;w.forEach((N,O)=>{o[O]===N.correct&&j++}),m(j),u(!0),j===w.length&&(t.completed=!0)},P=()=>{a(!1),s(null),i(0),l({}),u(!1),m(0)},E=w=>({1:["A stock represents partial ownership in a company","Market cap = Share Price × Total Shares Outstanding","Common stock provides voting rights, preferred stock prioritizes dividends","Investors profit through capital appreciation and dividend payments","IPOs allow private companies to raise capital from public investors"],2:["Primary markets are where stocks are first issued, secondary markets are where they're traded","Market orders guarantee execution, limit orders guarantee price","Stock prices are driven by supply and demand fundamentals","The S&P 500 best represents the overall U.S. stock market","Brokers provide access to exchanges, which you cannot trade on directly"],3:["Candlestick charts provide the most comprehensive price information","Head and Shoulders patterns often signal trend reversals","RSI measures momentum and helps identify overbought/oversold conditions","Moving averages smooth out price data to identify trends","MACD combines trend-following and momentum indicators"],4:["Stop-loss orders automatically limit losses at predetermined levels","Position sizing determines how much capital to risk per trade","Diversification reduces portfolio risk by spreading investments","Risk-reward ratios help evaluate trade attractiveness before entering","Emotional discipline is crucial for consistent risk management"],5:["Short selling allows profits when stock prices decline","Unlimited loss potential makes short selling high-risk","Short squeezes can cause rapid price increases and force covering","Margin requirements provide collateral for borrowed shares","Short selling can hedge long positions during market downturns"]})[w]||[],D=w=>({1:["Stock ownership provides unlimited upside potential as companies grow","Dividend-paying stocks offer passive income streams","Stocks historically outperform bonds and savings accounts long-term","Public markets provide excellent liquidity for buying/selling"],2:["Modern markets offer 24/7 global access to investment opportunities","Electronic trading has reduced costs and improved execution speed","Market regulations protect retail investors from fraud","Index funds make diversification accessible to everyone"],3:["Technical analysis helps identify optimal entry and exit points","Chart patterns repeat due to consistent human psychology","Multiple timeframes provide comprehensive market perspective","Technical indicators can confirm fundamental analysis signals"],4:["Proper risk management allows for sustainable long-term trading","Stop-losses prevent small losses from becoming catastrophic","Position sizing enables consistent profitability over time","Diversification reduces single-stock concentration risk"],5:["Short selling provides profit opportunities in declining markets","Can hedge existing long positions during market downturns","Allows sophisticated portfolio strategies and market-neutral approaches","Helps with price discovery and market efficiency"]})[w]||[],U=w=>({1:["Stock prices can be extremely volatile and unpredictable","Company bankruptcies can lead to total loss of investment","Dividend payments are not guaranteed and can be suspended","Individual stock picking requires significant research and expertise"],2:["High-frequency trading can disadvantage retail investors","Market crashes can wipe out decades of gains quickly","Complex financial products can mislead inexperienced investors","Market manipulation by large institutions remains a concern"],3:["Technical analysis can produce false signals and whipsaws","Past price patterns don't guarantee future performance","Over-reliance on indicators can lead to analysis paralysis","Market fundamentals can override technical signals unexpectedly"],4:["Strict risk management can limit potential profits","Stop-losses can be triggered by temporary price spikes","Over-diversification can lead to mediocre returns","Risk management rules can prevent catching major trends"],5:["Unlimited loss potential makes short selling extremely risky","Short squeezes can force covering at significant losses","Margin calls can force liquidation at worst possible times","Borrowing costs and fees reduce profit potential"]})[w]||[],T=w=>v[w]?v[w]:{1:[{title:"Record Number of IPOs in Tech Sector",summary:"Technology companies continue to dominate new public offerings, with AI and biotech leading the way.",source:"Market Watch",date:"2 days ago",sentiment:"positive",url:"https://www.marketwatch.com/story/ipo-tech-surge-2024"},{title:"Dividend Cuts Across Energy Sector",summary:"Traditional energy companies reduce dividend payouts amid transition to renewable sources.",source:"Financial Times",date:"1 week ago",sentiment:"negative",url:"https://www.ft.com/content/energy-dividend-cuts"}],2:[{title:"NYSE Trading Volume Hits New Records",summary:"Retail investor participation drives unprecedented trading volumes on major exchanges.",source:"Bloomberg",date:"3 days ago",sentiment:"positive",url:"https://www.bloomberg.com/news/articles/nyse-volume-records"},{title:"SEC Proposes New Market Structure Rules",summary:"Regulators aim to improve price discovery and reduce payment for order flow practices.",source:"Reuters",date:"1 week ago",sentiment:"neutral",url:"https://www.reuters.com/business/finance/sec-market-rules"}],3:[{title:"Technical Analysis Gains Popularity Among Retail Traders",summary:"Chart patterns and technical indicators increasingly guide investment decisions as more platforms offer advanced tools.",source:"Wall Street Journal",date:"4 days ago",sentiment:"positive",url:"https://www.wsj.com/articles/technical-analysis-retail-traders"},{title:"AI-Powered Trading Algorithms Challenge Traditional Chart Reading",summary:"Machine learning systems process market data faster than human technical analysts, raising questions about pattern reliability.",source:"Financial News",date:"1 week ago",sentiment:"neutral",url:"https://www.fnlondon.com/articles/ai-trading-technical-analysis"}],4:[{title:"Risk Management Software Adoption Surges Among Day Traders",summary:"Automated stop-loss and position sizing tools help retail investors manage portfolio risk more effectively.",source:"TradingView News",date:"5 days ago",sentiment:"positive",url:"https://www.tradingview.com/news/risk-management-tools"},{title:"Market Volatility Tests Investor Risk Tolerance",summary:"Recent market swings highlight the importance of proper risk management strategies for all investor types.",source:"CNBC",date:"3 days ago",sentiment:"negative",url:"https://www.cnbc.com/market-volatility-risk-management"}],5:[{title:"Short Interest Reaches Multi-Year Highs in Tech Stocks",summary:"Hedge funds and institutional investors increase short positions in overvalued technology companies.",source:"MarketWatch",date:"2 days ago",sentiment:"negative",url:"https://www.marketwatch.com/story/tech-short-interest-highs"},{title:"Short Squeeze Alert Systems Gain Traction Among Retail Investors",summary:"New tools help traders identify potential short squeeze opportunities in heavily shorted stocks.",source:"Benzinga",date:"6 days ago",sentiment:"positive",url:"https://www.benzinga.com/short-squeeze-tools"}]}[w]||[],B=[{id:1,title:"What is a Stock?",description:"Understanding the Building Blocks of the Market",difficulty:"Beginner",duration:"15 min",completed:!1,icon:"🏢",content:`
        <h2>What is a Stock?</h2>
        <h3>Understanding the Building Blocks of the Market</h3>
        
        <p><strong>What Exactly is a Stock?</strong></p>
        <p>Imagine a successful local pizza shop wants to expand into a national chain. This will cost millions of dollars. Instead of just getting a bank loan, the owners decide to divide the entire business into one million "slices" and sell them to the public. A <strong>stock</strong> (also called a "share" or "equity") is simply one of those slices.</p>
        
        <p>When you buy a stock, you are purchasing a small piece of ownership in that company. You become a <strong>shareholder</strong>, which means you are now a part-owner of the business, its brand, its buildings, and its potential for future profits. If the pizza chain becomes a huge success, the value of your slice—your stock—can increase significantly. Conversely, if the business performs poorly, the value of your slice can decrease. Your fortune is now tied to the company's success.</p>
        
        <p><strong>From Private to Public: Why Companies Sell Stock</strong></p>
        <p>Companies sell stock to raise <strong>capital</strong> (money) to fuel growth. Before selling shares to the public, a company is considered <strong>private</strong>, owned by its founders, early investors, and employees. When it wants to access a much larger pool of capital, it can go through a process called an <strong>Initial Public Offering (IPO)</strong>. This is the first time the company's stock is offered for sale on a public exchange, like the NYSE or NASDAQ.</p>
        
        <p>Once public, the company's value can be easily measured by its <strong>market capitalization</strong> (or "market cap"), which is calculated by a simple formula:</p>
        <p><code>Market Capitalization = Current Share Price × Total Number of Shares</code></p>
        <p>A company with 100 million shares trading at $50 per share has a market cap of $5 billion. This figure is a primary measure of a company's size and value in the public eye.</p>
        
        <p><strong>The Different Flavors of Stock</strong></p>
        <p>Not all stocks are created equal. While there are two main types, the details can vary.</p>
        <ol>
          <li><strong>Common Stock:</strong> This is what most people mean when they talk about stocks. It grants the holder ownership and, crucially, <strong>voting rights</strong>. Shareholders can vote on major corporate actions, such as electing the board of directors or approving mergers. Some companies issue different classes of common stock (e.g., Class A, Class B) with different voting powers, often to allow founders to retain control while raising capital.</li>
          <li><strong>Preferred Stock:</strong> This type is a hybrid between a stock and a bond. Preferred shareholders generally have no voting rights. However, they have a higher claim on the company's assets. This means they are prioritized for <strong>dividend</strong> payments. If a company must suspend its dividend, it must first stop paying common shareholders. If the company goes bankrupt, preferred shareholders are paid back before common shareholders (though after bondholders).</li>
        </ol>
        
        <p><strong>How You Make Money from Stocks</strong></p>
        <p>Investors profit from stocks in two primary ways:</p>
        <ul>
          <li><strong>Capital Appreciation:</strong> This is the most common goal. It's the increase in the stock's market price. If you buy 100 shares of a company at $20 each (a $2,000 investment) and sell them a year later at $25 each (for $2,500), your capital gain is $500.</li>
          <li><strong>Dividends:</strong> Many stable, established companies choose to distribute a portion of their profits to shareholders. These payments, called dividends, are a direct return on your investment. A stock's <strong>dividend yield</strong> is a percentage that shows how much a company pays in dividends each year relative to its stock price. A $100 stock that pays $3 in annual dividends has a 3% yield.</li>
        </ul>
        
        <p><strong>Conclusion</strong></p>
        <p>A stock represents a direct stake in a business's future. It allows companies to grow and gives investors the opportunity to build wealth by sharing in that growth. Understanding that you are buying a piece of a real company—not just a ticker symbol on a screen—is the most important mindset for a successful investor.</p>
      `,quiz:[{question:"What does buying a stock make you?",options:["A creditor to the company","A part-owner of the company","An employee of the company","A customer of the company"],correct:1},{question:"What is an IPO?",options:["Initial Portfolio Offering","Initial Public Offering","Internal Profit Organization","International Partnership Option"],correct:1},{question:"How is market capitalization calculated?",options:["Share Price ÷ Number of Shares","Share Price + Number of Shares","Share Price × Number of Shares","Share Price - Number of Shares"],correct:2},{question:"Which type of stock typically comes with voting rights?",options:["Preferred Stock","Common Stock","Both types equally","Neither type"],correct:1},{question:"What are the two main ways investors profit from stocks?",options:["Dividends and interest","Capital appreciation and salaries","Capital appreciation and dividends","Interest and bonuses"],correct:2}]},{id:2,title:"How Stock Markets Work",description:"The Engine of the Economy: A Look Inside the Market",difficulty:"Beginner",duration:"20 min",completed:!1,icon:"📈",content:`
        <h2>How Stock Markets Work</h2>
        <h3>The Engine of the Economy: A Look Inside the Market</h3>
        
        <p><strong>What is a Stock Market?</strong></p>
        <p>The stock market is not a single entity but a vast, interconnected network of exchanges where company shares are traded. Think of it as a global supermarket for stocks. Its two main functions are to provide <strong>liquidity</strong> (the ability to easily buy or sell shares) and facilitate <strong>price discovery</strong> (determining a stock's value through the continuous interaction of buyers and sellers).</p>
        
        <p>A crucial distinction to understand is the difference between the primary and secondary markets:</p>
        <ul>
          <li><strong>The Primary Market:</strong> This is where stocks are born. When a company holds an IPO, it sells its shares <em>directly</em> to investors for the first time. The money from this sale goes to the company.</li>
          <li><strong>The Secondary Market:</strong> This is what we typically refer to as "the stock market." It's where investors trade those previously issued shares <em>amongst themselves</em>. The company is not directly involved in these transactions. The vast majority of all trading happens on the secondary market.</li>
        </ul>
        
        <p><strong>The Key Players and Their Roles</strong></p>
        <ul>
          <li><strong>Companies (Issuers):</strong> Businesses that sell stock to the public to fund operations and growth.</li>
          <li><strong>Investors:</strong> This includes retail investors (individuals like you) and institutional investors (large entities like pension funds, mutual funds, and hedge funds that manage huge sums of money).</li>
          <li><strong>Stock Exchanges:</strong> Formal marketplaces like the NYSE and NASDAQ that enforce rules and use powerful technology to match buy and sell orders in fractions of a second.</li>
          <li><strong>Brokers:</strong> The licensed intermediaries that provide individuals and institutions with access to the stock exchanges. You cannot trade directly on an exchange; you need a brokerage account.</li>
          <li><strong>Regulators:</strong> Government agencies, like the U.S. Securities and Exchange Commission (SEC), that oversee the market to protect investors, prevent fraud, and ensure fair and orderly operation.</li>
        </ul>
        
        <p><strong>Placing an Order: The Mechanics of a Trade</strong></p>
        <p>When you decide to buy or sell a stock, you don't just say "buy!" You place a specific type of order:</p>
        <ul>
          <li><strong>Market Order:</strong> This is the simplest order. It instructs your broker to buy or sell shares <em>immediately</em> at the best available current price. It guarantees your order will be filled quickly, but it does not guarantee the price.</li>
          <li><strong>Limit Order:</strong> This order gives you control over the price. It instructs your broker to buy or sell shares only at a specific price <em>or better</em>. For example, a "buy limit" order at $50 means you will only buy the stock if it is trading at $50 or lower. This guarantees your price but does not guarantee the order will be filled.</li>
        </ul>
        
        <p><strong>What Really Makes Stock Prices Move?</strong></p>
        <p>The price of any stock is constantly fluctuating based on the law of <strong>supply and demand</strong>. Factors that influence this balance include:</p>
        <ul>
          <li><strong>Company Fundamentals:</strong> Earnings reports are paramount. A company reporting higher-than-expected profits will see a surge in demand, pushing the price up. Conversely, a weak report can cause a sell-off.</li>
          <li><strong>Economic Data:</strong> Broader economic news like inflation rates, interest rate changes by the central bank (the Fed), and unemployment figures affect investor confidence and the entire market's direction.</li>
          <li><strong>Industry Trends & News:</strong> Innovations, regulatory changes, or shifting consumer preferences within a specific sector can cause all stocks in that industry to move in tandem.</li>
          <li><strong>Geopolitical Events & Sentiment:</strong> Major world events, political instability, and general market fear or greed can cause widespread buying or selling regardless of individual company performance.</li>
        </ul>
        
        <p><strong>How We Measure the Market: Stock Indexes</strong></p>
        <p>It's impossible to track every single stock. Instead, we use <strong>stock indexes</strong> to gauge the overall health and performance of the market. An index is a curated basket of stocks that represents a portion of the market. The three most-watched indexes in the U.S. are:</p>
        <ul>
          <li><strong>The S&P 500:</strong> Tracks the performance of 500 of the largest U.S. companies. It's considered the best representation of the overall U.S. market.</li>
          <li><strong>The Dow Jones Industrial Average (DJIA):</strong> A price-weighted index of 30 large, well-known "blue-chip" companies.</li>
          <li><strong>The NASDAQ Composite:</strong> Tracks over 3,000 stocks listed on the NASDAQ exchange, with a heavy concentration in the technology sector.</li>
        </ul>
        
        <p><strong>Conclusion</strong></p>
        <p>The stock market is a complex but not incomprehensible system. It's a dynamic arena where information, economics, and human psychology collide to set the value of the world's largest companies. Understanding its structure, from order types to market indexes, provides the context needed to participate intelligently.</p>
      `,quiz:[{question:"What is the difference between primary and secondary markets?",options:["Primary is where stocks are first issued, secondary is where they are traded between investors","Primary is for small companies, secondary is for large companies","Primary is morning trading, secondary is afternoon trading","There is no difference"],correct:0},{question:"What does a market order guarantee?",options:["The exact price you want","Your order will be filled","The best possible price","Nothing is guaranteed"],correct:1},{question:"Which index is considered the best representation of the overall U.S. market?",options:["Dow Jones Industrial Average","NASDAQ Composite","S&P 500","Russell 2000"],correct:2},{question:"What is the primary function of stock exchanges?",options:["To issue new stocks","To provide liquidity and price discovery","To regulate companies","To provide investment advice"],correct:1},{question:"What fundamentally drives stock prices?",options:["Government regulations","Supply and demand","Company size","Time of day"],correct:1}]},{id:3,title:"Reading Stock Charts",description:"Master the art of technical analysis and chart patterns",difficulty:"Intermediate",duration:"20 min",completed:!1,icon:"📈",content:`
        <h2>Reading Stock Charts</h2>
        <h3>Master the art of technical analysis and chart patterns</h3>
        
        <p>Reading stock charts is a key part of technical analysis. It allows traders to understand market behavior, spot patterns, and make educated guesses about future price movements.</p>
        
        <h3>Types of Charts</h3>
        <ul>
          <li><strong>Line Chart:</strong> Simplest, showing closing prices over time.</li>
          <li><strong>Bar Chart:</strong> Adds highs and lows.</li>
          <li><strong>Candlestick Chart:</strong> Most popular; shows open, high, low, and close.</li>
        </ul>
        
        <h3>Important Patterns to Know</h3>
        <ul>
          <li><strong>Head and Shoulders:</strong> Potential reversal pattern.</li>
          <li><strong>Double Top/Bottom:</strong> Reversal indicators.</li>
          <li><strong>Triangles (Ascending/Descending/Symmetric):</strong> Continuation patterns.</li>
        </ul>
        
        <h3>Technical Indicators</h3>
        <ul>
          <li><strong>Moving Averages</strong> (e.g. 50-day, 200-day)</li>
          <li><strong>RSI (Relative Strength Index):</strong> Measures momentum.</li>
          <li><strong>MACD (Moving Average Convergence Divergence):</strong> Trend-following indicator.</li>
        </ul>
        
        <h3>Conclusion</h3>
        <p>Learning to read charts empowers traders to make better decisions. With practice, you'll begin to see the market's story unfold visually.</p>
      `,quiz:[{question:"What type of chart shows open, high, low, and close prices?",options:["Line Chart","Bar Chart","Candlestick Chart","Pie Chart"],correct:2},{question:"What does a Head and Shoulders pattern typically indicate?",options:["Continuation of trend","Potential reversal","Strong momentum","High volume"],correct:1},{question:"What does RSI measure?",options:["Volume","Price direction","Momentum","Market cap"],correct:2},{question:"Which moving averages are commonly used by traders?",options:["10-day and 30-day","50-day and 200-day","100-day and 300-day","25-day and 75-day"],correct:1},{question:"What is MACD primarily used for?",options:["Volume analysis","Trend following","Price prediction","Risk management"],correct:1}]},{id:4,title:"Risk Management",description:"Learn how to manage risk and protect your investments",difficulty:"Intermediate",duration:"18 min",completed:!1,icon:"🛡️",content:`
        <h2>Risk Management</h2>
        <h3>Learn how to manage risk and protect your investments</h3>
        
        <p>Risk management is the cornerstone of sustainable investing. Even the best strategies fail without proper risk controls.</p>
        
        <h3>Common Risks in Trading</h3>
        <ul>
          <li><strong>Market Risk:</strong> Price movement.</li>
          <li><strong>Liquidity Risk:</strong> Inability to exit positions.</li>
          <li><strong>Emotional Risk:</strong> Fear and greed-driven decisions.</li>
        </ul>
        
        <h3>Key Strategies</h3>
        <ul>
          <li><strong>Stop-Loss Orders:</strong> Automatically sell at a set price to limit loss.</li>
          <li><strong>Position Sizing:</strong> Allocate only a percentage of your capital.</li>
          <li><strong>Diversification:</strong> Spread investments to reduce exposure.</li>
        </ul>
        
        <h3>Risk-Reward Ratio</h3>
        <p>Always assess how much you're willing to lose versus how much you can gain. A 1:3 ratio is common—risking $1 to potentially gain $3.</p>
        
        <h3>Conclusion</h3>
        <p>Managing risk isn't about avoiding losses entirely but limiting them. A disciplined approach ensures long-term success.</p>
      `,quiz:[{question:"What is a stop-loss order designed to do?",options:["Maximize profits","Automatically sell at a set price to limit loss","Buy more shares","Increase position size"],correct:1},{question:"What is the recommended risk-reward ratio mentioned in the lesson?",options:["1:1","1:2","1:3","1:4"],correct:2},{question:"Which of these is NOT mentioned as a common risk in trading?",options:["Market Risk","Liquidity Risk","Emotional Risk","Currency Risk"],correct:3},{question:"What is position sizing?",options:["The size of your computer screen","Allocating only a percentage of your capital","The number of stocks available","The time spent trading"],correct:1},{question:"What is the main purpose of diversification?",options:["To maximize returns","To spread investments to reduce exposure","To concentrate investments","To increase trading frequency"],correct:1}]},{id:5,title:"Short Selling Basics",description:"Understand how to profit when stock prices fall",difficulty:"Advanced",duration:"25 min",completed:!1,icon:"📉",content:`
        <h2>Short Selling Basics</h2>
        <h3>Understand how to profit when stock prices fall</h3>
        
        <p>Short selling is a strategy where traders bet against a stock. If the stock price falls, they profit. It's risky but can be profitable when used wisely.</p>
        
        <h3>How It Works</h3>
        <ol>
          <li>You borrow shares from a broker.</li>
          <li>Sell them at the current market price.</li>
          <li>If the stock drops, buy back at a lower price and return the shares.</li>
          <li>Your profit = Sell Price - Buy Price - Fees.</li>
        </ol>
        
        <h3>Risks of Short Selling</h3>
        <ul>
          <li><strong>Unlimited Loss Potential:</strong> If the stock rises, losses can be infinite.</li>
          <li><strong>Short Squeezes:</strong> Rapid price increases force shorts to buy back, increasing prices further.</li>
          <li><strong>Margin Requirements:</strong> Brokers require collateral.</li>
        </ul>
        
        <h3>When Is Shorting Used?</h3>
        <ul>
          <li>During market corrections.</li>
          <li>On overvalued stocks.</li>
          <li>As a hedge for long positions.</li>
        </ul>
        
        <h3>Conclusion</h3>
        <p>Short selling offers opportunities but requires precision and risk control. It's a powerful tool in experienced hands.</p>
      `,quiz:[{question:"In short selling, when do you make a profit?",options:["When the stock price rises","When the stock price falls","When the stock price stays the same","Only during market hours"],correct:1},{question:"What is the first step in short selling?",options:["Buy shares at market price","Borrow shares from a broker","Sell your existing shares","Wait for price to drop"],correct:1},{question:"What is a major risk of short selling?",options:["Limited profit potential","Unlimited loss potential","Low margin requirements","Guaranteed profits"],correct:1},{question:"What is a short squeeze?",options:["When shorts make large profits","Rapid price increases forcing shorts to buy back","A type of trading platform","A risk management tool"],correct:1},{question:"When is short selling commonly used?",options:["During market rallies only","On undervalued stocks","During market corrections","Only in bear markets"],correct:2}]}];return e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Is,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Education Center"}),e.jsx("p",{className:"text-gray-600",children:"Learn the fundamentals of stock investing"})]})]}),e.jsx(C.div,{initial:{scale:.95},animate:{scale:1},className:"card p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:e.jsx(at,{className:"w-8 h-8 text-green-600"})}),e.jsx("h3",{className:"font-semibold text-gray-800",children:"Lessons Completed"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"2 / 5"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:e.jsx($e,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h3",{className:"font-semibold text-gray-800",children:"Knowledge Level"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"Beginner"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:e.jsx(re,{className:"w-8 h-8 text-purple-600"})}),e.jsx("h3",{className:"font-semibold text-gray-800",children:"Study Streak"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"3 days"})]})]})}),e.jsx(C.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.map((w,j)=>e.jsxs(C.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3+j*.1},onClick:()=>s(w),className:`card p-6 cursor-pointer transition-all duration-300 ${w.completed?"bg-gradient-to-br from-green-50 to-green-100 border-green-200":"hover:shadow-lg"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"text-3xl",children:w.icon}),w.completed&&e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"✓"})})]}),e.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:w.title}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:w.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:`px-2 py-1 rounded-full font-medium ${w.difficulty==="Beginner"?"bg-green-100 text-green-800":w.difficulty==="Intermediate"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:w.difficulty}),e.jsx("span",{className:"text-gray-500",children:w.duration})]})]},w.id))}),e.jsx(C.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"card p-6 bg-gradient-to-r from-purple-50 to-green-50",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"text-3xl",children:"💡"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Pro Tip"}),e.jsx("p",{className:"text-gray-600",children:"Complete lessons in order to build a strong foundation. Each lesson builds upon the previous one, ensuring you have all the knowledge needed for successful trading."})]})]})}),e.jsx(he,{children:t&&e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs(C.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-3xl p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-4xl",children:t.icon}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.title}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:[e.jsx("span",{className:`px-2 py-1 rounded-full font-medium ${t.difficulty==="Beginner"?"bg-green-100 text-green-800":t.difficulty==="Intermediate"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:t.difficulty}),e.jsx("span",{children:t.duration}),t.completed&&e.jsxs("span",{className:"flex items-center space-x-1 text-green-600",children:[e.jsx(nt,{className:"w-4 h-4"}),e.jsx("span",{children:"Completed"})]})]})]})]}),e.jsx("button",{onClick:()=>s(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(qe,{className:"w-5 h-5"})})]}),r?e.jsx(e.Fragment,{children:d?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:`w-20 h-20 rounded-full mx-auto flex items-center justify-center text-3xl ${c===t.quiz.length?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:c===t.quiz.length?"🎉":"📚"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Quiz Complete!"}),e.jsxs("p",{className:"text-lg text-gray-600",children:["You scored ",c," out of ",t.quiz.length," questions correctly"]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["(",Math.round(c/t.quiz.length*100),"%)"]})]}),c===t.quiz.length?e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-700",children:[e.jsx(nt,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Lesson Completed!"})]}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Perfect score! You've mastered this topic."})]}):e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-yellow-700",children:"You need a perfect score to complete this lesson. Review the material and try again!"})})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[e.jsx("button",{onClick:P,className:"btn-secondary",children:"Back to Article"}),c===t.quiz.length?e.jsx("button",{onClick:()=>s(null),className:"btn-primary",children:"Continue Learning"}):e.jsx("button",{onClick:()=>{u(!1),l({}),m(0)},className:"btn-primary",children:"Retry Quiz"})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Knowledge Check Quiz"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Answer all questions correctly to complete this lesson"})]}),t.quiz.map((w,j)=>e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-4",children:[j+1,". ",w.question]}),e.jsx("div",{className:"space-y-2",children:w.options.map((N,O)=>e.jsxs("label",{className:`flex items-center p-3 rounded-lg cursor-pointer transition-all ${o[j]===O?"bg-accent text-white":"bg-white hover:bg-gray-100"}`,children:[e.jsx("input",{type:"radio",name:`question-${j}`,checked:o[j]===O,onChange:()=>g(j,O),className:"sr-only"}),e.jsx("div",{className:`w-4 h-4 rounded-full border-2 mr-3 flex items-center justify-center ${o[j]===O?"border-white bg-white":"border-gray-300"}`,children:o[j]===O&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-accent"})}),N]},O))})]},j)),e.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[e.jsx("button",{onClick:P,className:"btn-secondary",children:"Back to Article"}),e.jsx("button",{onClick:S,disabled:Object.keys(o).length<t.quiz.length,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit Quiz"})]})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"prose prose-lg max-w-none",children:e.jsx("div",{className:"article-content",dangerouslySetInnerHTML:{__html:t.content||`<h2>${t.title}</h2>
                           <p>${t.description}</p>
                           <p>This lesson content is coming soon! Check back later for detailed educational materials.</p>`}})}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6",children:[e.jsxs("h3",{className:"flex items-center text-lg font-semibold text-blue-900 mb-4",children:[e.jsx("span",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm mr-3",children:"💡"}),"Key Takeaways"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:E(t.id).map((w,j)=>e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-blue-800",children:w})]},j))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:[e.jsxs("h3",{className:"flex items-center text-lg font-semibold text-green-900 mb-4",children:[e.jsx("span",{className:"text-2xl mr-2",children:"🐂"}),"What Bulls Say"]}),e.jsx("div",{className:"space-y-2",children:D(t.id).map((w,j)=>e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-2 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-green-800",children:w})]},j))})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:[e.jsxs("h3",{className:"flex items-center text-lg font-semibold text-red-900 mb-4",children:[e.jsx("span",{className:"text-2xl mr-2",children:"🐻"}),"What Bears Say"]}),e.jsx("div",{className:"space-y-2",children:U(t.id).map((w,j)=>e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mt-2 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-red-800",children:w})]},j))})]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6",children:[e.jsxs("h3",{className:"flex items-center text-lg font-semibold text-gray-900 mb-4",children:[e.jsx("span",{className:"text-2xl mr-2",children:"📰"}),"Recent Market News & Trends",p&&e.jsx("div",{className:"ml-2 w-4 h-4 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"})]}),e.jsx("div",{className:"space-y-3",children:T(t.id).map((w,j)=>e.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 flex-1",children:w.title}),w.url&&e.jsx("a",{href:w.url,target:"_blank",rel:"noopener noreferrer",className:"ml-2 p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Read full article",children:e.jsx(Bs,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:w.summary}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[e.jsx("span",{children:w.source}),e.jsx("span",{children:"•"}),e.jsx("span",{children:w.date})]})]}),e.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ml-4 ${w.sentiment==="positive"?"bg-green-100 text-green-800":w.sentiment==="negative"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:w.sentiment})]})},j))}),T(t.id).length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:e.jsx("p",{children:"Loading latest market news..."})})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>s(null),className:"btn-secondary",children:"Close"}),t.quiz&&e.jsxs("button",{onClick:()=>A(t),className:"btn-primary flex items-center space-x-2",children:[e.jsx($e,{className:"w-4 h-4"}),e.jsx("span",{children:"Take Quiz"})]})]})]})]})})})]})},vo=()=>{const t=se(a=>a.user);se(a=>a.portfolio.portfolios);const s=[{id:1,name:"First Purchase",icon:"🎉",earned:!0,date:"Dec 15, 2024"},{id:2,name:"Day Trader",icon:"⚡",earned:!0,date:"Dec 16, 2024"},{id:3,name:"Diversified",icon:"🌟",earned:!1,date:null},{id:4,name:"Risk Manager",icon:"🛡️",earned:!1,date:null}],r=[{level:1,name:"Paper Trader",completed:!0,performance:25.5},{level:2,name:"Market Explorer",completed:!1,performance:0},{level:3,name:"Strategic Investor",completed:!1,performance:0},{level:4,name:"Advanced Trader",completed:!1,performance:0},{level:5,name:"Portfolio Master",completed:!1,performance:0}];return e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Fs,{className:"w-8 h-8 text-primary"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Profile"}),e.jsx("p",{className:"text-gray-600",children:"Your trading journey and achievements"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(C.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},className:"lg:col-span-1 space-y-6",children:[e.jsxs("div",{className:"card p-6 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-primary rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-3xl text-white font-bold",children:t.username.charAt(0).toUpperCase()})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:t.username}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["Level ",t.currentLevel," Trader"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Points"}),e.jsx("span",{className:"font-semibold",children:t.totalPoints.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Trades"}),e.jsx("span",{className:"font-semibold",children:t.stats.totalTrades})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Success Rate"}),e.jsxs("span",{className:"font-semibold",children:[t.stats.totalTrades>0?Math.round(t.stats.successfulTrades/t.stats.totalTrades*100):0,"%"]})]})]})]}),e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(Ds,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-800",children:"Settings"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Sound Effects"}),e.jsx("div",{className:"w-12 h-6 bg-primary rounded-full flex items-center justify-end px-1",children:e.jsx("div",{className:"w-4 h-4 bg-white rounded-full"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Animations"}),e.jsx("div",{className:"w-12 h-6 bg-primary rounded-full flex items-center justify-end px-1",children:e.jsx("div",{className:"w-4 h-4 bg-white rounded-full"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Notifications"}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full flex items-center justify-start px-1",children:e.jsx("div",{className:"w-4 h-4 bg-white rounded-full"})})]})]})]})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(C.div,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"card p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx($e,{className:"w-6 h-6 text-primary"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Level Progress"})]}),e.jsx("div",{className:"space-y-4",children:r.map((a,n)=>e.jsxs(C.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3+n*.1},className:`flex items-center justify-between p-4 rounded-xl ${a.completed?"bg-green-50 border border-green-200":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${a.completed?"bg-green-500":t.currentLevel===a.level?"bg-primary":"bg-gray-300"}`,children:a.completed?e.jsx("span",{className:"text-white text-sm",children:"✓"}):e.jsx("span",{className:"text-white text-sm font-bold",children:a.level})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-800",children:["Level ",a.level,": ",a.name]}),a.completed&&e.jsxs("p",{className:"text-sm text-green-600",children:["Performance: +",a.performance.toFixed(1),"%"]}),t.currentLevel===a.level&&!a.completed&&e.jsx("p",{className:"text-sm text-primary",children:"Currently Active"})]})]}),a.completed&&e.jsx(at,{className:"w-5 h-5 text-green-500"})]},a.level))})]}),e.jsxs(C.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"card p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(at,{className:"w-6 h-6 text-accent"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Achievements"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map((a,n)=>e.jsx(C.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5+n*.1},className:`p-4 rounded-xl border-2 transition-all ${a.earned?"border-green-300 bg-gradient-to-r from-green-50 to-gray-50":"border-gray-200 bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-2xl",children:a.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`font-semibold ${a.earned?"text-gray-800":"text-gray-500"}`,children:a.name}),a.earned&&a.date&&e.jsxs("p",{className:"text-xs text-gray-600",children:["Earned: ",a.date]})]}),a.earned&&e.jsx("div",{className:"w-6 h-6 bg-accent rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"✓"})})]})},a.id))})]}),e.jsxs(C.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},className:"card p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(re,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Trading Statistics"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.stats.successfulTrades}),e.jsx("p",{className:"text-sm text-gray-600",children:"Profitable Trades"})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-xl",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.stats.longestStreak}),e.jsx("p",{className:"text-sm text-gray-600",children:"Best Streak"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-xl",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:t.stats.daysActive}),e.jsx("p",{className:"text-sm text-gray-600",children:"Days Active"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-xl",children:[e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:R(t.stats.totalReturn)}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Return"})]})]})]})]})]})]})},jo=()=>{const{symbol:t}=Ys(),[s,r]=h.useState(null),[a,n]=h.useState(null),[i,o]=h.useState(!0);h.useEffect(()=>{l()},[t]);const l=async()=>{o(!0);try{const[d,u]=await Promise.all([ke.getQuote(t),ke.getCompanyInfo(t)]);r(d),n(u)}catch(d){console.error("Error loading stock data:",d)}finally{o(!1)}};return i?e.jsx("div",{className:"flex items-center justify-center min-h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s?e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(xe,{to:"/market",className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(aa,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold gradient-text",children:t}),e.jsx("p",{className:"text-gray-600",children:(a==null?void 0:a.companyName)||`${t} Inc.`})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{className:"btn-secondary",children:[e.jsx(qt,{className:"w-4 h-4 mr-2"}),"Watch"]}),e.jsxs(xe,{to:`/trading/${t}`,className:"btn-accent",children:[e.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Trade"]})]})]}),e.jsxs(C.div,{initial:{scale:.95},animate:{scale:1},className:"card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-2",children:R(s.price)}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:`text-lg font-semibold ${de(s.change)}`,children:[s.change>=0?"+":"",R(s.change)]}),e.jsxs("span",{className:`text-lg font-semibold ${de(s.change)}`,children:["(",s.changePercent>=0?"+":"",Zt(s.changePercent/100),")"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Market Status"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm font-medium",children:"Open"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Open"}),e.jsx("p",{className:"font-semibold",children:R(s.open)})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"High"}),e.jsx("p",{className:"font-semibold",children:R(s.high)})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Low"}),e.jsx("p",{className:"font-semibold",children:R(s.low)})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Volume"}),e.jsxs("p",{className:"font-semibold",children:[(s.volume/1e6).toFixed(1),"M"]})]})]})]}),a&&e.jsxs(C.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Company Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"About"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:a.description||"Company description not available."})]}),e.jsxs("div",{className:"space-y-3",children:[a.industry&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Industry: "}),e.jsx("span",{className:"font-medium",children:a.industry})]}),a.sector&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Sector: "}),e.jsx("span",{className:"font-medium",children:a.sector})]}),a.employees&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Employees: "}),e.jsx("span",{className:"font-medium",children:a.employees.toLocaleString()})]}),a.headquarters&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Headquarters: "}),e.jsx("span",{className:"font-medium",children:a.headquarters})]})]})]})]}),e.jsx(C.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"card p-6",children:e.jsx(Rr,{symbol:t,height:400,showControls:!0})}),e.jsxs(C.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},className:"card p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs(xe,{to:`/trading/${t}`,className:"btn-primary flex-1 text-center",children:["Buy ",t]}),e.jsxs(xe,{to:`/trading/${t}`,className:"btn-secondary flex-1 text-center",children:["Sell ",t]})]})]})]}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx("p",{className:"text-xl text-gray-600",children:"Stock not found"}),e.jsx(xe,{to:"/market",className:"text-primary hover:underline mt-4 inline-block",children:"← Back to Market"})]})};function No(){const t=Ae(),{isInitialized:s,isOnboarding:r}=se(a=>a.user);return h.useEffect(()=>{(async()=>{try{if((await t(Xe())).payload)try{await t(Ze())}catch{console.warn("Portfolio API failed, using localStorage"),t(Ie())}else t(ps()),t(Ie())}catch{console.warn("Backend unavailable, using localStorage only"),t(ps()),t(Ie())}t(An()),t(wn())})()},[t]),s?r?e.jsx(In,{}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"flex",children:[e.jsx(Dn,{}),e.jsxs("div",{className:"flex-1 lg:ml-64",children:[e.jsx(Mn,{}),e.jsx("main",{className:"p-4 lg:p-6 pb-20",children:e.jsx(he,{mode:"wait",children:e.jsxs(tn,{children:[e.jsx(ce,{path:"/",element:e.jsx(ds,{to:"/dashboard",replace:!0})}),e.jsx(ce,{path:"/dashboard",element:e.jsx(go,{})}),e.jsx(ce,{path:"/portfolio",element:e.jsx(xo,{})}),e.jsx(ce,{path:"/market",element:e.jsx(yo,{})}),e.jsx(ce,{path:"/market/:symbol",element:e.jsx(jo,{})}),e.jsx(ce,{path:"/trading",element:e.jsx(Rs,{})}),e.jsx(ce,{path:"/trading/:symbol",element:e.jsx(Rs,{})}),e.jsx(ce,{path:"/education",element:e.jsx(bo,{})}),e.jsx(ce,{path:"/profile",element:e.jsx(vo,{})}),e.jsx(ce,{path:"*",element:e.jsx(ds,{to:"/dashboard",replace:!0})})]})})})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white flex items-center justify-center",children:e.jsxs(C.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold gradient-text",children:"Loading Stocky..."}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Preparing your trading adventure"})]})})}const wo={quotes:{},watchlist:[],trending:["AAPL","MSFT","GOOGL","TSLA","AMZN","META","NVDA","NFLX","JPM","JNJ"],searchResults:[],historicalData:{},isLoading:!1,error:null,lastUpdate:null},So=Be({name:"market",initialState:wo,reducers:{setLoading:(t,s)=>{t.isLoading=s.payload},setError:(t,s)=>{t.error=s.payload,t.isLoading=!1},setQuotes:(t,s)=>{t.quotes={...t.quotes,...s.payload},t.lastUpdate=Date.now(),t.error=null},setQuote:(t,s)=>{const{symbol:r,data:a}=s.payload;t.quotes[r]=a,t.lastUpdate=Date.now()},setSearchResults:(t,s)=>{t.searchResults=s.payload},addToWatchlist:(t,s)=>{const r=s.payload.toUpperCase();t.watchlist.includes(r)||t.watchlist.push(r)},removeFromWatchlist:(t,s)=>{const r=s.payload.toUpperCase();t.watchlist=t.watchlist.filter(a=>a!==r)},setWatchlist:(t,s)=>{t.watchlist=s.payload.map(r=>r.toUpperCase())},setHistoricalData:(t,s)=>{const{symbol:r,period:a,data:n}=s.payload;t.historicalData[r]||(t.historicalData[r]={}),t.historicalData[r][a]=n},setTrending:(t,s)=>{t.trending=s.payload},clearSearchResults:t=>{t.searchResults=[]},clearError:t=>{t.error=null},updateMarketStatus:(t,s)=>{t.marketStatus=s.payload}}}),ko=So.reducer,Ms={currentLevel:1,levelStartDate:Date.now(),levelsCompleted:[],objectives:[],unlockedFeatures:["buy","sell","portfolio"],achievements:{badges:[],points:0,pointsHistory:[]},levelProgress:{isComplete:!1,requirements:[],progress:{}},notifications:[],isLevelComplete:!1},Co=Be({name:"game",initialState:Ms,reducers:{initializeGame:t=>{const s=L.getProgress(),r=L.getAchievements();t.currentLevel=s.currentLevel,t.levelStartDate=s.levelStartDate,t.levelsCompleted=s.levelsCompleted,t.objectives=s.objectives,t.unlockedFeatures=s.unlockedFeatures,t.achievements=r,t.levelProgress=Je(t.currentLevel,s)},completeLevel:(t,s)=>{const{level:r,finalValue:a,performance:n,timeToComplete:i}=s.payload,o={level:r,completedAt:Date.now(),finalValue:a,performance:n,timeToComplete:i};if(t.levelsCompleted.push(o),r<5){t.currentLevel=r+1,t.levelStartDate=Date.now();const d=ve[t.currentLevel];t.unlockedFeatures=[...new Set([...t.unlockedFeatures,...d.features])],t.objectives=rt(t.currentLevel),t.levelProgress=Je(t.currentLevel)}t.achievements.points+=500,t.achievements.pointsHistory.push({source:`Level ${r} Completion`,amount:500,timestamp:Date.now()});const l={currentLevel:t.currentLevel,levelStartDate:t.levelStartDate,levelsCompleted:t.levelsCompleted,objectives:t.objectives,unlockedFeatures:t.unlockedFeatures};L.setProgress(l),L.setAchievements(t.achievements),t.isLevelComplete=!0},updateObjectiveProgress:(t,s)=>{const{objectiveId:r,progress:a}=s.payload,n=t.objectives.find(i=>i.id===r);if(n){n.progress=Math.min(a,n.target),n.completed=n.progress>=n.target;const i={currentLevel:t.currentLevel,levelStartDate:t.levelStartDate,levelsCompleted:t.levelsCompleted,objectives:t.objectives,unlockedFeatures:t.unlockedFeatures};L.setProgress(i)}},awardAchievement:(t,s)=>{const r=s.payload,a=vn[r.toUpperCase()];if(a&&!t.achievements.badges.find(n=>n.id===a.id)){const n={...a,earnedAt:Date.now()};t.achievements.badges.push(n),t.achievements.points+=a.points,t.achievements.pointsHistory.push({source:`Achievement: ${a.name}`,amount:a.points,timestamp:Date.now()}),t.notifications.push({id:Date.now(),type:"achievement",title:"Achievement Unlocked!",message:`${a.name}: ${a.description}`,icon:a.icon,timestamp:Date.now()}),L.setAchievements(t.achievements)}},addNotification:(t,s)=>{const r={id:Date.now(),timestamp:Date.now(),...s.payload};t.notifications.unshift(r),t.notifications.length>20&&(t.notifications=t.notifications.slice(0,20))},removeNotification:(t,s)=>{const r=s.payload;t.notifications=t.notifications.filter(a=>a.id!==r)},clearNotifications:t=>{t.notifications=[]},resetLevelCompletion:t=>{t.isLevelComplete=!1},skipToLevel:(t,s)=>{const r=s.payload;if(r>=1&&r<=5){t.currentLevel=r,t.levelStartDate=Date.now();const a=new Set(["buy","sell","portfolio"]);for(let i=1;i<=r;i++)ve[i].features.forEach(l=>a.add(l));t.unlockedFeatures=Array.from(a),t.objectives=rt(r),t.levelProgress=Je(r);const n={currentLevel:t.currentLevel,levelStartDate:t.levelStartDate,levelsCompleted:t.levelsCompleted,objectives:t.objectives,unlockedFeatures:t.unlockedFeatures};L.setProgress(n)}},resetProgress:t=>{Object.assign(t,{...Ms,achievements:t.achievements,objectives:rt(1),levelProgress:Je(1)}),L.resetProgress()}}});function rt(t){const s=ve[t],r=[{id:"portfolio_value",description:`Reach portfolio value of ${s.winCondition}`,progress:0,target:s.winCondition,completed:!1}];switch(t){case 1:r.push({id:"complete_trades",description:"Complete 5 successful trades",progress:0,target:5,completed:!1});break;case 2:r.push({id:"diversify_stocks",description:"Own stocks from 3 different companies",progress:0,target:3,completed:!1});break;case 3:r.push({id:"use_stop_loss",description:"Use stop-loss orders 3 times",progress:0,target:3,completed:!1});break;case 4:r.push({id:"short_trade",description:"Complete 1 successful short trade",progress:0,target:1,completed:!1});break;case 5:r.push({id:"portfolio_diversity",description:"Maintain positions in 5+ different sectors",progress:0,target:5,completed:!1});break}return r}function Je(t,s=null){const r=(s==null?void 0:s.objectives)||rt(t),a=r.filter(i=>i.completed).length,n=r.length;return{isComplete:a===n,requirements:r,progress:{completed:a,total:n,percentage:n>0?a/n*100:0}}}const Po=Co.reducer,To=$r({reducer:{user:Sn,portfolio:Tn,market:ko,game:Po,tutorial:Rn},middleware:t=>t({serializableCheck:{ignoredActions:["user/setUser","portfolio/setPortfolio","market/setQuotes","game/setProgress"],ignoredPaths:["user.lastLogin","portfolio.transactions.timestamp"]}}),devTools:!1});At.createRoot(document.getElementById("root")).render(e.jsx(Fr.StrictMode,{children:e.jsx(Ur,{store:To,children:e.jsxs(dn,{basename:"/stocky",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[e.jsx(No,{}),e.jsx(_r,{position:"top-right",toastOptions:{duration:4e3,style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(8px)",border:"1px solid rgba(94, 177, 191, 0.2)",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",fontSize:"14px",fontWeight:"500"},success:{iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{iconTheme:{primary:"#D84727",secondary:"#fff"}}}})]})})}));
